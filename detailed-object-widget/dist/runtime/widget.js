System.register(["jimu-core","jimu-core/react","jimu-arcgis"],(function(t,e){var o={},n={},i={};return{setters:[function(t){o.LinkType=t.LinkType,o.jimuHistory=t.jimuHistory,o.jsx=t.jsx},function(t){n.createContext=t.createContext,n.useCallback=t.useCallback,n.useContext=t.useContext,n.useEffect=t.useEffect,n.useMemo=t.useMemo,n.useRef=t.useRef,n.useState=t.useState},function(t){i.loadArcGISJSAPIModules=t.loadArcGISJSAPIModules}],execute:function(){t((()=>{var t={90856:(t,e,o)=>{"use strict";o.d(e,{Z:()=>s});var n=o(8081),i=o.n(n),a=o(23645),r=o.n(a)()(i());r.push([t.id,'.widget-detailed-object{display:flex;flex-direction:column;align-items:center;width:100%;height:100%;background-color:#f8f9fa;overflow-y:auto;overflow-x:hidden}.unauthorized-container{display:flex;align-items:center;justify-content:center;width:100%;min-height:100vh;padding:40px 20px;background-color:#f8f9fa}.unauthorized-content{background:#fff;border-radius:24px;padding:60px 50px;max-width:600px;width:100%;box-shadow:0 2px 8px rgba(0,0,0,.1);text-align:center;border:1px solid #e7e5e6;animation:fadeIn .4s ease-out}@keyframes fadeIn{from{opacity:0;transform:translateY(10px)}to{opacity:1;transform:translateY(0)}}.unauthorized-icon{width:72px;height:72px;color:#f33;margin:0 auto 24px;flex-shrink:0}.unauthorized-title{font-size:28px;font-weight:700;color:#333;margin:0 0 16px 0;letter-spacing:-0.3px}.unauthorized-message{font-size:16px;color:#666;margin:0 0 32px 0;line-height:1.6}.unauthorized-details{background:#f8f9fa;border-radius:12px;padding:24px 28px;text-align:left;border:1px solid #e7e5e6}.unauthorized-details p{font-size:16px;font-weight:600;color:#333;margin:0 0 12px 0}.unauthorized-details ul{list-style:none;padding:0;margin:0}.unauthorized-details li{font-size:15px;color:#666;padding:8px 0;padding-left:28px;position:relative;line-height:1.5}.unauthorized-details li:before{content:"•";position:absolute;left:10px;color:#0067ff;font-weight:bold;font-size:18px}@media(max-width: 768px){.unauthorized-container{padding:20px}.unauthorized-content{padding:40px 30px;border-radius:20px}.unauthorized-icon{width:60px;height:60px}.unauthorized-title{font-size:24px}.unauthorized-message{font-size:15px}.unauthorized-details{padding:20px 24px}}.widget-detailed-object .mainContent{width:100%;padding:32px;display:flex;flex-direction:column;flex-grow:1}.widget-detailed-object .top_container{display:flex;gap:16px;align-items:center;margin-bottom:20px}.widget-detailed-object .top_container h2{font-size:24px;font-weight:700;margin:0}.widget-detailed-object .back-button{width:40px;height:40px;border-radius:8px;border:1px solid #e7e5e6;background-color:#fff;display:flex;align-items:center;justify-content:center;cursor:pointer;transition:all .2s;flex-shrink:0;color:#333}.widget-detailed-object .back-button:hover{background-color:#f8f9fa;border-color:#0067ff;color:#0067ff}.widget-detailed-object .back-button:active{transform:scale(0.95)}.widget-detailed-object .object_content{width:100%;height:fit-content;background-color:#fff;border-radius:24px;display:flex;flex-direction:column;box-shadow:0 2px 8px rgba(0,0,0,.1)}.widget-detailed-object .hidden{display:none}.widget-detailed-object .active{display:block}.widget-detailed-object .error{color:#f33;padding:20px}.object-navigation-container{width:100%;border-bottom:1px solid #e7e5e6;display:flex;flex-direction:row;justify-content:space-between;align-items:center;height:fit-content;padding-top:16px;padding-left:20px;padding-right:20px;gap:24px}.object-navigation-container .left-section{display:flex;gap:0}.object-navigation-container .nav-btn{height:48px;background:none;border:none;border-bottom:3px solid rgba(0,0,0,0);display:flex;gap:8px;align-items:center;cursor:pointer;padding:0 16px;font-size:18px;font-weight:600;color:#666;transition:all .2s;position:relative}.object-navigation-container .nav-btn svg{width:20px;height:20px;flex-shrink:0}.object-navigation-container .nav-btn:hover{color:#333}.object-navigation-container .nav-btn.active{border-bottom:1px solid #0067ff;color:#0067ff}.object-navigation-container .delete-image-btn{width:36px;height:36px;display:flex;align-items:center;justify-content:center;cursor:pointer;background:none;border:none;border-radius:6px;transition:all .2s;color:#666}.object-navigation-container .delete-image-btn svg{width:20px;height:20px}.object-navigation-container .delete-image-btn:hover{background-color:#fee;color:#f33}.object-navigation-container .delete-image-btn:disabled{opacity:.5;cursor:not-allowed}.progress-bar-container{box-sizing:border-box;margin:20px;margin-top:28px;position:relative;border:1px solid #e7e5e6;border-radius:16px;height:120px;background-color:#fff}.progress-bar-container .progress-line,.progress-bar-container .progress-line-filled{position:absolute;box-sizing:border-box}.progress-bar-container .progress-line{background-color:#e0e0e0;z-index:1;top:70%;left:5%;right:5%;height:2px}.progress-bar-container .progress-line-filled{background-color:#0067ff;z-index:2;top:70%;left:5%;height:2px}.progress-bar-container .step{position:absolute;box-sizing:border-box;display:flex;align-items:center;gap:8px;z-index:3;bottom:20%;transform:translateX(-50%);flex-direction:column;width:220px}.progress-bar-container .step-label{color:#9e9e9e;font-size:16px;font-weight:600;text-align:center;width:100%;line-height:1.3;min-height:2.6em}.progress-bar-container .step-label.pending{color:#ffb266;font-weight:700}.progress-bar-container .step-label.refused{color:#f33;font-weight:700}.progress-bar-container .step-label.success{color:#0067ff;font-weight:700}.progress-bar-container .step-icon{width:24px;height:24px;flex-shrink:0}.progress-bar-container .step-0{left:5%}.progress-bar-container .step-1{left:27.5%}.progress-bar-container .step-2{left:50%}.progress-bar-container .step-3{left:72.5%}.progress-bar-container .step-4{left:95%}.info-container{display:flex;gap:20px;padding:20px;flex-wrap:wrap;align-items:stretch}.object-text-info{flex:1;min-width:350px;padding:0;display:flex;flex-direction:column}.object-text-info .info-card{background:#fff;border-radius:12px;border:1px solid #e7e5e6;padding:0;overflow:hidden;height:100%;display:flex;flex-direction:column}.object-text-info .info-header{padding:20px 20px 16px 20px;border-bottom:1px solid #f0f0f0}.object-text-info .info-header h2{font-size:22px;font-weight:bold;margin:0;color:#333}.object-text-info .info-row{display:flex;justify-content:space-between;align-items:center;padding:16px 20px;border-bottom:1px solid #f0f0f0;transition:background-color .2s}.object-text-info .info-row:last-child{border-bottom:none}.object-text-info .info-row:hover{background-color:#f8f9fa}.object-text-info .info-label{display:flex;align-items:center;gap:12px;color:#495057;font-size:15px;font-weight:500;flex:1}.object-text-info .info-icon{flex-shrink:0;width:20px;height:20px}.object-text-info .info-value{color:#212529;font-size:15px;font-weight:600;text-align:right;max-width:50%;word-break:break-word}.geo-info{flex:1;min-width:300px;display:flex;flex-direction:column}.geo-info .map-container{width:100%;height:100%;min-height:500px;border-radius:12px;border:1px solid #e7e5e6;overflow:hidden;flex:1}.calculate-container{padding:20px}.calculation-container{display:grid;gap:20px;align-items:start}.calculation-container.three-columns{grid-template-columns:repeat(3, 1fr)}.calculation-container.two-columns{grid-template-columns:repeat(2, 1fr)}@media(max-width: 1200px){.calculation-container.three-columns,.calculation-container.two-columns{grid-template-columns:1fr}}.calculate-files,.calculate-stats,.volumes-card{border:1px solid #e7e5e6;border-radius:12px;padding:20px;background-color:#fff}.calculate-files,.volumes-card{display:flex;flex-direction:column}.calculate-files h4,.calculate-stats h4,.volumes-card h4{font-size:18px;font-weight:700;margin:0 0 16px 0;color:#333}.calculate-files h5{font-size:16px;font-weight:600;margin:16px 0 10px 0;color:#333}.calculate-files h5:first-of-type{margin-top:0}.upload-top-container{display:flex;justify-content:space-between;align-items:center;margin-bottom:10px}.upload-top-container h5{margin:0;flex:1}.calendar-container{flex-shrink:0}.calendar-container input[type=date]{padding:8px 12px;border:1px solid #e7e5e6;border-radius:6px;font-size:14px;color:#333;background-color:#fff;cursor:pointer}.file-container{display:flex;justify-content:space-between;align-items:center;padding:12px 16px;background-color:rgba(230,240,255,.4);border-radius:8px;margin-bottom:10px;transition:background-color .2s}.file-container:hover{background-color:#eef5ff}.file-container>div{display:flex;align-items:center;gap:12px;flex:1;min-width:0}.file-container>div span{color:#333;font-size:15px;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.file-icon{font-size:20px;width:20px;height:20px;flex-shrink:0;color:#666}.download-btn{display:flex;align-items:center;gap:6px;padding:2px 8px;background-color:rgba(0,0,0,0);color:#333;border:1px solid #eee;border-radius:6px;cursor:pointer;font-size:14px;font-weight:500;transition:all .2s;flex-shrink:0}.download-btn svg{width:16px;height:16px}.download-btn:hover{background-color:#0067ff;color:#fff;border:1px solid #0067ff}.download-btn:disabled{opacity:.5;cursor:not-allowed}.calculate-btn{display:flex;align-items:center;justify-content:center;gap:6px;padding:10px 20px;background-color:#0067ff;color:#fff;border:none;border-radius:6px;cursor:pointer;font-size:15px;font-weight:500;transition:all .2s;width:100%;margin-top:12px}.calculate-btn:hover:not(:disabled){background-color:#0056d6}.calculate-btn:disabled{cursor:not-allowed;opacity:.6}.import-file-label{display:flex;flex-direction:column;align-items:center;justify-content:center;padding:40px;border:2px dashed #b8d4ff;border-radius:12px;cursor:pointer;text-align:center;background-color:#f0f7ff;transition:all .3s}.import-file-label:hover{border-color:#0067ff;background-color:#e8f2ff}.import-file-label .main-text{font-size:16px;font-weight:600;margin:8px 0;color:#000}.import-file-label .secondary-text{font-size:12px;color:#999}.calculate-btn{width:100%;justify-content:center;margin-top:16px}.calculate-stats{display:flex;flex-direction:column;gap:0}.stats-result,.stats-mining,.stats-difference{padding:16px 0;border-bottom:1px solid #e7e5e6}.stats-result:first-child{padding-top:0}.stats-difference{border-bottom:none;padding-bottom:0}.stats-result h4,.stats-mining h4{font-size:18px;font-weight:700;margin:0 0 12px 0;color:#333}.result-container{display:flex;justify-content:space-between;align-items:center}.result-date{font-size:14px;color:#666}.result-value{font-size:20px;font-weight:700;color:#0067ff}.mining-values{margin-bottom:12px}.mining-container{display:flex;justify-content:space-between;align-items:center;padding:8px 0}.mining-date{font-size:14px;color:#666}.mining-date.empty{background-color:#e9ecef;height:18px;width:200px;border-radius:4px;animation:pulse 1.5s ease-in-out infinite}.mining-value{font-size:15px;font-weight:600;color:#333}.mining-value.empty{background-color:#e9ecef;height:18px;width:80px;border-radius:4px;animation:pulse 1.5s ease-in-out infinite}@keyframes pulse{0%,100%{opacity:1}50%{opacity:.5}}.mining-overall{display:flex;justify-content:space-between;align-items:center;padding-top:12px;border-top:1px solid #e7e5e6}.overall-name{font-size:16px;font-weight:700;margin:0;color:#333}.overall-value{font-size:16px;font-weight:700;color:#0067ff}.stats-difference{display:flex;justify-content:space-between;align-items:center}.difference-name{font-size:18px;font-weight:700;margin:0;color:#333}.difference-value{font-size:20px;font-weight:700;color:#f33}.volumes-card .section{margin:0;padding:12px 0;border-bottom:1px solid #e7e5e6;display:flex;flex-direction:column}.volumes-card .section:last-child{border-bottom:none;padding-bottom:0}.volumes-card .section:first-child{padding-top:0}.volumes-card .section-header{display:flex;justify-content:space-between;align-items:flex-start;margin-bottom:8px;line-height:1.3;padding:0}.volumes-card .section-header h5{font-size:16px;font-weight:600;margin:0;padding:0;color:#333;line-height:1.3;flex:1}.volumes-card .info-icon{font-size:16px;cursor:pointer;color:#999;transition:color .2s;flex-shrink:0;margin-left:8px}.volumes-card .info-icon:hover{color:#0067ff}.volumes-card .row{display:flex;justify-content:space-between;align-items:baseline;padding:4px 0;margin:0;font-size:15px;line-height:1.3;gap:16px}.volumes-card .row span:first-child{color:#212529;font-weight:600;flex-shrink:0;margin:0;padding:0}.volumes-card .row span:last-child{font-weight:600;color:#333;text-align:right;flex-shrink:0;white-space:nowrap;margin:0;padding:0}.volumes-card .short-line{border-top:1px solid #e7e5e6;margin:6px 0}.volumes-card .long-line{border-top:1px solid #e7e5e6;margin:12px 0}.volumes-card .total-row{display:flex;justify-content:space-between;align-items:baseline;padding:4px 0;padding-top:6px;margin:0;font-size:15px;line-height:1.3;gap:16px}.volumes-card .total-row span:first-child{color:#212529;font-weight:600;flex-shrink:1;margin:0;padding:0}.volumes-card .total-row .total-value{font-size:16px;font-weight:700;color:#0067ff;text-align:right;flex-shrink:0;white-space:nowrap;margin:0;padding:0}.volumes-card .file-container{margin-top:16px}.visualization{margin-top:20px;border:1px solid #e7e5e6;border-radius:12px;padding:20px;background-color:#fff}.visualization-container{position:relative;width:100%}.visualization .download-button-small{position:absolute;bottom:16px;left:16px;width:auto;height:auto;padding:14px 24px;background-color:#0067ff;color:#fff;border:none;border-radius:8px;cursor:pointer;display:flex;align-items:center;justify-content:center;font-size:14px;font-weight:500;z-index:10}.visualization .download-button-small:disabled{background-color:#ccc;cursor:not-allowed;transform:none;box-shadow:none}.visualization .download-button-small svg{width:16px;height:16px}.visualization .download-button{width:100%;padding:12px;background-color:#0067ff;color:#fff;border:none;border-radius:8px;cursor:pointer;font-size:14px;margin-bottom:16px;transition:background-color .3s}.visualization .download-button:hover{background-color:#0056d6}.visualization .download-button:disabled{background-color:#ccc;cursor:not-allowed}.object-docs{padding:20px}.date-group{margin-bottom:24px}.date-title{font-size:18px;font-weight:700;margin-bottom:12px;color:#333}.doc-container{margin-bottom:12px}.doc-file{display:flex;justify-content:space-between;align-items:center;padding:12px;border:1px solid #e7e5e6;border-radius:8px;background-color:#f8f9fa}.doc-file-content{display:flex;align-items:center;gap:8px}.doc-file-button{display:flex;align-items:center;gap:6px;padding:8px 16px;background-color:#0067ff;color:#fff;border:none;border-radius:8px;cursor:pointer;font-size:15px;transition:background-color .3s}.doc-file-button:hover{background-color:#0056d6}.modal-overlay{position:fixed;top:0;left:0;right:0;bottom:0;background-color:rgba(0,0,0,.4);display:flex;align-items:center;justify-content:center;z-index:9999}.modal-content{background-color:#fff;border-radius:16px;padding:32px;max-width:480px;width:90%;box-shadow:0 8px 32px rgba(0,0,0,.12)}.modal-content h3{font-size:20px;font-weight:600;margin-bottom:12px;color:#1a1a1a;text-align:center}.modal-content p{font-size:15px;color:#666;margin-bottom:28px;line-height:1.6;text-align:center}.modal-buttons{display:flex;gap:12px;justify-content:center}.btn-delete,.btn-cancel,.close-btn{padding:12px 32px;border:none;border-radius:10px;cursor:pointer;font-size:15px;font-weight:600;transition:all .2s;min-width:120px}.btn-delete{background-color:#f44;color:#fff}.btn-delete:hover{background-color:#f22;transform:translateY(-1px)}.btn-cancel,.close-btn{background-color:#f5f5f5;color:#333}.btn-cancel:hover,.close-btn:hover{background-color:#e8e8e8}.volumes-info-modal{background-color:#fff;border-radius:20px;padding:32px;max-width:460px;width:90%;box-shadow:0 8px 32px rgba(0,0,0,.12);display:flex;flex-direction:column;align-items:center}.volumes-info-title{font-size:20px;font-weight:600;margin:0 0 24px 0;color:#1a1a1a;text-align:center}.volumes-info-image{width:100%;margin-bottom:24px;border-radius:10px;overflow:hidden}.volumes-info-image img{width:100%;height:auto;display:block}.volumes-info-description{font-size:14px;color:#666;margin:0 0 24px 0;line-height:1.5;text-align:center}.volumes-info-close-btn{padding:12px 40px;border:none;border-radius:10px;cursor:pointer;font-size:15px;font-weight:600;background-color:#0067ff;color:#fff;min-width:140px}.snackbar,.upload-snackbar,.error-snackbar{position:fixed;bottom:20px;right:20px;padding:16px 24px;background-color:#333;color:#fff;border-radius:8px;box-shadow:0 4px 12px rgba(0,0,0,.3);z-index:9998;display:flex;align-items:center;gap:12px}.upload-snackbar.success{background-color:#28a745}.upload-snackbar.error{background-color:#f33}.error-snackbar{background-color:#f33}.snackbar button,.upload-snackbar button,.error-snackbar button{background-color:rgba(0,0,0,0);border:1px solid #fff;color:#fff;padding:6px 12px;border-radius:4px;cursor:pointer;font-size:12px}.snackbar button:hover,.upload-snackbar button:hover,.error-snackbar button:hover{background-color:rgba(255,255,255,.2)}.loading,.no-files,.loading-container{padding:40px;text-align:center;color:#6e7275}.loading-text{font-size:16px;color:#6e7275}@media(max-width: 768px){.info-container{flex-direction:column}.progress-bar-container{height:400px}.progress-bar-container .progress-line{top:5%;left:10%;width:2px;height:90%}.progress-bar-container .progress-line-filled{top:5%;left:10%;width:2px}.progress-bar-container .step{left:calc(10% - 12px);transform:translateY(-50%);flex-direction:row;width:auto}.progress-bar-container .step-0{top:5%}.progress-bar-container .step-1{top:27.5%}.progress-bar-container .step-2{top:50%}.progress-bar-container .step-3{top:72.5%}.progress-bar-container .step-4{top:95%}}',""]);const s=r},23645:t=>{"use strict";t.exports=function(t){var e=[];return e.toString=function(){return this.map((function(e){var o="",n=void 0!==e[5];return e[4]&&(o+="@supports (".concat(e[4],") {")),e[2]&&(o+="@media ".concat(e[2]," {")),n&&(o+="@layer".concat(e[5].length>0?" ".concat(e[5]):""," {")),o+=t(e),n&&(o+="}"),e[2]&&(o+="}"),e[4]&&(o+="}"),o})).join("")},e.i=function(t,o,n,i,a){"string"==typeof t&&(t=[[null,t,void 0]]);var r={};if(n)for(var s=0;s<this.length;s++){var l=this[s][0];null!=l&&(r[l]=!0)}for(var u=0;u<t.length;u++){var c=[].concat(t[u]);n&&r[c[0]]||(void 0!==a&&(void 0===c[5]||(c[1]="@layer".concat(c[5].length>0?" ".concat(c[5]):""," {").concat(c[1],"}")),c[5]=a),o&&(c[2]?(c[1]="@media ".concat(c[2]," {").concat(c[1],"}"),c[2]=o):c[2]=o),i&&(c[4]?(c[1]="@supports (".concat(c[4],") {").concat(c[1],"}"),c[4]=i):c[4]="".concat(i)),e.push(c))}},e}},8081:t=>{"use strict";t.exports=function(t){return t[1]}},93379:t=>{"use strict";var e=[];function o(t){for(var o=-1,n=0;n<e.length;n++)if(e[n].identifier===t){o=n;break}return o}function n(t,n){for(var a={},r=[],s=0;s<t.length;s++){var l=t[s],u=n.base?l[0]+n.base:l[0],c=a[u]||0,d="".concat(u," ").concat(c);a[u]=c+1;var p=o(d),f={css:l[1],media:l[2],sourceMap:l[3],supports:l[4],layer:l[5]};if(-1!==p)e[p].references++,e[p].updater(f);else{var x=i(f,n);n.byIndex=s,e.splice(s,0,{identifier:d,updater:x,references:1})}r.push(d)}return r}function i(t,e){var o=e.domAPI(e);return o.update(t),function(e){if(e){if(e.css===t.css&&e.media===t.media&&e.sourceMap===t.sourceMap&&e.supports===t.supports&&e.layer===t.layer)return;o.update(t=e)}else o.remove()}}t.exports=function(t,i){var a=n(t=t||[],i=i||{});return function(t){t=t||[];for(var r=0;r<a.length;r++){var s=o(a[r]);e[s].references--}for(var l=n(t,i),u=0;u<a.length;u++){var c=o(a[u]);0===e[c].references&&(e[c].updater(),e.splice(c,1))}a=l}}},90569:t=>{"use strict";var e={};t.exports=function(t,o){var n=function(t){if(void 0===e[t]){var o=document.querySelector(t);if(window.HTMLIFrameElement&&o instanceof window.HTMLIFrameElement)try{o=o.contentDocument.head}catch(t){o=null}e[t]=o}return e[t]}(t);if(!n)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");n.appendChild(o)}},19216:t=>{"use strict";t.exports=function(t){var e=document.createElement("style");return t.setAttributes(e,t.attributes),t.insert(e,t.options),e}},3565:(t,e,o)=>{"use strict";t.exports=function(t){var e=o.nc;e&&t.setAttribute("nonce",e)}},7795:t=>{"use strict";t.exports=function(t){if("undefined"==typeof document)return{update:function(){},remove:function(){}};var e=t.insertStyleElement(t);return{update:function(o){!function(t,e,o){var n="";o.supports&&(n+="@supports (".concat(o.supports,") {")),o.media&&(n+="@media ".concat(o.media," {"));var i=void 0!==o.layer;i&&(n+="@layer".concat(o.layer.length>0?" ".concat(o.layer):""," {")),n+=o.css,i&&(n+="}"),o.media&&(n+="}"),o.supports&&(n+="}");var a=o.sourceMap;a&&"undefined"!=typeof btoa&&(n+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(a))))," */")),e.styleTagTransform(n,t,e.options)}(e,t,o)},remove:function(){!function(t){if(null===t.parentNode)return!1;t.parentNode.removeChild(t)}(e)}}}},44589:t=>{"use strict";t.exports=function(t,e){if(e.styleSheet)e.styleSheet.cssText=t;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(t))}}},26826:t=>{"use strict";t.exports=i},48891:t=>{"use strict";t.exports=o},51315:t=>{"use strict";t.exports=n}},e={};function a(o){var n=e[o];if(void 0!==n)return n.exports;var i=e[o]={id:o,exports:{}};return t[o](i,i.exports,a),i.exports}a.n=t=>{var e=t&&t.__esModule?()=>t.default:()=>t;return a.d(e,{a:e}),e},a.d=(t,e)=>{for(var o in e)a.o(e,o)&&!a.o(t,o)&&Object.defineProperty(t,o,{enumerable:!0,get:e[o]})},a.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),a.r=t=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},a.p="",a.nc=void 0;var r={};return a.p=window.jimuConfig.baseUrl,(()=>{"use strict";a.r(r),a.d(r,{__set_webpack_public_path__:()=>it,default:()=>nt});var t=a(48891),e=a(51315),o=function(t,e,o,n){return new(o||(o=Promise))((function(i,a){function r(t){try{l(n.next(t))}catch(t){a(t)}}function s(t){try{l(n.throw(t))}catch(t){a(t)}}function l(t){var e;t.done?i(t.value):(e=t.value,e instanceof o?e:new o((function(t){t(e)}))).then(r,s)}l((n=n.apply(t,e||[])).next())}))};const n=new class{constructor(t=""){this.baseURL="https://geomodul.cmspace.uz/api"}buildURL(t,e){const o=t.startsWith("http")?t:`${this.baseURL}${t}`;if(!e)return o;const n=new URLSearchParams;Object.entries(e).forEach((([t,e])=>{null!=e&&n.append(t,String(e))}));const i=n.toString();return i?`${o}?${i}`:o}get(t){return o(this,arguments,void 0,(function*(t,e={}){const{params:o,headers:n={},responseType:i="json",signal:a}=e,r=this.buildURL(t,o),s=localStorage.getItem("authToken"),l=Object.assign({},n);s&&(l.Authorization=`Bearer ${s}`);const u=yield fetch(r,{method:"GET",headers:l,signal:a});if(!u.ok){if(u.status,401===u.status)throw new Error("UNAUTHORIZED");throw new Error(`HTTP error! status: ${u.status}`)}let c;return c="blob"===i?yield u.blob():"text"===i?yield u.text():yield u.json(),{data:c,status:u.status,statusText:u.statusText,headers:u.headers}}))}post(t,e){return o(this,arguments,void 0,(function*(t,e,o={}){const{params:n,headers:i={},signal:a}=o,r=this.buildURL(t,n),s=localStorage.getItem("authToken"),l=Object.assign({},i);s&&(l.Authorization=`Bearer ${s}`);const u=e instanceof FormData;u||l["Content-Type"]||(l["Content-Type"]="application/json");const c=yield fetch(r,{method:"POST",headers:u?{Authorization:l.Authorization||""}:l,body:u?e:JSON.stringify(e),signal:a});if(!c.ok){if(c.status,401===c.status)throw new Error("UNAUTHORIZED");throw new Error(`HTTP error! status: ${c.status}`)}return{data:yield c.json(),status:c.status,statusText:c.statusText,headers:c.headers}}))}delete(t){return o(this,arguments,void 0,(function*(t,e={}){const{params:o,headers:n={},signal:i}=e,a=this.buildURL(t,o),r=localStorage.getItem("authToken"),s=Object.assign({},n);r&&(s.Authorization=`Bearer ${r}`);const l=yield fetch(a,{method:"DELETE",headers:s,signal:i});if(!l.ok){if(l.status,401===l.status)throw new Error("UNAUTHORIZED");throw new Error(`HTTP error! status: ${l.status}`)}let u;try{u=yield l.json()}catch(t){u=null}return{data:u,status:l.status,statusText:l.statusText,headers:l.headers}}))}},i=n;function s(t){const[o,n]=(0,e.useState)(null),[a,r]=(0,e.useState)(!0),[s,l]=(0,e.useState)(null),[u,c]=(0,e.useState)(!1);return(0,e.useEffect)((()=>{t&&(()=>{var e,o,a,s;e=this,o=void 0,s=function*(){r(!0),l(null),c(!1);try{const e=yield(t=>{return e=void 0,o=void 0,a=function*(){try{return(yield i.get("/v1/object-details",{params:{object_id:t,limit:1,page:1}})).data}catch(t){throw t}},new((n=void 0)||(n=Promise))((function(t,i){function r(t){try{l(a.next(t))}catch(t){i(t)}}function s(t){try{l(a.throw(t))}catch(t){i(t)}}function l(e){var o;e.done?t(e.value):(o=e.value,o instanceof n?o:new n((function(t){t(o)}))).then(r,s)}l((a=a.apply(e,o||[])).next())}));var e,o,n,a})(Number(t));n(e.results[0]||null)}catch(t){"UNAUTHORIZED"===t.message?(c(!0),l("UNAUTHORIZED")):l("Ошибка при загрузке данных объекта."+t)}finally{r(!1)}},new((a=void 0)||(a=Promise))((function(t,n){function i(t){try{l(s.next(t))}catch(t){n(t)}}function r(t){try{l(s.throw(t))}catch(t){n(t)}}function l(e){var o;e.done?t(e.value):(o=e.value,o instanceof a?o:new a((function(t){t(o)}))).then(i,r)}l((s=s.apply(e,o||[])).next())}))})()}),[t]),{objectDetails:o,loading:a,error:s,isUnauthorized:u}}const l=(0,e.createContext)(null);const u=t=>{return e=void 0,o=void 0,a=function*(){return(yield i.get("/v1/object-summary",{params:{object_id:t}})).data},new((n=void 0)||(n=Promise))((function(t,i){function r(t){try{l(a.next(t))}catch(t){i(t)}}function s(t){try{l(a.throw(t))}catch(t){i(t)}}function l(e){var o;e.done?t(e.value):(o=e.value,o instanceof n?o:new n((function(t){t(o)}))).then(r,s)}l((a=a.apply(e,o||[])).next())}));var e,o,n,a};const c=({objectId:o,children:n})=>{const{data:i,loading:a,error:r}=function(t){const[o,n]=(0,e.useState)(null),[i,a]=(0,e.useState)(!0),[r,s]=(0,e.useState)(null);return(0,e.useEffect)((()=>{t&&(()=>{var e,o,i,r;e=this,o=void 0,r=function*(){a(!0),s(null);try{const e=yield u(Number(t));n(e)}catch(t){s("Ошибка при загрузке summary: "+t.message)}finally{a(!1)}},new((i=void 0)||(i=Promise))((function(t,n){function a(t){try{l(r.next(t))}catch(t){n(t)}}function s(t){try{l(r.throw(t))}catch(t){n(t)}}function l(e){var o;e.done?t(e.value):(o=e.value,o instanceof i?o:new i((function(t){t(o)}))).then(a,s)}l((r=r.apply(e,o||[])).next())}))})()}),[t]),{data:o,loading:i,error:r}}(o),s=(0,e.useMemo)((()=>{var t;return{summary:null!=i?i:null,imageId:null!==(t=null==i?void 0:i.image_id)&&void 0!==t?t:null,loading:a,error:r}}),[i,a,r]);return(0,t.jsx)(l.Provider,{value:s},n)},d=()=>{const t=(0,e.useContext)(l);if(!t)throw new Error("useSummaryContext must be used within SummaryProvider");return t},p=({isOpen:e,onClose:o,onConfirm:n})=>e?(0,t.jsx)("div",{className:"modal-overlay",onClick:o},(0,t.jsx)("div",{className:"modal-content",onClick:t=>t.stopPropagation()},(0,t.jsx)("h3",null,"Удаление данных"),(0,t.jsx)("p",null,"Вы действительно хотите удалить данные расчёта?"),(0,t.jsx)("div",{className:"modal-buttons"},(0,t.jsx)("button",{className:"btn-delete",onClick:n},"Удалить"),(0,t.jsx)("button",{className:"btn-cancel",onClick:o},"Отменить")))):null;const f=({active:o,setActive:n})=>{const{imageId:a}=d(),[r,s]=(0,e.useState)(!1),[l,u]=(0,e.useState)(!1);return(0,t.jsx)("div",null,(0,t.jsx)("div",{className:"object-navigation-container"},(0,t.jsx)("div",{className:"left-section"},(0,t.jsx)("button",{className:"nav-btn "+("info"===o?"active":""),onClick:()=>n("info")},(0,t.jsx)("svg",{width:"20",height:"20",viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg"},(0,t.jsx)("path",{d:"M15.5 2.5L4.5 2.5C3.39543 2.5 2.5 3.39543 2.5 4.5L2.5 15.5C2.5 16.6046 3.39543 17.5 4.5 17.5H15.5C16.6046 17.5 17.5 16.6046 17.5 15.5V4.5C17.5 3.39543 16.6046 2.5 15.5 2.5Z",stroke:"currentColor","stroke-width":"1.5","stroke-linecap":"round","stroke-linejoin":"round"}),(0,t.jsx)("path",{d:"M5.83301 5.83334L14.1663 5.83334",stroke:"currentColor","stroke-width":"1.5","stroke-linecap":"round","stroke-linejoin":"round"}),(0,t.jsx)("path",{d:"M5.83301 10L14.1663 10",stroke:"currentColor","stroke-width":"1.5","stroke-linecap":"round","stroke-linejoin":"round"}),(0,t.jsx)("path",{d:"M5.83301 14.1667L10.833 14.1667",stroke:"currentColor","stroke-width":"1.5","stroke-linecap":"round","stroke-linejoin":"round"})),(0,t.jsx)("span",null,"Информация об объекте")),(0,t.jsx)("button",{className:"nav-btn "+("calculate"===o?"active":""),onClick:()=>n("calculate")},(0,t.jsx)("svg",{width:"20",height:"20",viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg"},(0,t.jsx)("path",{d:"M13.333 13.3333L13.333 6.66666",stroke:"currentColor","stroke-width":"1.5","stroke-linecap":"round","stroke-linejoin":"round"}),(0,t.jsx)("path",{d:"M10 13.3333L10 9.16666",stroke:"currentColor","stroke-width":"1.5","stroke-linecap":"round","stroke-linejoin":"round"}),(0,t.jsx)("path",{d:"M6.66699 13.3333L6.66699 10.8333",stroke:"currentColor","stroke-width":"1.5","stroke-linecap":"round","stroke-linejoin":"round"}),(0,t.jsx)("path",{d:"M2.5 16.9V3.1C2.5 2.76863 2.76863 2.5 3.1 2.5H16.9C17.2314 2.5 17.5 2.76863 17.5 3.1V16.9C17.5 17.2314 17.2314 17.5 16.9 17.5H3.1C2.76863 17.5 2.5 17.2314 2.5 16.9Z",stroke:"currentColor","stroke-width":"1.5"})),(0,t.jsx)("span",null,"Расчет мониторинга")),(0,t.jsx)("button",{className:"nav-btn "+("docs"===o?"active":""),onClick:()=>n("docs")},(0,t.jsx)("svg",{width:"20",height:"20",viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg"},(0,t.jsx)("path",{d:"M1.66699 9.16668V3.93334C1.66699 3.60197 1.93562 3.33334 2.26699 3.33334H7.27837C7.4216 3.33334 7.5601 3.38458 7.66885 3.47779L10.2485 5.6889C10.3572 5.78211 10.4957 5.83334 10.6389 5.83334H17.7337C18.065 5.83334 18.3337 6.10197 18.3337 6.43334V9.16668M1.66699 9.16668V16.0667C1.66699 16.398 1.93562 16.6667 2.26699 16.6667H17.7337C18.065 16.6667 18.3337 16.398 18.3337 16.0667V9.16668M1.66699 9.16668H18.3337",stroke:"currentColor","stroke-width":"1.5","stroke-linecap":"round","stroke-linejoin":"round"})),(0,t.jsx)("span",null,"История документов"))),a&&(0,t.jsx)("button",{className:"delete-image-btn",onClick:()=>s(!0),disabled:l,title:"Удалить"},(0,t.jsx)("svg",{width:"20",height:"20",viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg"},(0,t.jsx)("path",{d:"M16.6663 7.5L15.0038 16.9553C14.8638 17.7522 14.1715 18.3333 13.3624 18.3333H6.63696C5.82783 18.3333 5.13559 17.7522 4.99547 16.9553L3.33301 7.5",stroke:"#FF4747","stroke-width":"1.5","stroke-linecap":"round","stroke-linejoin":"round"}),(0,t.jsx)("path",{d:"M17.5 4.99999H12.8125M2.5 4.99999H7.1875M7.1875 4.99999V3.33332C7.1875 2.41285 7.93369 1.66666 8.85417 1.66666H11.1458C12.0663 1.66666 12.8125 2.41285 12.8125 3.33332V4.99999M7.1875 4.99999H12.8125",stroke:"#FF4747","stroke-width":"1.5","stroke-linecap":"round","stroke-linejoin":"round"})))),(0,t.jsx)(p,{isOpen:r,onClose:()=>s(!1),onConfirm:()=>{return t=void 0,e=void 0,n=function*(){if(a)try{u(!0),yield function(t){return e=this,o=void 0,a=function*(){yield i.delete(`/v1/image-data/${t}`,{headers:{Authorization:`Bearer ${localStorage.getItem("authToken")}`}})},new((n=void 0)||(n=Promise))((function(t,i){function r(t){try{l(a.next(t))}catch(t){i(t)}}function s(t){try{l(a.throw(t))}catch(t){i(t)}}function l(e){var o;e.done?t(e.value):(o=e.value,o instanceof n?o:new n((function(t){t(o)}))).then(r,s)}l((a=a.apply(e,o||[])).next())}));var e,o,n,a}(a),window.location.reload()}catch(t){alert("Произошла ошибка при удалении")}finally{u(!1),s(!1)}},new((o=void 0)||(o=Promise))((function(i,a){function r(t){try{l(n.next(t))}catch(t){a(t)}}function s(t){try{l(n.throw(t))}catch(t){a(t)}}function l(t){var e;t.done?i(t.value):(e=t.value,e instanceof o?e:new o((function(t){t(e)}))).then(r,s)}l((n=n.apply(t,e||[])).next())}));var t,e,o,n}}))},x={step_0:{0:"success"},step_1:{1:"pending",10:"success",20:"refused"},step_2:{30:"pending",50:"success",60:"refused"},step_3:{90:"pending",100:"success",120:"refused"},step_4:{170:"success"}},m=[{labelKey:"Проверка не проведена",stepIndex:0},{labelKey:"Проверка проведена",stepIndex:1},{labelKey:"Согласование с уполномоченным органом",stepIndex:2},{labelKey:"Проверка субъекта предпринимательства",stepIndex:3},{labelKey:"Сформление акта",stepIndex:4}],h=({steps:e})=>{const{step:o,status:n}=function(t,e){for(let o=t.length-1;o>=0;o--){const n=t[o];for(const t in e)if(void 0!==e[t][n])return{step:parseInt(t.replace("step_",""),10),status:e[t][n]}}return{step:0,status:"success"}}(e,x),i={right:(a=o,`calc(100% - ${[5,27.5,50,72.5,95][a]}%)`)};var a;return(0,t.jsx)("div",{className:"progress-bar-container"},(0,t.jsx)("div",{className:"progress-line"}),(0,t.jsx)("div",{className:"progress-line-filled",style:i}),m.map((({labelKey:e,stepIndex:i})=>{const{icon:a,labelClass:r}=function(t,e,o){return t<e?{icon:"success",labelClass:"success"}:t===e?"pending"===o?{icon:"pending",labelClass:"pending"}:"refused"===o?{icon:"refused",labelClass:"refused"}:{icon:"success",labelClass:"success"}:{icon:"default",labelClass:""}}(i,o,n);let s="#e0e0e0",l="#e0e0e0";return"success"===a?(s="#0067ff",l="#0067ff"):"pending"===a?(s="#ffb266",l="#ffb266"):"refused"===a&&(s="#ff3333",l="#ff3333"),(0,t.jsx)("div",{key:i,className:`step step-${i}`,"data-step":i},(0,t.jsx)("div",{className:`step-label ${r}`},e),(0,t.jsx)("svg",{className:"step-icon",width:"24",height:"24",viewBox:"0 0 24 24"},(0,t.jsx)("circle",{cx:"12",cy:"12",r:"10",fill:"none",stroke:l,strokeWidth:"2"}),(0,t.jsx)("circle",{cx:"12",cy:"12",r:"6",fill:s})))})))},g=JSON.parse('[{"uz-Cyrl":"Учтепа тумани","uz-Latn":"Uchtepa tumani","ru":"Учтепинский район","district_soato":"1726262"},{"uz-Cyrl":"Бектемир тумани","uz-Latn":"Bektemir tumani","ru":"Бектемирский район","district_soato":"1726264"},{"uz-Cyrl":"Чилонзор тумани","uz-Latn":"Chilonzor tumani","ru":"Чиланзарский район","district_soato":"1726294"},{"uz-Cyrl":"Яшнобод тумани","uz-Latn":"Yashnobod tumani","ru":"Яшнабадский район","district_soato":"1726290"},{"uz-Cyrl":"Яккасарой тумани","uz-Latn":"Yakkasaroy tumani","ru":"Якасарайский район","district_soato":"1726287"},{"uz-Cyrl":"Сирғали тумани","uz-Latn":"Sirg\'ali tumani","ru":"Сиргальский район","district_soato":"1726283"},{"uz-Cyrl":"Юнусобод тумани","uz-Latn":"Yunusobod tumani","ru":"Юнусабадский район","district_soato":"1726266"},{"uz-Cyrl":"Олмазор тумани","uz-Latn":"Olmazor tumani","ru":"Алмазарский район","district_soato":"1726280"},{"uz-Cyrl":"Мирзо Улуғбек тумани","uz-Latn":"Mirzo Ulug\'bek tumani","ru":"Мирзо Улугбекский район","district_soato":"1726269"},{"uz-Cyrl":"Шайхонтохур тумани","uz-Latn":"Shayxontoxur tumani","ru":"Шайхантахурский район","district_soato":"1726277"},{"uz-Cyrl":"Миробод тумани","uz-Latn":"Mirobod tumani","ru":"Мирабадский район","district_soato":"1726273"},{"uz-Cyrl":"Янгиҳаёт тумани","uz-Latn":"Yangihayot tumani","ru":"Янгиятский район","district_soato":"1726292"},{"uz-Cyrl":"Бекобод тумани","uz-Latn":"Bekobod tumani","ru":"Бекабадский район","district_soato":"1727220"},{"uz-Cyrl":"Бўка тумани","uz-Latn":"Bo\'ka tumani","ru":"Букинский район","district_soato":"1727228"},{"uz-Cyrl":"Бўстонлиқ тумани","uz-Latn":"Bo\'stonliq tumani","ru":"Бостанлыкский район","district_soato":"1727224"},{"uz-Cyrl":"Зангиота тумани","uz-Latn":"Zangiota tumani","ru":"Зангиотский район","district_soato":"1727237"},{"uz-Cyrl":"Қибрай тумани","uz-Latn":"Qibray tumani","ru":"Кибрайский район","district_soato":"1727248"},{"uz-Cyrl":"Қуйичирчиқ тумани","uz-Latn":"Quyichirchiq tumani","ru":"Куйчирчикский район","district_soato":"1727233"},{"uz-Cyrl":"Оққўрғон тумани","uz-Latn":"Oqqo\'rg\'on tumani","ru":"Аккурганский район","district_soato":"1727206"},{"uz-Cyrl":"Оҳангарон тумани","uz-Latn":"Ohangaron tumani","ru":"Ахангаранский район","district_soato":"1727212"},{"uz-Cyrl":"Паркент тумани","uz-Latn":"Parkent tumani","ru":"Паркентский район","district_soato":"1727249"},{"uz-Cyrl":"Пскент тумани","uz-Latn":"Pskent tumani","ru":"Пскентский район","district_soato":"1727250"},{"uz-Cyrl":"Тошкент тумани","uz-Latn":"Toshkent tumani","ru":"Ташкентский район","district_soato":"1727265"},{"uz-Cyrl":"Ўртачирчиқ тумани","uz-Latn":"O\'rtachirchiq tumani","ru":"Ортачирчикский район","district_soato":"1727253"},{"uz-Cyrl":"Чиноз тумани","uz-Latn":"Chinoz tumani","ru":"Чиназский район","district_soato":"1727256"},{"uz-Cyrl":"Юқоричирчиқ тумани","uz-Latn":"Yuqorichirchiq tumani","ru":"Верхнечирчикский район","district_soato":"1727239"},{"uz-Cyrl":"Янгийўл тумани","uz-Latn":"Yangiyo\'l tumani","ru":"Янгиюльский район","district_soato":"1727259"},{"uz-Cyrl":"Ангрен","uz-Latn":"Angren","ru":"Ангрен","district_soato":"1727407"},{"uz-Cyrl":"Бекобод","uz-Latn":"Bekobod","ru":"Бекабад","district_soato":"1727413"},{"uz-Cyrl":"Олмалиқ","uz-Latn":"Olmaliq","ru":"Алмалык","district_soato":"1727404"},{"uz-Cyrl":"Оҳангарон","uz-Latn":"Ohangaron","ru":"Ахангаран","district_soato":"1727415"},{"uz-Cyrl":"Чирчиқ","uz-Latn":"Chirchiq","ru":"Чирчик","district_soato":"1727419"},{"uz-Cyrl":"Нурафшон","uz-Latn":"Nurafshon","ru":"Нурафшон","district_soato":"1727401"},{"uz-Cyrl":"Янгийўл","uz-Latn":"Yangiyo\'l","ru":"Янгиюль","district_soato":"1727424"},{"uz-Cyrl":"Боёвут тумани","uz-Latn":"Boyovut tumani","ru":"Бойовутский район","district_soato":"1724212"},{"uz-Cyrl":"Гулистон тумани","uz-Latn":"Guliston tumani","ru":"Гулистанский район","district_soato":"1724220"},{"uz-Cyrl":"Мирзаобод тумани","uz-Latn":"Mirzaobod tumani","ru":"Мирзаабадский район","district_soato":"1724228"},{"uz-Cyrl":"Оқолтин тумани","uz-Latn":"Oqoltin tumani","ru":"Ак-алтынский район","district_soato":"1724206"},{"uz-Cyrl":"Сардоба тумани","uz-Latn":"Sardoba tumani","ru":"Сардобинский район","district_soato":"1724226"},{"uz-Cyrl":"Сайхунобод тумани","uz-Latn":"Sayxunobod tumani","ru":"Сайхунабадский район","district_soato":"1724216"},{"uz-Cyrl":"Сирдарё тумани","uz-Latn":"Sirdaryo tumani","ru":"Сырдарьинский район","district_soato":"1724231"},{"uz-Cyrl":"Ховос тумани","uz-Latn":"Xovos tumani","ru":"Ховосский район","district_soato":"1724235"},{"uz-Cyrl":"Ширин","uz-Latn":"Shirin","ru":"Сладкий","district_soato":"1724410"},{"uz-Cyrl":"Гулистон","uz-Latn":"Guliston","ru":"Гулистан","district_soato":"1724401"},{"uz-Cyrl":"Янгиер","uz-Latn":"Yangiyer","ru":"Янгиер","district_soato":"1724413"},{"uz-Cyrl":"Арнасой тумани","uz-Latn":"Arnasoy tumani","ru":"Арнасайский район","district_soato":"1708201"},{"uz-Cyrl":"Бахмал тумани","uz-Latn":"Baxmal tumani","ru":"Бархатный район","district_soato":"1708204"},{"uz-Cyrl":"Ғаллаорол тумани","uz-Latn":"G\'allaorol tumani","ru":"Галляаральский район","district_soato":"1708209"},{"uz-Cyrl":"Шароф Рашидов тумани","uz-Latn":"Sharof Rashidov tumani","ru":"Шараф Рашидовский район","district_soato":"1708212"},{"uz-Cyrl":"Дўстлик тумани","uz-Latn":"Do\'stlik tumani","ru":"Район дружбы","district_soato":"1708215"},{"uz-Cyrl":"Зарбдор тумани","uz-Latn":"Zarbdor tumani","ru":"Татабдорский район","district_soato":"1708220"},{"uz-Cyrl":"Зафаробод тумани","uz-Latn":"Zafarobod tumani","ru":"Зафарабадский район","district_soato":"1708225"},{"uz-Cyrl":"Зомин тумани","uz-Latn":"Zomin tumani","ru":"Зоминский район","district_soato":"1708218"},{"uz-Cyrl":"Мирзачўл тумани","uz-Latn":"Mirzacho\'l tumani","ru":"Мирзачульский район","district_soato":"1708223"},{"uz-Cyrl":"Пахтакор тумани","uz-Latn":"Paxtakor tumani","ru":"Пахтакорский район","district_soato":"1708228"},{"uz-Cyrl":"Фориш тумани","uz-Latn":"Forish tumani","ru":"Форишский район","district_soato":"1708235"},{"uz-Cyrl":"Янгиобод тумани","uz-Latn":"Yangiobod tumani","ru":"Новоабадский район","district_soato":"1708237"},{"uz-Cyrl":"Жиззах","uz-Latn":"Jizzax","ru":"Джизак","district_soato":"1708401"},{"uz-Cyrl":"Булунғур тумани","uz-Latn":"Bulung\'ur tumani","ru":"Булунгурский район","district_soato":"1718206"},{"uz-Cyrl":"Жомбой тумани","uz-Latn":"Jomboy tumani","ru":"Джомбойский район","district_soato":"1718209"},{"uz-Cyrl":"Иштихон тумани","uz-Latn":"Ishtixon tumani","ru":"Иштиханский район","district_soato":"1718212"},{"uz-Cyrl":"Қўшработ тумани","uz-Latn":"Qo\'shrabot tumani","ru":"Кошрабатский район","district_soato":"1718216"},{"uz-Cyrl":"Каттақўрғон тумани","uz-Latn":"Kattaqo\'rg\'on tumani","ru":"Каттакурганский район","district_soato":"1718215"},{"uz-Cyrl":"Нарпай тумани","uz-Latn":"Narpay tumani","ru":"Нарпайский район","district_soato":"1718218"},{"uz-Cyrl":"Нуробод тумани","uz-Latn":"Nurobod tumani","ru":"Нурабадский район","district_soato":"1718235"},{"uz-Cyrl":"Оқдарё тумани","uz-Latn":"Oqdaryo tumani","ru":"Агдарьинский район","district_soato":"1718203"},{"uz-Cyrl":"Паяриқ тумани","uz-Latn":"Payariq tumani","ru":"Паярикский район","district_soato":"1718224"},{"uz-Cyrl":"Пастдарғом тумани","uz-Latn":"Pastdarg\'om tumani","ru":"Пастдаргомский район","district_soato":"1718227"},{"uz-Cyrl":"Пахтачи тумани","uz-Latn":"Paxtachi tumani","ru":"Пахтачинский район","district_soato":"1718230"},{"uz-Cyrl":"Самарқанд тумани","uz-Latn":"Samarqand tumani","ru":"Самаркандский район","district_soato":"1718233"},{"uz-Cyrl":"Тайлоқ тумани","uz-Latn":"Tayloq tumani","ru":"Тайлакский район","district_soato":"1718238"},{"uz-Cyrl":"Ургут тумани","uz-Latn":"Urgut tumani","ru":"Ургутский район","district_soato":"1718236"},{"uz-Cyrl":"Каттақўрғон","uz-Latn":"Kattaqo\'rg\'on","ru":"Каттакурган","district_soato":"1718406"},{"uz-Cyrl":"Самарқанд","uz-Latn":"Samarqand","ru":"Самарканд","district_soato":"1718401"},{"uz-Cyrl":"Боғдод тумани","uz-Latn":"Bog\'dod tumani","ru":"Багдадский район","district_soato":"1730209"},{"uz-Cyrl":"Бешариқ тумани","uz-Latn":"Beshariq tumani","ru":"Бешикташский район","district_soato":"1730215"},{"uz-Cyrl":"Бувайда тумани","uz-Latn":"Buvayda tumani","ru":"Бувайдинский район","district_soato":"1730212"},{"uz-Cyrl":"Данғара тумани","uz-Latn":"Dang\'ara tumani","ru":"Дангарский район","district_soato":"1730236"},{"uz-Cyrl":"Ёзёвон тумани","uz-Latn":"Yozyovon tumani","ru":"Язьванский район","district_soato":"1730242"},{"uz-Cyrl":"Қува тумани","uz-Latn":"Quva tumani","ru":"Кувинский район","district_soato":"1730218"},{"uz-Cyrl":"Олтиариқ тумани","uz-Latn":"Oltiariq tumani","ru":"Алтыарикский район","district_soato":"1730203"},{"uz-Cyrl":"Қўштепа тумани","uz-Latn":"Qo\'shtepa tumani","ru":"Куштепинский район","district_soato":"1730206"},{"uz-Cyrl":"Риштон тумани","uz-Latn":"Rishton tumani","ru":"Риштонский район","district_soato":"1730224"},{"uz-Cyrl":"Сўх тумани","uz-Latn":"So\'x tumani","ru":"Сохский район","district_soato":"1730226"},{"uz-Cyrl":"Тошлоқ тумани","uz-Latn":"Toshloq tumani","ru":"Ташлакский район","district_soato":"1730227"},{"uz-Cyrl":"Учкўприк тумани","uz-Latn":"Uchko\'prik tumani","ru":"Учкудукский район","district_soato":"1730221"},{"uz-Cyrl":"Фарғона тумани","uz-Latn":"Farg\'ona tumani","ru":"Ферганский район","district_soato":"1730233"},{"uz-Cyrl":"Фурқат тумани","uz-Latn":"Furqat tumani","ru":"Район Фуркат","district_soato":"1730238"},{"uz-Cyrl":"Ўзбекистон тумани","uz-Latn":"O\'zbekiston tumani","ru":"Узбекистанский район","district_soato":"1730230"},{"uz-Cyrl":"Қўқон","uz-Latn":"Qo\'qon","ru":"Коканд","district_soato":"1730405"},{"uz-Cyrl":"Қувасой шаҳар","uz-Latn":"Quvasoy shahar","ru":"Кувасой город","district_soato":"1730408"},{"uz-Cyrl":"Марғилон","uz-Latn":"Marg\'ilon","ru":"Маргилан","district_soato":"1730412"},{"uz-Cyrl":"Фарғона","uz-Latn":"Farg\'ona","ru":"Фергана","district_soato":"1730401"},{"uz-Cyrl":"Косонсой тумани","uz-Latn":"Kosonsoy tumani","ru":"Косонсойский район","district_soato":"1714207"},{"uz-Cyrl":"Мингбулоқ тумани","uz-Latn":"Mingbuloq tumani","ru":"Мингбулакский район","district_soato":"1714204"},{"uz-Cyrl":"Наманган тумани","uz-Latn":"Namangan tumani","ru":"Наманганский район","district_soato":"1714212"},{"uz-Cyrl":"Норин тумани","uz-Latn":"Norin tumani","ru":"Норинский район","district_soato":"1714216"},{"uz-Cyrl":"Поп тумани","uz-Latn":"Pop tumani","ru":"Поп-район","district_soato":"1714219"},{"uz-Cyrl":"Тўрақўрғон тумани","uz-Latn":"To\'raqo\'rg\'on tumani","ru":"Туракурганский район","district_soato":"1714224"},{"uz-Cyrl":"Уйчи тумани","uz-Latn":"Uychi tumani","ru":"Уйчинский район","district_soato":"1714229"},{"uz-Cyrl":"Учқўрғон тумани","uz-Latn":"Uchqo\'rg\'on tumani","ru":"Учкурганский район","district_soato":"1714234"},{"uz-Cyrl":"Чортоқ тумани","uz-Latn":"Chortoq tumani","ru":"Чартакский район","district_soato":"1714236"},{"uz-Cyrl":"Чуст тумани","uz-Latn":"Chust tumani","ru":"Чустский район","district_soato":"1714237"},{"uz-Cyrl":"Янгиқўрғон тумани","uz-Latn":"Yangiqo\'rg\'on tumani","ru":"Янгикурганский район","district_soato":"1714242"},{"uz-Cyrl":"Наманган","uz-Latn":"Namangan","ru":"Наманган","district_soato":"1714401"},{"uz-Cyrl":"Андижон тумани","uz-Latn":"Andijon tumani","ru":"Андижанский район","district_soato":"1703203"},{"uz-Cyrl":"Асака тумани","uz-Latn":"Asaka tumani","ru":"Асакинский район","district_soato":"1703224"},{"uz-Cyrl":"Балиқчи тумани","uz-Latn":"Baliqchi tumani","ru":"Балыкчинский район","district_soato":"1703206"},{"uz-Cyrl":"Булоқбоши тумани","uz-Latn":"Buloqboshi tumani","ru":"Булакбашинский район","district_soato":"1703210"},{"uz-Cyrl":"Бўстон тумани","uz-Latn":"Bo\'ston tumani","ru":"Бостонский район","district_soato":"1703209"},{"uz-Cyrl":"Жалақудуқ тумани","uz-Latn":"Jalaquduq tumani","ru":"Джалакудукский район","district_soato":"1703211"},{"uz-Cyrl":"Избоскан тумани","uz-Latn":"Izboskan tumani","ru":"Избосканский район","district_soato":"1703214"},{"uz-Cyrl":"Мархамат тумани","uz-Latn":"Marxamat tumani","ru":"Мархаматский район","district_soato":"1703227"},{"uz-Cyrl":"Олтинкўл тумани","uz-Latn":"Oltinko\'l tumani","ru":"Алтынкульский район","district_soato":"1703202"},{"uz-Cyrl":"Пахтаобод тумани","uz-Latn":"Paxtaobod tumani","ru":"Пахтаабадский район","district_soato":"1703232"},{"uz-Cyrl":"Улуғнор тумани","uz-Latn":"Ulug\'nor tumani","ru":"Улугнорский район","district_soato":"1703217"},{"uz-Cyrl":"Хўжаобод тумани","uz-Latn":"Xo\'jaobod tumani","ru":"Ходжаабадский район","district_soato":"1703236"},{"uz-Cyrl":"Шахрихон тумани","uz-Latn":"Shaxrixon tumani","ru":"Шахриханский район","district_soato":"1703230"},{"uz-Cyrl":"Қўрғонтепа тумани","uz-Latn":"Qo\'rg\'ontepa tumani","ru":"Кургантепинский район","district_soato":"1703220"},{"uz-Cyrl":"Андижон","uz-Latn":"Andijon","ru":"Андижан","district_soato":"1703401"},{"uz-Cyrl":"Хонобод","uz-Latn":"Xonobod","ru":"Ханабад","district_soato":"1703408"},{"uz-Cyrl":"Миришкор тумани","uz-Latn":"Mirishkor tumani","ru":"Миришкорский район","district_soato":"1710233"},{"uz-Cyrl":"Деҳқонобод тумани","uz-Latn":"Dehqonobod tumani","ru":"Дехканабадский район","district_soato":"1710212"},{"uz-Cyrl":"Касби тумани","uz-Latn":"Kasbi tumani","ru":"Профессиональный район","district_soato":"1710237"},{"uz-Cyrl":"Китоб тумани","uz-Latn":"Kitob tumani","ru":"Книжный район","district_soato":"1710232"},{"uz-Cyrl":"Косон тумани","uz-Latn":"Koson tumani","ru":"Касанский район","district_soato":"1710229"},{"uz-Cyrl":"Муборак тумани","uz-Latn":"Muborak tumani","ru":"Мубаракский район","district_soato":"1710234"},{"uz-Cyrl":"Нишон тумани","uz-Latn":"Nishon tumani","ru":"Целевой район","district_soato":"1710235"},{"uz-Cyrl":"Шаҳрисабз тумани","uz-Latn":"Shahrisabz tumani","ru":"Шахрисабзский район","district_soato":"1710245"},{"uz-Cyrl":"Яккабог ъ тумани","uz-Latn":"Yakkabog\' tumani","ru":"Яккабагский район","district_soato":"1710250"},{"uz-Cyrl":"Қамаши тумани","uz-Latn":"Qamashi tumani","ru":"Камашинский район","district_soato":"1710220"},{"uz-Cyrl":"Қарши тумани","uz-Latn":"Qarshi tumani","ru":"Каршинский район","district_soato":"1710224"},{"uz-Cyrl":"Ғузор тумани","uz-Latn":"G\'uzor tumani","ru":"Гузарский район","district_soato":"1710207"},{"uz-Cyrl":"Қарши","uz-Latn":"Qarshi","ru":"Карши","district_soato":"1710401"},{"uz-Cyrl":"Шаҳрисабз","uz-Latn":"Shahrisabz","ru":"Шахрисабз","district_soato":"1710405"},{"uz-Cyrl":"Ангор тумани","uz-Latn":"Angor tumani","ru":"Ангорский район","district_soato":"1722202"},{"uz-Cyrl":"Бандихон тумани","uz-Latn":"Bandixon tumani","ru":"Бандихонский район","district_soato":"1722203"},{"uz-Cyrl":"Бойсун тумани","uz-Latn":"Boysun tumani","ru":"Бойсунский район","district_soato":"1722204"},{"uz-Cyrl":"Денов тумани","uz-Latn":"Denov tumani","ru":"Деновский район","district_soato":"1722210"},{"uz-Cyrl":"Жарқўрғон тумани","uz-Latn":"Jarqo\'rg\'on tumani","ru":"Жаркурганский район","district_soato":"1722212"},{"uz-Cyrl":"Қизириқ тумани","uz-Latn":"Qiziriq tumani","ru":"Кызылский район","district_soato":"1722215"},{"uz-Cyrl":"Қумқўрғон тумани","uz-Latn":"Qumqo\'rg\'on tumani","ru":"Кумкурганский район","district_soato":"1722214"},{"uz-Cyrl":"Музработ тумани","uz-Latn":"Muzrabot tumani","ru":"Музрабатский район","district_soato":"1722207"},{"uz-Cyrl":"Олтинсой тумани","uz-Latn":"Oltinsoy tumani","ru":"Алтынсайский район","district_soato":"1722201"},{"uz-Cyrl":"Сариосиё тумани","uz-Latn":"Sariosiyo tumani","ru":"Сариасийский район","district_soato":"1722217"},{"uz-Cyrl":"Термиз тумани","uz-Latn":"Termiz tumani","ru":"Термезский район","district_soato":"1722220"},{"uz-Cyrl":"Узун тумани","uz-Latn":"Uzun tumani","ru":"Длинный район","district_soato":"1722221"},{"uz-Cyrl":"Шеробод тумани","uz-Latn":"Sherobod tumani","ru":"Шерабадский район","district_soato":"1722223"},{"uz-Cyrl":"Шўрчи тумани","uz-Latn":"Sho\'rchi tumani","ru":"Солончаковый район","district_soato":"1722226"},{"uz-Cyrl":"Термиз","uz-Latn":"Termiz","ru":"Термин","district_soato":"1722401"},{"uz-Cyrl":"Бухоро тумани","uz-Latn":"Buxoro tumani","ru":"Бухарский район","district_soato":"1706207"},{"uz-Cyrl":"Вобкент тумани","uz-Latn":"Vobkent tumani","ru":"Вобкентский район","district_soato":"1706212"},{"uz-Cyrl":"Жондор тумани","uz-Latn":"Jondor tumani","ru":"Джондорский район","district_soato":"1706246"},{"uz-Cyrl":"Когон тумани","uz-Latn":"Kogon tumani","ru":"Коганский район","district_soato":"1706219"},{"uz-Cyrl":"Олот тумани","uz-Latn":"Olot tumani","ru":"Алатский район","district_soato":"1706204"},{"uz-Cyrl":"Пешко ъ тумани","uz-Latn":"Peshko\' tumani","ru":"Пешковский район","district_soato":"1706240"},{"uz-Cyrl":"Ромитан тумани","uz-Latn":"Romitan tumani","ru":"Ромитанский район","district_soato":"1706242"},{"uz-Cyrl":"Шофиркон тумани","uz-Latn":"Shofirkon tumani","ru":"Шафирканский район","district_soato":"1706258"},{"uz-Cyrl":"Қоровулбозор тумани","uz-Latn":"Qorovulbozor tumani","ru":"Караулбазарский район","district_soato":"1706232"},{"uz-Cyrl":"Қоракўл тумани","uz-Latn":"Qorako\'l tumani","ru":"Каракульский район","district_soato":"1706230"},{"uz-Cyrl":"Ғиждувон тумани","uz-Latn":"G\'ijduvon tumani","ru":"Гиждуванский район","district_soato":"1706215"},{"uz-Cyrl":"Бухоро","uz-Latn":"Buxoro","ru":"Бухара","district_soato":"1706401"},{"uz-Cyrl":"Когон","uz-Latn":"Kogon","ru":"Когон","district_soato":"1706403"},{"uz-Cyrl":"Конимех тумани","uz-Latn":"Konimex tumani","ru":"Район конимекс","district_soato":"1712211"},{"uz-Cyrl":"Навбаҳор тумани","uz-Latn":"Navbahor tumani","ru":"Навбахорский район","district_soato":"1712230"},{"uz-Cyrl":"Кармана тумани","uz-Latn":"Karmana tumani","ru":"Район кармана","district_soato":"1712234"},{"uz-Cyrl":"Нурота тумани","uz-Latn":"Nurota tumani","ru":"Нурлатский район","district_soato":"1712238"},{"uz-Cyrl":"Томди тумани","uz-Latn":"Tomdi tumani","ru":"Томди район","district_soato":"1712244"},{"uz-Cyrl":"Хатирчи тумани","uz-Latn":"Xatirchi tumani","ru":"Хатырчинский район","district_soato":"1712251"},{"uz-Cyrl":"Қизилтепа тумани","uz-Latn":"Qiziltepa tumani","ru":"Кызылтепинский район","district_soato":"1712216"},{"uz-Cyrl":"Навоий","uz-Latn":"Navoiy","ru":"Навои","district_soato":"1712401"},{"uz-Cyrl":"Зарафшон","uz-Latn":"Zarafshon","ru":"Зарафшан","district_soato":"1712408"},{"uz-Cyrl":"Учқудуқ тумани","uz-Latn":"Uchquduq tumani","ru":"Учкудукский район","district_soato":"1712248"},{"uz-Cyrl":"Ғозғон","uz-Latn":"G\'ozg\'on","ru":"Казган","district_soato":"1712412"},{"uz-Cyrl":"Боғот тумани","uz-Latn":"Bog\'ot tumani","ru":"Боготольский район","district_soato":"1733204"},{"uz-Cyrl":"Гурлан тумани","uz-Latn":"Gurlan tumani","ru":"Гурланский район","district_soato":"1733208"},{"uz-Cyrl":"Урганч тумани","uz-Latn":"Urganch tumani","ru":"Ургенчский район","district_soato":"1733217"},{"uz-Cyrl":"Хонқа тумани","uz-Latn":"Xonqa tumani","ru":"Ханкайский район","district_soato":"1733223"},{"uz-Cyrl":"Хива тумани","uz-Latn":"Xiva tumani","ru":"Хивинский район","district_soato":"1733226"},{"uz-Cyrl":"Шовот тумани","uz-Latn":"Shovot tumani","ru":"Шовотский район","district_soato":"1733230"},{"uz-Cyrl":"Янгиариқ тумани","uz-Latn":"Yangiariq tumani","ru":"Янгиарыкский район","district_soato":"1733233"},{"uz-Cyrl":"Янгибозор тумани","uz-Latn":"Yangibozor tumani","ru":"Янгибазинский район","district_soato":"1733236"},{"uz-Cyrl":"Қўшкўпир тумани","uz-Latn":"Qo\'shko\'pir tumani","ru":"Кошкупирский район","district_soato":"1733212"},{"uz-Cyrl":"Хазорасп тумани","uz-Latn":"Xazorasp tumani","ru":"Хазараспский район","district_soato":"1733220"},{"uz-Cyrl":"Урганч","uz-Latn":"Urganch","ru":"Ургенч","district_soato":"1733401"},{"uz-Cyrl":"Хива","uz-Latn":"Xiva","ru":"Хива","district_soato":"1733406"},{"uz-Cyrl":"Тупроққалъа тумани","uz-Latn":"Tuproqqal\'a tumani","ru":"Грунткастальский район","district_soato":"1733221"},{"uz-Cyrl":"Амударё тумани","uz-Latn":"Amudaryo tumani","ru":"Амударьинский район","district_soato":"1735204"},{"uz-Cyrl":"Беруний тумани","uz-Latn":"Beruniy tumani","ru":"Берунийский район","district_soato":"1735207"},{"uz-Cyrl":"Бўзатов тумани","uz-Latn":"Bo\'zatov tumani","ru":"Бузатовский район","district_soato":"1735209"},{"uz-Cyrl":"Кегейли тумани","uz-Latn":"Kegeyli tumani","ru":"Кегейлинский район","district_soato":"1735212"},{"uz-Cyrl":"Мўйноқ тумани","uz-Latn":"Mo\'ynoq tumani","ru":"Муйнакский район","district_soato":"1735222"},{"uz-Cyrl":"Нукус тумани","uz-Latn":"Nukus tumani","ru":"Нукусский район","district_soato":"1735225"},{"uz-Cyrl":"Тахтакўпир тумани","uz-Latn":"Taxtako\'pir tumani","ru":"Тахтакопирский район","district_soato":"1735230"},{"uz-Cyrl":"Тўрткўл тумани","uz-Latn":"To\'rtko\'l tumani","ru":"Турткульский район","district_soato":"1735233"},{"uz-Cyrl":"Хўжайли тумани","uz-Latn":"Xo\'jayli tumani","ru":"Ходжалинский район","district_soato":"1735236"},{"uz-Cyrl":"Чимбой тумани","uz-Latn":"Chimboy tumani","ru":"Чимбайский район","district_soato":"1735240"},{"uz-Cyrl":"Шуманай тумани","uz-Latn":"Shumanay tumani","ru":"Шуманайский район","district_soato":"1735243"},{"uz-Cyrl":"Елликкала тумани","uz-Latn":"Ellikkala tumani","ru":"Элликкалинский район","district_soato":"1735250"},{"uz-Cyrl":"Қанликўл тумани","uz-Latn":"Qanliko\'l tumani","ru":"Канликульский район","district_soato":"1735218"},{"uz-Cyrl":"Қораузак тумани","uz-Latn":"Qorauzak tumani","ru":"Караузакский район","district_soato":"1735211"},{"uz-Cyrl":"Қўнғирот тумани","uz-Latn":"Qo\'ng\'irot tumani","ru":"Кунгурский район","district_soato":"1735215"},{"uz-Cyrl":"Нукус","uz-Latn":"Nukus","ru":"Нукус","district_soato":"1735401"},{"uz-Cyrl":"Тахиатош тумани","uz-Latn":"Taxiatosh tumani","ru":"Тахиатошский район","district_soato":"1735228"},{"uz-Cyrl":"Кўкдала тумани","uz-Latn":"Ko\'kdala tumani","ru":"Кокдальский район","district_soato":"1710240"},{"uz-Cyrl":"Чироқчи тумани","uz-Latn":"Chiroqchi tumani","ru":"Чиракчинский район","district_soato":"1710242"}]'),v=JSON.parse('[{"uz-Cyrl":"Тошкент шаҳар","uz-Latn":"Toshkent shahar","ru":"Город Ташкент","region_soato":"1726","amcharts_id":"UZ-TK"},{"uz-Cyrl":"Тошкент вилояти","uz-Latn":"Toshkent viloyati","ru":"Ташкентская область","region_soato":"1727","amcharts_id":"UZ-TO"},{"uz-Cyrl":"Сирдарё вилояти","uz-Latn":"Sirdaryo viloyati","ru":"Сырдарьинская область","region_soato":"1724","amcharts_id":"UZ-SI"},{"uz-Cyrl":"Жиззах вилояти","uz-Latn":"Jizzax viloyati","ru":"Джизакская область","region_soato":"1708","amcharts_id":"UZ-JI"},{"uz-Cyrl":"Самарқанд вилояти","uz-Latn":"Samarqand viloyati","ru":"Самаркандская область","region_soato":"1718","amcharts_id":"UZ-SA"},{"uz-Cyrl":"Фарғона вилояти","uz-Latn":"Farg\'ona viloyati","ru":"Ферганская область","region_soato":"1730","amcharts_id":"UZ-FA"},{"uz-Cyrl":"Наманган вилояти","uz-Latn":"Namangan viloyati","ru":"Наманганская область","region_soato":"1714","amcharts_id":"UZ-NG"},{"uz-Cyrl":"Андижон вилояти","uz-Latn":"Andijon viloyati","ru":"Андижанская область","region_soato":"1703","amcharts_id":"UZ-AN"},{"uz-Cyrl":"Қашқадарё вилояти","uz-Latn":"Qashqadaryo viloyati","ru":"Кашкадарьинская область","region_soato":"1710","amcharts_id":"UZ-QA"},{"uz-Cyrl":"Сурхондарё вилояти","uz-Latn":"Surxondaryo viloyati","ru":"Сурхандарьинская область","region_soato":"1722","amcharts_id":"UZ-SU"},{"uz-Cyrl":"Бухоро вилояти","uz-Latn":"Buxoro viloyati","ru":"Бухарская область","region_soato":"1706","amcharts_id":"UZ-BU"},{"uz-Cyrl":"Навоий вилояти","uz-Latn":"Navoiy viloyati","ru":"Навоийская область","region_soato":"1712","amcharts_id":"UZ-NW"},{"uz-Cyrl":"Хоразм вилояти","uz-Latn":"Xorazm viloyati","ru":"Хорезмская область","region_soato":"1733","amcharts_id":"UZ-XO"},{"uz-Cyrl":"Қорақалпоғистон Республикаси","uz-Latn":"Qoraqalpogiston Respublikasi","ru":"Республика Каракалпакстан","region_soato":"1735","amcharts_id":"UZ-QR"}]'),y=({objectId:e})=>{const{summary:o,loading:n,error:i}=d();if(n)return(0,t.jsx)("div",{style:{padding:"20px"}},"Загрузка данных...");if(i)return(0,t.jsx)("div",{className:"error",style:{padding:"20px"}},i);if(!o)return(0,t.jsx)("div",{style:{padding:"20px"}},"Нет данных");const{name:a,owner_tin:r,image_id:s,license_number:l,license_end_date:u,object_type:c,soato:p,total_mining_volume:f,minerals:x}=o,m=x.map((t=>t.name)).join(", "),h=(t=>{if(!t)return"";const e=t.substring(0,4),o=v.find((t=>t.region_soato===e)),n=g.find((e=>e.district_soato===t));return o&&n?`${o.ru}, ${n.ru}`:o?o.ru:n?n.ru:t})(String(p));return(0,t.jsx)("div",{className:"object-text-info"},(0,t.jsx)("div",{className:"info-card"},(0,t.jsx)("div",{className:"info-header"},(0,t.jsx)("h2",null,"Информация об участке добычи")),(0,t.jsx)("div",{className:"info-row"},(0,t.jsx)("div",{className:"info-label"},(0,t.jsx)("svg",{className:"info-icon",width:"20",height:"20",viewBox:"0 0 512 420.165",xmlns:"http://www.w3.org/2000/svg","shape-rendering":"geometricPrecision","text-rendering":"geometricPrecision","image-rendering":"optimizeQuality","fill-rule":"evenodd","clip-rule":"evenodd"},(0,t.jsx)("path",{"fill-rule":"nonzero",fill:"#6c757d",d:"M74.316 0h363.368c20.398 0 38.963 8.366 52.425 21.816h.075C503.634 35.266 512 53.862 512 74.316v271.533c0 20.398-8.366 38.963-21.816 52.426l-.075.074c-13.462 13.45-32.027 21.816-52.425 21.816H74.316c-20.454 0-39.05-8.366-52.5-21.816l-1.065-1.164C7.926 383.822 0 365.702 0 345.849V74.316c0-20.454 8.366-39.05 21.816-52.5C35.266 8.366 53.862 0 74.316 0zm151.647 278.351V141.814h61.17c24.609 0 41.508 5.245 50.679 15.729 9.177 10.49 13.766 28.002 13.766 52.543 0 24.54-4.589 42.052-13.766 52.536-9.171 10.485-26.07 15.729-50.679 15.729h-61.17zm61.826-101.581h-18.132v66.631h18.132c5.97 0 10.304-.694 12.998-2.081 2.694-1.381 4.038-4.551 4.038-9.499v-43.477c0-4.948-1.344-8.119-4.038-9.5-2.694-1.387-7.028-2.074-12.998-2.074zM160.428 278.351V141.814h43.695v136.537h-43.695zM437.684 35.929H74.316c-10.54 0-20.138 4.328-27.098 11.289-6.961 6.96-11.289 16.558-11.289 27.098v271.533c0 10.175 4 19.457 10.49 26.349l.799.75c6.96 6.96 16.558 11.288 27.098 11.288h363.368c10.564 0 20.169-4.316 27.135-11.251 6.936-6.967 11.252-16.571 11.252-27.136V74.316c0-10.54-4.329-20.138-11.289-27.098-6.929-6.973-16.534-11.289-27.098-11.289z"})),(0,t.jsx)("span",null,"Object ID")),(0,t.jsx)("div",{className:"info-value"},e)),(0,t.jsx)("div",{className:"info-row"},(0,t.jsx)("div",{className:"info-label"},(0,t.jsx)("svg",{className:"info-icon",width:"20",height:"20",viewBox:"0 0 122.88 122.14",xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink"},(0,t.jsx)("g",null,(0,t.jsx)("path",{fill:"#6c757d",d:"M8.69,0h105.5c2.39,0,4.57,0.98,6.14,2.55c1.57,1.57,2.55,3.75,2.55,6.14v104.76c0,2.39-0.98,4.57-2.55,6.14 c-1.57,1.57-3.75,2.55-6.14,2.55H8.69c-2.39,0-4.57-0.98-6.14-2.55C0.98,118.02,0,115.84,0,113.45V8.69C0,6.3,0.98,4.12,2.55,2.55 C4.12,0.98,6.3,0,8.69,0L8.69,0z M7.02,88.3l37.51-33.89c1.43-1.29,3.64-1.18,4.93,0.25c0.03,0.03,0.05,0.06,0.08,0.09l0.01-0.01 l31.45,37.22l4.82-29.59c0.31-1.91,2.11-3.2,4.02-2.89c0.75,0.12,1.4,0.47,1.9,0.96l24.15,23.18V8.69c0-0.46-0.19-0.87-0.49-1.18 c-0.3-0.3-0.72-0.49-1.18-0.49H8.69c-0.46,0-0.87,0.19-1.18,0.49c-0.3,0.3-0.49,0.72-0.49,1.18V88.3L7.02,88.3z M115.86,93.32 L91.64,70.07l-4.95,30.41c-0.11,0.83-0.52,1.63-1.21,2.22c-1.48,1.25-3.68,1.06-4.93-0.41L46.52,62.02L7.02,97.72v15.73 c0,0.46,0.19,0.87,0.49,1.18c0.31,0.31,0.72,0.49,1.18,0.49h105.5c0.46,0,0.87-0.19,1.18-0.49c0.3-0.3,0.49-0.72,0.49-1.18V93.32 L115.86,93.32z M92.6,19.86c3.48,0,6.62,1.41,8.9,3.69c2.28,2.28,3.69,5.43,3.69,8.9s-1.41,6.62-3.69,8.9 c-2.28,2.28-5.43,3.69-8.9,3.69c-3.48,0-6.62-1.41-8.9-3.69c-2.28-2.28-3.69-5.43-3.69-8.9s1.41-6.62,3.69-8.9 C85.98,21.27,89.12,19.86,92.6,19.86L92.6,19.86z M97.58,27.47c-1.27-1.27-3.03-2.06-4.98-2.06c-1.94,0-3.7,0.79-4.98,2.06 c-1.27,1.27-2.06,3.03-2.06,4.98c0,1.94,0.79,3.7,2.06,4.98c1.27,1.27,3.03,2.06,4.98,2.06c1.94,0,3.7-0.79,4.98-2.06 c1.27-1.27,2.06-3.03,2.06-4.98C99.64,30.51,98.85,28.75,97.58,27.47L97.58,27.47z"}))),(0,t.jsx)("span",null,"Image ID")),(0,t.jsx)("div",{className:"info-value"},s)),(0,t.jsx)("div",{className:"info-row"},(0,t.jsx)("div",{className:"info-label"},(0,t.jsx)("svg",{width:"20",height:"20",viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg"},(0,t.jsx)("path",{d:"M5.83301 7.50833L5.84134 7.49907",stroke:"#6E7275","stroke-width":"1.5","stroke-linecap":"round","stroke-linejoin":"round"}),(0,t.jsx)("path",{d:"M9.16699 7.50833L9.17533 7.49907",stroke:"#6E7275","stroke-width":"1.5","stroke-linecap":"round","stroke-linejoin":"round"}),(0,t.jsx)("path",{d:"M5.83301 10.8417L5.84134 10.8324",stroke:"#6E7275","stroke-width":"1.5","stroke-linecap":"round","stroke-linejoin":"round"}),(0,t.jsx)("path",{d:"M9.16699 10.8417L9.17533 10.8324",stroke:"#6E7275","stroke-width":"1.5","stroke-linecap":"round","stroke-linejoin":"round"}),(0,t.jsx)("path",{d:"M5.83301 14.175L5.84134 14.1657",stroke:"#6E7275","stroke-width":"1.5","stroke-linecap":"round","stroke-linejoin":"round"}),(0,t.jsx)("path",{d:"M9.16699 14.175L9.17533 14.1657",stroke:"#6E7275","stroke-width":"1.5","stroke-linecap":"round","stroke-linejoin":"round"}),(0,t.jsx)("path",{d:"M12.5 17.5H3.1C2.76863 17.5 2.5 17.2314 2.5 16.9V4.76667C2.5 4.4353 2.76863 4.16667 3.1 4.16667H7.5V3.1C7.5 2.76863 7.76863 2.5 8.1 2.5H11.9C12.2314 2.5 12.5 2.76863 12.5 3.1V7.5M12.5 17.5H16.9C17.2314 17.5 17.5 17.2314 17.5 16.9V8.1C17.5 7.76863 17.2314 7.5 16.9 7.5H12.5M12.5 17.5V14.1667M12.5 7.5V10.8333M12.5 10.8333H14.1667M12.5 10.8333V14.1667M12.5 14.1667H14.1667",stroke:"#6E7275","stroke-width":"1.5","stroke-linecap":"round","stroke-linejoin":"round"})),(0,t.jsx)("span",null,"Наименование компании")),(0,t.jsx)("div",{className:"info-value"},a)),(0,t.jsx)("div",{className:"info-row"},(0,t.jsx)("div",{className:"info-label"},(0,t.jsx)("svg",{width:"20",height:"20",viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg"},(0,t.jsx)("g",{"clip-path":"url(#clip0_1432_18776)"},(0,t.jsx)("path",{d:"M5.83301 15V14.1667C5.83301 11.8655 7.69849 10 9.99967 10C12.3009 10 14.1663 11.8655 14.1663 14.1667V15",stroke:"#6E7275","stroke-width":"1.5","stroke-linecap":"round"}),(0,t.jsx)("path",{d:"M10 10C11.3807 10 12.5 8.88071 12.5 7.5C12.5 6.11929 11.3807 5 10 5C8.61929 5 7.5 6.11929 7.5 7.5C7.5 8.88071 8.61929 10 10 10Z",stroke:"#6E7275","stroke-width":"1.5","stroke-linecap":"round","stroke-linejoin":"round"}),(0,t.jsx)("circle",{cx:"10.0003",cy:"9.99996",r:"8.33333",stroke:"#6E7275","stroke-width":"1.5"})),(0,t.jsx)("defs",null,(0,t.jsx)("clipPath",{id:"clip0_1432_18776"},(0,t.jsx)("rect",{width:"20",height:"20",fill:"white"})))),(0,t.jsx)("span",null,"ИНН объекта")),(0,t.jsx)("div",{className:"info-value"},r)),(0,t.jsx)("div",{className:"info-row"},(0,t.jsx)("div",{className:"info-label"},(0,t.jsx)("svg",{className:"info-icon",width:"20",height:"20",viewBox:"0 0 20 20",fill:"none"},(0,t.jsx)("rect",{x:"4",y:"4",width:"12",height:"14",rx:"1",fill:"none",stroke:"#6c757d","stroke-width":"1.5"}),(0,t.jsx)("line",{x1:"7",y1:"7",x2:"13",y2:"7",stroke:"#6c757d","stroke-width":"1.2"}),(0,t.jsx)("line",{x1:"7",y1:"10",x2:"13",y2:"10",stroke:"#6c757d","stroke-width":"1.2"}),(0,t.jsx)("line",{x1:"7",y1:"13",x2:"10",y2:"13",stroke:"#6c757d","stroke-width":"1.2"})),(0,t.jsx)("span",null,"Номер лицензии")),(0,t.jsx)("div",{className:"info-value"},l)),(0,t.jsx)("div",{className:"info-row"},(0,t.jsx)("div",{className:"info-label"},(0,t.jsx)("svg",{className:"info-icon",width:"20",height:"20",viewBox:"0 0 20 20",fill:"none"},(0,t.jsx)("rect",{x:"3",y:"4",width:"14",height:"14",rx:"1",fill:"none",stroke:"#6c757d","stroke-width":"1.5"}),(0,t.jsx)("line",{x1:"3",y1:"7",x2:"17",y2:"7",stroke:"#6c757d","stroke-width":"1.5"}),(0,t.jsx)("line",{x1:"6",y1:"2",x2:"6",y2:"6",stroke:"#6c757d","stroke-width":"1.5"}),(0,t.jsx)("line",{x1:"14",y1:"2",x2:"14",y2:"6",stroke:"#6c757d","stroke-width":"1.5"})),(0,t.jsx)("span",null,"Истечение срока лицензии:")),(0,t.jsx)("div",{className:"info-value"},u)),(0,t.jsx)("div",{className:"info-row"},(0,t.jsx)("div",{className:"info-label"},(0,t.jsx)("svg",{width:"20",height:"20",viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg"},(0,t.jsx)("path",{d:"M17.5 6.18635L17.5 13.8136C17.5 14.0315 17.3819 14.2323 17.1914 14.3381L10.2914 18.1714C10.1102 18.2721 9.88983 18.2721 9.70861 18.1714L2.80861 14.3381C2.61814 14.2323 2.5 14.0315 2.5 13.8136L2.49998 6.18636C2.49998 5.96845 2.61812 5.76768 2.8086 5.66186L9.70861 1.82853C9.88983 1.72785 10.1102 1.72785 10.2914 1.82853L17.1914 5.66186C17.3818 5.76768 17.5 5.96845 17.5 6.18635Z",stroke:"#6E7275","stroke-width":"1.5","stroke-linecap":"round","stroke-linejoin":"round"}),(0,t.jsx)("path",{d:"M2.94004 6.07798L9.7083 9.83812C9.88952 9.9388 10.1099 9.9388 10.2911 9.83812L17.083 6.06482",stroke:"#6E7275","stroke-width":"1.5","stroke-linecap":"round","stroke-linejoin":"round"}),(0,t.jsx)("path",{d:"M10 17.5L10 10",stroke:"#6E7275","stroke-width":"1.5","stroke-linecap":"round","stroke-linejoin":"round"})),(0,t.jsx)("span",null,"Тип объекта")),(0,t.jsx)("div",{className:"info-value"},c)),(0,t.jsx)("div",{className:"info-row"},(0,t.jsx)("div",{className:"info-label"},(0,t.jsx)("svg",{width:"20",height:"20",viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg"},(0,t.jsx)("path",{d:"M7.5 15.8333L3.28974 17.2368C2.90122 17.3663 2.5 17.0771 2.5 16.6675L2.5 4.59912C2.5 4.34086 2.66526 4.11158 2.91026 4.02991L7.5 2.5M7.5 15.8333L12.5 17.5M7.5 15.8333L7.5 2.5M12.5 17.5L17.0897 15.9701C17.3347 15.8884 17.5 15.6591 17.5 15.4009L17.5 3.33246C17.5 2.92292 17.0988 2.63374 16.7103 2.76325L12.5 4.16667M12.5 17.5L12.5 4.16667M12.5 4.16667L7.5 2.5",stroke:"#6E7275","stroke-width":"1.5","stroke-linecap":"round","stroke-linejoin":"round"})),(0,t.jsx)("span",null,"Местоположение")),(0,t.jsx)("div",{className:"info-value"},h)),(0,t.jsx)("div",{className:"info-row"},(0,t.jsx)("div",{className:"info-label"},(0,t.jsx)("svg",{width:"20",height:"20",viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg"},(0,t.jsx)("g",{"clip-path":"url(#clip0_1432_18796)"},(0,t.jsx)("path",{d:"M0.833008 17.1667V2.83337C0.833008 1.7288 1.72844 0.833374 2.83301 0.833374H17.1663C18.2709 0.833374 19.1663 1.72881 19.1663 2.83338V17.1667C19.1663 18.2713 18.2709 19.1667 17.1663 19.1667H2.83301C1.72844 19.1667 0.833008 18.2713 0.833008 17.1667Z",stroke:"#6E7275","stroke-width":"1.5"}),(0,t.jsx)("path",{d:"M12.5 5.83337L14.1667 5.83337H15.8333",stroke:"#6E7275","stroke-width":"1.5","stroke-linecap":"round","stroke-linejoin":"round"}),(0,t.jsx)("path",{d:"M12.5 12.9166H14.1667L15.8333 12.9166",stroke:"#6E7275","stroke-width":"1.5","stroke-linecap":"round","stroke-linejoin":"round"}),(0,t.jsx)("path",{d:"M12.5 15.4166H14.1667L15.8333 15.4166",stroke:"#6E7275","stroke-width":"1.5","stroke-linecap":"round","stroke-linejoin":"round"}),(0,t.jsx)("path",{d:"M4.16699 5.83329H5.83366M7.50033 5.83329H5.83366M5.83366 5.83329V4.16663M5.83366 5.83329V7.49996",stroke:"#6E7275","stroke-width":"1.5","stroke-linecap":"round","stroke-linejoin":"round"}),(0,t.jsx)("path",{d:"M4.65507 15.3451L5.83358 14.1666M7.0121 12.9881L5.83358 14.1666M5.83358 14.1666L4.65507 12.9881M5.83358 14.1666L7.0121 15.3451",stroke:"#6E7275","stroke-width":"1.5","stroke-linecap":"round","stroke-linejoin":"round"})),(0,t.jsx)("defs",null,(0,t.jsx)("clipPath",{id:"clip0_1432_18796"},(0,t.jsx)("rect",{width:"20",height:"20",fill:"white"})))),(0,t.jsx)("span",null,"Общий объем добычи")),(0,t.jsx)("div",{className:"info-value"},f)),(0,t.jsx)("div",{className:"info-row"},(0,t.jsx)("div",{className:"info-label"},(0,t.jsx)("svg",{width:"20",height:"20",viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg"},(0,t.jsx)("path",{d:"M3.67028 11.3416C2.92931 10.954 2.5 10.4937 2.5 10C2.5 8.61929 5.85786 7.5 10 7.5C14.1421 7.5 17.5 8.61929 17.5 10C17.5 10.5954 16.8757 11.1421 15.8333 11.5715",stroke:"#6E7275","stroke-width":"1.5","stroke-linecap":"round","stroke-linejoin":"round"}),(0,t.jsx)("path",{d:"M10 9.17496L10.0083 9.1657",stroke:"#6E7275","stroke-width":"1.5","stroke-linecap":"round","stroke-linejoin":"round"}),(0,t.jsx)("path",{d:"M14.0689 5C14.0649 4.14752 13.8498 3.54424 13.4046 3.31736C12.1743 2.69053 9.65261 5.17427 7.77212 8.86494C5.89163 12.5556 5.36448 16.0556 6.5947 16.6825C7.03423 16.9064 7.6386 16.7333 8.31968 16.25",stroke:"#6E7275","stroke-width":"1.5","stroke-linecap":"round","stroke-linejoin":"round"}),(0,t.jsx)("path",{d:"M8.00123 3.54303C7.45093 3.22149 6.96479 3.12907 6.59521 3.31738C5.36498 3.94421 5.89213 7.44424 7.77262 11.1349C9.65311 14.8256 12.1748 17.3093 13.4051 16.6825C14.4986 16.1253 14.2036 13.2981 12.8039 10.0846",stroke:"#6E7275","stroke-width":"1.5","stroke-linecap":"round","stroke-linejoin":"round"})),(0,t.jsx)("span",null,"Минералы")),(0,t.jsx)("div",{className:"info-value"},m))))};function z(t){const[o,n]=(0,e.useState)(null),[a,r]=(0,e.useState)(!0),[s,l]=(0,e.useState)(null);return(0,e.useEffect)((()=>{t&&(()=>{var e,o,a,s;e=this,o=void 0,s=function*(){r(!0),l(null);try{const e=yield(t=>{return e=void 0,o=void 0,a=function*(){return(yield i.get("/v1/object-geojson",{params:{object_id:t}})).data},new((n=void 0)||(n=Promise))((function(t,i){function r(t){try{l(a.next(t))}catch(t){i(t)}}function s(t){try{l(a.throw(t))}catch(t){i(t)}}function l(e){var o;e.done?t(e.value):(o=e.value,o instanceof n?o:new n((function(t){t(o)}))).then(r,s)}l((a=a.apply(e,o||[])).next())}));var e,o,n,a})(Number(t));n(e)}catch(t){l("Ошибка при загрузке geojson: "+t.message)}finally{r(!1)}},new((a=void 0)||(a=Promise))((function(t,n){function i(t){try{l(s.next(t))}catch(t){n(t)}}function r(t){try{l(s.throw(t))}catch(t){n(t)}}function l(e){var o;e.done?t(e.value):(o=e.value,o instanceof a?o:new a((function(t){t(o)}))).then(i,r)}l((s=s.apply(e,o||[])).next())}))})()}),[t]),{data:o,loading:a,error:s}}var b=a(26826);const j=({objectId:o})=>{const{data:n,loading:i,error:a}=z(o),r=(0,e.useRef)(null),s=(0,e.useRef)(null),[l,u]=(0,e.useState)(null);return(0,e.useEffect)((()=>{if(!(null==n?void 0:n.object_position)||!r.current)return;let t=null;return e=void 0,o=void 0,a=function*(){try{const e=JSON.parse(n.object_position);let o=69.2401,i=41.2995,a=[];if("Polygon"===e.type&&e.coordinates){a=e.coordinates;const t=a[0];if(t&&t.length>0){const e=t.map((t=>t[0])),n=t.map((t=>t[1]));o=e.reduce(((t,e)=>t+e),0)/e.length,i=n.reduce(((t,e)=>t+e),0)/n.length}}else if("MultiPolygon"===e.type&&e.coordinates){const t=e.coordinates[0];if(t&&t[0]){const e=t[0],n=e.map((t=>t[0])),a=e.map((t=>t[1]));o=n.reduce(((t,e)=>t+e),0)/n.length,i=a.reduce(((t,e)=>t+e),0)/a.length}a=t}const[l,u,c,d,p,f]=yield(0,b.loadArcGISJSAPIModules)(["esri/Map","esri/views/MapView","esri/Graphic","esri/layers/GraphicsLayer","esri/geometry/SpatialReference","esri/geometry/Polygon"]),x=new l({basemap:"hybrid"});t=new u({container:r.current,map:x,center:[o,i],zoom:14}),s.current=t;const m=new d;if(x.add(m),a.length>0){const e=new c({geometry:new f({rings:a,spatialReference:p.WGS84}),symbol:{type:"simple-fill",color:[51,122,183,.6],outline:{color:[255,0,0,1],width:2}}});m.add(e),t.when((()=>{t.goTo(e.geometry.extent.expand(1.5))}))}}catch(t){u("Не удалось загрузить карту")}},new((i=void 0)||(i=Promise))((function(t,n){function r(t){try{l(a.next(t))}catch(t){n(t)}}function s(t){try{l(a.throw(t))}catch(t){n(t)}}function l(e){var o;e.done?t(e.value):(o=e.value,o instanceof i?o:new i((function(t){t(o)}))).then(r,s)}l((a=a.apply(e,o||[])).next())})),()=>{t&&(t.destroy(),s.current=null)};var e,o,i,a}),[n]),i?(0,t.jsx)("div",{style:{padding:"20px"}},"Загрузка географических данных..."):a?(0,t.jsx)("div",{className:"error",style:{padding:"20px"}},a):(null==n?void 0:n.object_position)?l?(0,t.jsx)("div",{style:{padding:"20px",border:"1px solid #e7e5e6",borderRadius:"12px"}},(0,t.jsx)("p",{style:{color:"#666"}},l)):(0,t.jsx)("div",{className:"geo-info"},(0,t.jsx)("div",{ref:r,className:"map-container"})):(0,t.jsx)("div",{style:{padding:"20px",border:"1px solid #e7e5e6",borderRadius:"12px"}},(0,t.jsx)("p",{style:{color:"#666"}},"Географические данные недоступны"))},w=({objectId:e})=>(0,t.jsx)("div",{className:"info-container"},(0,t.jsx)(y,{objectId:e}),(0,t.jsx)(j,{objectId:e}));var k=function(t,e,o,n){return new(o||(o=Promise))((function(i,a){function r(t){try{l(n.next(t))}catch(t){a(t)}}function s(t){try{l(n.throw(t))}catch(t){a(t)}}function l(t){var e;t.done?i(t.value):(e=t.value,e instanceof o?e:new o((function(t){t(e)}))).then(r,s)}l((n=n.apply(t,e||[])).next())}))};function C(t){return k(this,arguments,void 0,(function*(t,e=!0){const{data:o}=yield i.get(`/v1/files/download-link/${encodeURIComponent(t)}`,{params:{as_file:e},headers:{Authorization:`Bearer ${localStorage.getItem("authToken")}`}});let n=o.url||o.download_url;if(!n)throw new Error("Presigned URL not found in response");return n.startsWith("/")?n="https://geomodul.cmspace.uz"+n:n.includes("localhost:3001")&&(n=n.replace(/https:\/\/localhost:3001/gi,"https://geomodul.cmspace.uz"),n=n.replace(/http:\/\/localhost:3001/gi,"https://geomodul.cmspace.uz"),n=n.replace(/localhost:3001/gi,"geomodul.cmspace.uz")),n}))}function _(t){return k(this,void 0,void 0,(function*(){const{data:e}=yield i.get(`/v1/analysis-result/${t}`);return e}))}var L=function(t,e,o,n){return new(o||(o=Promise))((function(i,a){function r(t){try{l(n.next(t))}catch(t){a(t)}}function s(t){try{l(n.throw(t))}catch(t){a(t)}}function l(t){var e;t.done?i(t.value):(e=t.value,e instanceof o?e:new o((function(t){t(e)}))).then(r,s)}l((n=n.apply(t,e||[])).next())}))};const N=t=>{const e=document.createElement("a");e.href=t,e.download="",document.body.appendChild(e),e.click(),document.body.removeChild(e)},M=({objectId:o,fileKeys:n,links:a,onError:r})=>{var s,l;const{imageId:u}=d(),[c,p]=(0,e.useState)("uploading"),[f,x]=(0,e.useState)(null),[m,h]=(0,e.useState)(""),[g,v]=(0,e.useState)(!1),[y,z]=(0,e.useState)(!1),[b,j]=(0,e.useState)(null),[w,_]=(0,e.useState)([]),[M,S]=(0,e.useState)(!0),E=null!==(s=null==n?void 0:n.dem_key)&&void 0!==s?s:null,I=null!==(l=null==n?void 0:n.difference_key)&&void 0!==l?l:null,T=Boolean(u),P=!T;(0,e.useEffect)((()=>{L(void 0,void 0,void 0,(function*(){var t;try{S(!0);let e=[];if(T)e=Array.isArray(null==n?void 0:n.previous_dem_key)?n.previous_dem_key:[];else{const n=yield function(t){return k(this,void 0,void 0,(function*(){const{data:e}=yield i.get("/v1/get-latest-data",{params:{object_id:t}});return e}))}(Number(o));e=Array.isArray(null===(t=n.files)||void 0===t?void 0:t.previous_dem_key)?n.files.previous_dem_key:[]}const a=yield Promise.all(e.map((t=>L(void 0,void 0,void 0,(function*(){try{const e=yield C(t.fileId);return{type:t.type,fileId:t.fileId,url:e}}catch(e){return{type:t.type,fileId:t.fileId,url:null}}})))));_(a)}catch(t){_([])}finally{S(!1)}}))}),[o,T,null==n?void 0:n.previous_dem_key]);const B=(0,e.useMemo)((()=>Boolean(f&&m)),[f,m]);return(0,t.jsx)("div",null,(g||"success"===c||"error"===c)&&(0,t.jsx)("div",{className:`upload-snackbar ${c}`},"uploading"===c&&(0,t.jsx)("div",null,(0,t.jsx)("span",null,"Uploading..."),(0,t.jsx)("button",{onClick:()=>{null==b||b.abort(),v(!1),j(null)}},"Cancel")),"success"===c&&(0,t.jsx)("div",null,(0,t.jsx)("span",null,"Upload successful"),(0,t.jsx)("button",{onClick:()=>{window.location.reload()}},"Reload")),"error"===c&&(0,t.jsx)("div",null,(0,t.jsx)("span",null,"Upload error"),(0,t.jsx)("button",{onClick:()=>p("uploading")},"Close"))),(0,t.jsx)("div",{className:"calculate-files"},(0,t.jsx)("h4",null,"Вычисление с помощью аэрокосмического мониторинга:"),(0,t.jsx)("div",{className:"files-initial"},(0,t.jsx)("h5",null,"Исходная карта:"),M&&(0,t.jsx)("div",{className:"file-container"},(0,t.jsx)("div",null,(0,t.jsx)("svg",{className:"file-icon",width:"20",height:"20",viewBox:"0 0 20 20",fill:"none"},(0,t.jsx)("path",{d:"M4 2h8l4 4v10a2 2 0 01-2 2H4a2 2 0 01-2-2V4a2 2 0 012-2z",stroke:"#666",strokeWidth:"1.5",fill:"none"}),(0,t.jsx)("path",{d:"M12 2v4h4",stroke:"#666",strokeWidth:"1.5",fill:"none"})),(0,t.jsx)("span",null,"Loading..."))),!M&&0===w.length&&(0,t.jsx)("div",{className:"file-container"},(0,t.jsx)("div",null,(0,t.jsx)("svg",{className:"file-icon",width:"20",height:"20",viewBox:"0 0 20 20",fill:"none"},(0,t.jsx)("path",{d:"M4 2h8l4 4v10a2 2 0 01-2 2H4a2 2 0 01-2-2V4a2 2 0 012-2z",stroke:"#666",strokeWidth:"1.5",fill:"none"}),(0,t.jsx)("path",{d:"M12 2v4h4",stroke:"#666",strokeWidth:"1.5",fill:"none"})),(0,t.jsx)("span",null,"Нет доступных файлов"))),!M&&w.map(((e,o)=>(0,t.jsx)("div",{key:`${e.type}-${o}`,className:"file-container"},(0,t.jsx)("div",null,(0,t.jsx)("svg",{className:"file-icon",width:"20",height:"20",viewBox:"0 0 20 20",fill:"none"},(0,t.jsx)("path",{d:"M4 2h8l4 4v10a2 2 0 01-2 2H4a2 2 0 01-2-2V4a2 2 0 012-2z",stroke:"#666",strokeWidth:"1.5",fill:"none"}),(0,t.jsx)("path",{d:"M12 2v4h4",stroke:"#666",strokeWidth:"1.5",fill:"none"})),(0,t.jsx)("span",null,`${e.type} — ${e.fileId}`)),e.url&&(0,t.jsx)("button",{className:"download-btn",onClick:()=>N(e.url)},(0,t.jsx)("svg",{width:"16",height:"16",viewBox:"0 0 16 16",fill:"none"},(0,t.jsx)("path",{d:"M8 12L3 7h3V2h4v5h3L8 12z",fill:"currentColor"}),(0,t.jsx)("path",{d:"M2 13h12v2H2v-2z",fill:"currentColor"})),(0,t.jsx)("span",null,"Скачать")))))),P&&!y&&(0,t.jsx)("div",{className:"files-upload"},(0,t.jsx)("div",{className:"upload-top-container"},(0,t.jsx)("h5",null,"Загрузить новую карту:"),(0,t.jsx)("div",{className:"calendar-container"},(0,t.jsx)("input",{type:"date",value:m,onChange:t=>h(t.target.value)}))),(0,t.jsx)("div",{className:"import-file"},(0,t.jsx)("label",{htmlFor:"file-upload",className:"import-file-label"},(0,t.jsx)("span",{className:"file-icon"},"📤"),(0,t.jsx)("span",{className:"main-text"},"Загрузить файл"),(0,t.jsx)("span",{className:"secondary-text"},"Формат файла .ZIP / .RAR")),(0,t.jsx)("input",{type:"file",id:"file-upload",className:"import-file-input",accept:".zip,.rar,application/zip,application/x-rar-compressed,application/octet-stream",onChange:t=>{t.target.files&&t.target.files[0]&&x(t.target.files[0])},style:{display:"none"}})),f&&(0,t.jsx)("div",{className:"file-container"},(0,t.jsx)("div",null,(0,t.jsx)("svg",{className:"file-icon",width:"20",height:"20",viewBox:"0 0 20 20",fill:"none"},(0,t.jsx)("path",{d:"M4 2h8l4 4v10a2 2 0 01-2 2H4a2 2 0 01-2-2V4a2 2 0 012-2z",stroke:"#666",strokeWidth:"1.5",fill:"none"}),(0,t.jsx)("path",{d:"M12 2v4h4",stroke:"#666",strokeWidth:"1.5",fill:"none"})),(0,t.jsx)("span",null,f.name)),(0,t.jsx)("button",{className:"download-btn",onClick:()=>x(null)},"Отмена"))),T&&E&&(0,t.jsx)("div",{className:"files-upload"},(0,t.jsx)("h5",null,"Новая карта:"),(0,t.jsx)("div",{className:"file-container"},(0,t.jsx)("div",null,(0,t.jsx)("svg",{className:"file-icon",width:"20",height:"20",viewBox:"0 0 20 20",fill:"none"},(0,t.jsx)("path",{d:"M4 2h8l4 4v10a2 2 0 01-2 2H4a2 2 0 01-2-2V4a2 2 0 012-2z",stroke:"#666",strokeWidth:"1.5",fill:"none"}),(0,t.jsx)("path",{d:"M12 2v4h4",stroke:"#666",strokeWidth:"1.5",fill:"none"})),(0,t.jsx)("span",null,E)),(null==a?void 0:a.dem_url)&&(0,t.jsx)("button",{className:"download-btn",onClick:()=>N(a.dem_url)},(0,t.jsx)("svg",{width:"16",height:"16",viewBox:"0 0 16 16",fill:"none"},(0,t.jsx)("path",{d:"M8 12L3 7h3V2h4v5h3L8 12z",fill:"currentColor"}),(0,t.jsx)("path",{d:"M2 13h12v2H2v-2z",fill:"currentColor"})),(0,t.jsx)("span",null,"Скачать")))),T&&(0,t.jsx)("div",{className:"files-calculate"},(0,t.jsx)("h5",null,"Вычисленная карта:"),(0,t.jsx)("div",{className:"file-container"},(0,t.jsx)("div",null,(0,t.jsx)("svg",{className:"file-icon",width:"20",height:"20",viewBox:"0 0 20 20",fill:"none"},(0,t.jsx)("path",{d:"M4 2h8l4 4v10a2 2 0 01-2 2H4a2 2 0 01-2-2V4a2 2 0 012-2z",stroke:"#666",strokeWidth:"1.5",fill:"none"}),(0,t.jsx)("path",{d:"M12 2v4h4",stroke:"#666",strokeWidth:"1.5",fill:"none"})),(0,t.jsx)("span",null,null!=I?I:"File not available")),(null==a?void 0:a.difference_url)&&(0,t.jsx)("button",{className:"download-btn",onClick:()=>N(a.difference_url)},(0,t.jsx)("svg",{width:"16",height:"16",viewBox:"0 0 16 16",fill:"none"},(0,t.jsx)("path",{d:"M8 12L3 7h3V2h4v5h3L8 12z",fill:"currentColor"}),(0,t.jsx)("path",{d:"M2 13h12v2H2v-2z",fill:"currentColor"})),(0,t.jsx)("span",null,"Скачать")))),P&&(0,t.jsx)("div",null,(0,t.jsx)("div",{className:"spacer"}),(0,t.jsx)("button",{className:"calculate-btn",disabled:!B||g,onClick:()=>L(void 0,void 0,void 0,(function*(){if(!f||!m)return;const t=new AbortController;j(t),v(!0),p("uploading");try{yield((t,e,o,n,i)=>{return a=void 0,r=void 0,l=function*(){const a=localStorage.getItem("authToken");if(!a)throw null==n||n("snackbar.error_token"),new Error("Ошибка: токен аутентификации отсутствует.");const r=new FormData;r.append("file",o);const s=`https://geomodul.cmspace.uz/api/v1/process-archive?object_id=${t}&topographic_map_date=${encodeURIComponent(e)}`;try{const t=yield fetch(s,{method:"POST",headers:{Authorization:`Bearer ${a}`},body:r,signal:i});if(!t.ok)throw new Error(`HTTP error! status: ${t.status}`);return yield t.json()}catch(t){throw"AbortError"===t.name?null==n||n("snackbar.upload_canceled"):null==n||n("snackbar.error_common"),t}},new((s=void 0)||(s=Promise))((function(t,e){function o(t){try{i(l.next(t))}catch(t){e(t)}}function n(t){try{i(l.throw(t))}catch(t){e(t)}}function i(e){var i;e.done?t(e.value):(i=e.value,i instanceof s?i:new s((function(t){t(i)}))).then(o,n)}i((l=l.apply(a,r||[])).next())}));var a,r,s,l})(o,m,f,r,t.signal),p("success")}catch(t){"ERR_CANCELED"===t.code||p("error")}finally{v(!1),j(null),z(!0)}}))},g?"Обработка...":"Расчитать и Сохранить"))))},S=({isOpen:e,onClose:o})=>e?(0,t.jsx)("div",{className:"modal-overlay",onClick:o},(0,t.jsx)("div",{className:"volumes-info-modal",onClick:t=>t.stopPropagation()},(0,t.jsx)("h2",{className:"volumes-info-title"},"Объём выемки и насыпи"),(0,t.jsx)("div",{className:"volumes-info-image"},(0,t.jsx)("img",{src:"https://geomodul.cmspace.uz/assets/object_sample-BX31Qr0i.png",alt:"Объём выемки и насыпи"})),(0,t.jsx)("p",{className:"volumes-info-description"},"Объём выемки и насыпи внутри лицензионного участка рассчитывается по спутниковым данным. На карте показаны границы лицензионной территории и зоны изменений рельефа."),(0,t.jsx)("button",{className:"volumes-info-close-btn",onClick:o},"Закрыть"))):null,E=({analysis:o,pdfUrl:n})=>{const{volumes:i,dem_metadata:a}=o,[r,s]=(0,e.useState)(!1),l=[{title:"Лицензионный участок и прилегающая территория",data:i.intersection},{title:"Лицензионный участок",data:i.aoi},{title:"Выход за границу лицензионного участка",data:i.delta}];return(0,t.jsx)("div",{className:"volumes-card"},(0,t.jsx)("h4",null,"Результаты расчёта объёмов"),l.map(((e,o)=>(0,t.jsx)("div",{key:o,className:"section"},(0,t.jsx)("div",{className:"section-header"},(0,t.jsx)("h5",null,e.title),(0,t.jsx)("span",{className:"info-icon",onClick:()=>s(!0),role:"button",title:"Информация"},"ⓘ")),(0,t.jsx)("div",{className:"row"},(0,t.jsx)("span",null,"Выемка"),(0,t.jsx)("span",null,e.data.cut_m3.toFixed(3)," м³")),(0,t.jsx)("div",{className:"row"},(0,t.jsx)("span",null,"Насыпь"),(0,t.jsx)("span",null,e.data.fill_m3.toFixed(3)," м³")),(0,t.jsx)("div",{className:"short-line"}),(0,t.jsx)("div",{className:"total-row"},(0,t.jsx)("span",null,a.start_date," – ",a.topomap_date),(0,t.jsx)("span",{className:"total-value"},(e.data.cut_m3-e.data.fill_m3).toFixed(3)," м³"))))),n&&(0,t.jsx)("div",{className:"file-container"},(0,t.jsx)("div",null,(0,t.jsx)("svg",{className:"file-icon",width:"20",height:"20",viewBox:"0 0 20 20",fill:"none"},(0,t.jsx)("path",{d:"M4 2h8l4 4v10a2 2 0 01-2 2H4a2 2 0 01-2-2V4a2 2 0 012-2z",stroke:"#666",strokeWidth:"1.5",fill:"none"}),(0,t.jsx)("path",{d:"M12 2v4h4",stroke:"#666",strokeWidth:"1.5",fill:"none"})),(0,t.jsx)("span",null,"Aerocosmic_Report.pdf")),(0,t.jsx)("button",{className:"download-btn",onClick:()=>(t=>{const e=document.createElement("a");e.href=t,e.download="Aerocosmic_Report.pdf",e.target="_blank",e.rel="noopener noreferrer",document.body.appendChild(e),e.click(),document.body.removeChild(e)})(n)},(0,t.jsx)("svg",{width:"16",height:"16",viewBox:"0 0 16 16",fill:"none"},(0,t.jsx)("path",{d:"M8 12L3 7h3V2h4v5h3L8 12z",fill:"currentColor"}),(0,t.jsx)("path",{d:"M2 13h12v2H2v-2z",fill:"currentColor"})),(0,t.jsx)("span",null,"Скачать"))),(0,t.jsx)(S,{isOpen:r,onClose:()=>s(!1)}))},I=t=>`${Math.abs(null!=t?t:0).toFixed(3)} м³`,T=()=>[...Array(3)].map(((e,o)=>(0,t.jsx)("div",{key:o,className:"mining-container"},(0,t.jsx)("div",{className:"mining-date empty"}),(0,t.jsx)("div",{className:"mining-value empty"})))),P=({analysis:o})=>{var n,i,a,r,s,l;const u=null!==(n=null==o?void 0:o.dem_metadata)&&void 0!==n?n:null,c=null!==(i=null==o?void 0:o.volumes)&&void 0!==i?i:null,d=null!==(a=null==o?void 0:o.reported_mining_volumes)&&void 0!==a?a:[],p=Number(null!==(r=null==o?void 0:o.reported_mining_volume_sum)&&void 0!==r?r:0),f=null!==(s=null==u?void 0:u.start_date)&&void 0!==s?s:"—",x=null!==(l=null==u?void 0:u.topomap_date)&&void 0!==l?l:"—",m="—"!==f&&"—"!==x?`${f} - ${x}`:"Неизвестно",h=(0,e.useMemo)((()=>{var t,e,o,n;return c?(null!==(e=null===(t=c.intersection)||void 0===t?void 0:t.cut_m3)&&void 0!==e?e:0)-(null!==(n=null===(o=c.intersection)||void 0===o?void 0:o.fill_m3)&&void 0!==n?n:0):0}),[c]),g=`${h.toFixed(3)} м³`,v=h-p,y=!o,z=0===d.length;return(0,t.jsx)("div",{className:"calculate-stats"},(0,t.jsx)("div",{className:"stats-result"},(0,t.jsx)("h4",null,"Аэрокосмический мониторинг"),(0,t.jsx)("div",{className:"result-container"},(0,t.jsx)("span",{className:"result-date"},m),(0,t.jsx)("span",{className:"result-value"},y?"—":g))),(0,t.jsx)("div",{className:"stats-mining"},(0,t.jsx)("h4",null,"Налоговая информация"),(0,t.jsx)("div",{className:"mining-values"},y||z?(0,t.jsx)(T,null):d.map(((e,o)=>(0,t.jsx)("div",{key:o,className:"mining-container"},(0,t.jsx)("span",{className:"mining-date"},e.mining_date_begin," - ",e.mining_date_end),(0,t.jsx)("span",{className:"mining-value"},I(e.mining_volume)))))),(0,t.jsx)("div",{className:"mining-overall"},(0,t.jsx)("div",{className:"overall-name"},"Общая сумма"),(0,t.jsx)("span",{className:"overall-value"},y?"—":I(p)))),(0,t.jsx)("div",{className:"stats-difference"},(0,t.jsx)("div",{className:"difference-name"},"Вычисленная разница"),(0,t.jsx)("span",{className:"difference-value"},y?"—":v.toFixed(3)+" м³")))};var B=function(t,e,o,n){return new(o||(o=Promise))((function(i,a){function r(t){try{l(n.next(t))}catch(t){a(t)}}function s(t){try{l(n.throw(t))}catch(t){a(t)}}function l(t){var e;t.done?i(t.value):(e=t.value,e instanceof o?e:new o((function(t){t(e)}))).then(r,s)}l((n=n.apply(t,e||[])).next())}))};const U=({visualizationKey:o})=>{const[n,i]=(0,e.useState)(null),[a,r]=(0,e.useState)(!0),[s,l]=(0,e.useState)(null),[u,c]=(0,e.useState)(!1),d=(0,e.useRef)(null);return(0,e.useEffect)((()=>{let t=!0;return B(void 0,void 0,void 0,(function*(){try{r(!0),l(null);const e=yield C(o,!1),n=yield fetch(e),a=yield n.text();if(!t)return;i(a||"")}catch(e){if(!t)return;l("Error loading visualization")}finally{t&&r(!1)}})),()=>{t=!1}}),[o]),a?(0,t.jsx)("div",{className:"loading-container"},(0,t.jsx)("p",{className:"loading-text"},"Loading...")):s?(0,t.jsx)("p",{className:"error"},s):(0,t.jsx)("div",{className:"visualization"},n?(0,t.jsx)("div",{className:"visualization-container"},(0,t.jsx)("iframe",{ref:d,className:"frame",sandbox:"allow-scripts allow-same-origin",srcDoc:n,"aria-label":"Visualization",style:{width:"100%",height:"600px",border:"none"}}),(0,t.jsx)("button",{onClick:()=>B(void 0,void 0,void 0,(function*(){try{c(!0);const t=yield C(o,!0),e=yield fetch(t);if(!e.ok)throw new Error("Bad response while downloading visualization");const n=yield e.blob(),i=URL.createObjectURL(n),a=document.createElement("a");a.href=i,a.download="visualization.html",document.body.appendChild(a),a.click(),document.body.removeChild(a),URL.revokeObjectURL(i)}catch(t){l("Download error")}finally{c(!1)}})),className:"download-button-small",disabled:u,title:u?"Downloading...":"Download HTML"},(0,t.jsx)("svg",{width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",style:{marginRight:"6px"}},(0,t.jsx)("path",{d:"M8 1V11M8 11L11 8M8 11L5 8",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"}),(0,t.jsx)("path",{d:"M1 11V13C1 13.5304 1.21071 14.0391 1.58579 14.4142C1.96086 14.7893 2.46957 15 3 15H13C13.5304 15 14.0391 14.7893 14.4142 14.4142C14.7893 14.0391 15 13.5304 15 13V11",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"})),"Скачать HTML")):(0,t.jsx)("p",null,"Visualization unavailable"))};var H=function(t,e,o,n){return new(o||(o=Promise))((function(i,a){function r(t){try{l(n.next(t))}catch(t){a(t)}}function s(t){try{l(n.throw(t))}catch(t){a(t)}}function l(t){var e;t.done?i(t.value):(e=t.value,e instanceof o?e:new o((function(t){t(e)}))).then(r,s)}l((n=n.apply(t,e||[])).next())}))};const A=({objectId:t,imageId:o})=>{const[n,i]=(0,e.useState)(null),[a,r]=(0,e.useState)(null),[s,l]=(0,e.useState)(!0),[c,d]=(0,e.useState)(null),p=(0,e.useRef)(""),f=(0,e.useCallback)((()=>H(void 0,void 0,void 0,(function*(){if(null===o)return i(null),r(null),d(null),void l(!1);l(!0);try{let e;e="number"==typeof o?yield _(o):yield function(t){return k(this,void 0,void 0,(function*(){const e=yield u(t);if(null==e.image_id)throw new Error("image_id отсутствует в /v1/object-summary");return _(e.image_id)}))}(Number(t)),i(e),d(null)}catch(t){i(null),d("Ошибка при загрузке analysis-result: "+t.message)}finally{l(!1)}}))),[t,o]),x=(0,e.useCallback)((t=>H(void 0,void 0,void 0,(function*(){var e,o,n,i,a,s,l,u,c,d;if(!t)return r(null),void(p.current="");const f=null!==(o=null===(e=t.files)||void 0===e?void 0:e.previous_dem_key)&&void 0!==o?o:[],x=null!==(i=null===(n=t.files)||void 0===n?void 0:n.dem_key)&&void 0!==i?i:"",m=null!==(s=null===(a=t.files)||void 0===a?void 0:a.difference_key)&&void 0!==s?s:"",h=null!==(u=null===(l=t.files)||void 0===l?void 0:l.visualization_key)&&void 0!==u?u:"",g=null!==(d=null===(c=t.files)||void 0===c?void 0:c.pdf)&&void 0!==d?d:"",v=[f.map((t=>t.fileId)).join(","),x,m,h,g].join("|");if(v===p.current)return;p.current=v;const y=yield Promise.all(f.map((t=>H(void 0,void 0,void 0,(function*(){const e=yield C(t.fileId);return{type:t.type,url:e}}))))),[z,b,j,w]=yield Promise.all([x?C(x):Promise.resolve(null),m?C(m):Promise.resolve(null),h?C(h,!1):Promise.resolve(null),g?C(g,!0):Promise.resolve(null)]);r({previous_dem_urls:y,dem_url:z,difference_url:b,visualization_url:j,pdf_url:w})}))),[]),m=(0,e.useCallback)((()=>H(void 0,void 0,void 0,(function*(){yield f()}))),[f]);return(0,e.useEffect)((()=>{f()}),[f]),(0,e.useEffect)((()=>{x(n)}),[n,x]),{analysis:n,links:a,loading:s,error:c,reloadData:m}},V=({objectId:o,isVisible:n})=>{const{imageId:i}=d(),{analysis:a,links:r,loading:s,error:l}=A({objectId:o,imageId:i}),[u,c]=(0,e.useState)(!1),[p,f]=(0,e.useState)(),x=null!==i;return l?(0,t.jsx)("p",{className:"error"},l):s?(0,t.jsx)("p",null,"Loading..."):(0,t.jsx)("div",{className:"calculate-container"},(0,t.jsx)("div",{className:"calculation-container "+(x?"three-columns":"two-columns")},(0,t.jsx)(M,{objectId:o,fileKeys:a?a.files:null,links:r,onError:t=>{f(t),c(!0)}}),(0,t.jsx)(P,{analysis:a,objectId:o}),x&&a&&(0,t.jsx)(E,{analysis:a,pdfUrl:null==r?void 0:r.pdf_url})),u&&p&&(0,t.jsx)("div",{className:"error-snackbar"},(0,t.jsx)("span",null,p),(0,t.jsx)("button",{onClick:()=>c(!1)},"✖️")),n&&x&&(null==a?void 0:a.files.visualization_key)&&(0,t.jsx)(U,{visualizationKey:a.files.visualization_key}))};const q=t=>{const[o,n]=(0,e.useState)(null),[a,r]=(0,e.useState)(!0),[s,l]=(0,e.useState)(null);return(0,e.useEffect)((()=>{var e,o,a,s;t&&(e=void 0,o=void 0,s=function*(){var e,o;try{const e=yield(t=>{return e=void 0,o=void 0,a=function*(){var e,o,n;try{const e=yield i.get("/v1/status_doc_history",{params:{object_id:t}});return e.data&&0!==e.data.length?e.data.reduce(((t,e)=>(t[e.court_date]||(t[e.court_date]=[]),t[e.court_date].push(e),t)),{}):null}catch(t){if(404===(null===(e=t.response)||void 0===e?void 0:e.status)||404===t.status||(null===(o=t.message)||void 0===o?void 0:o.includes("404"))||(null===(n=t.message)||void 0===n?void 0:n.includes("status: 404")))return null;throw new Error("Ошибка загрузки документов")}},new((n=void 0)||(n=Promise))((function(t,i){function r(t){try{l(a.next(t))}catch(t){i(t)}}function s(t){try{l(a.throw(t))}catch(t){i(t)}}function l(e){var o;e.done?t(e.value):(o=e.value,o instanceof n?o:new n((function(t){t(o)}))).then(r,s)}l((a=a.apply(e,o||[])).next())}));var e,o,n,a})(Number(t));n(e),l(null)}catch(t){(null===(e=null==t?void 0:t.message)||void 0===e?void 0:e.includes("404"))||404===(null===(o=null==t?void 0:t.response)||void 0===o?void 0:o.status)?(n(null),l(null)):l("Ошибка загрузки документов")}finally{r(!1)}},new((a=void 0)||(a=Promise))((function(t,n){function i(t){try{l(s.next(t))}catch(t){n(t)}}function r(t){try{l(s.throw(t))}catch(t){n(t)}}function l(e){var o;e.done?t(e.value):(o=e.value,o instanceof a?o:new a((function(t){t(o)}))).then(i,r)}l((s=s.apply(e,o||[])).next())})))}),[t]),{docsByDate:o,loading:a,error:s}};let O=null;const R=({objectId:o})=>{const{docsByDate:n,loading:a,error:r}=q(o),[s,l]=(0,e.useState)("");return a?(0,t.jsx)("p",{className:"loading",style:{padding:"20px"}},"Загрузка файлов..."):r?(0,t.jsx)("p",{className:"error",style:{padding:"20px"}},r):n&&0!==Object.keys(n).length?(0,t.jsx)("div",null,s&&(0,t.jsx)("div",{className:"snackbar"},s),(0,t.jsx)("div",{className:"object-docs"},Object.entries(n).map((([e,n])=>(0,t.jsx)("div",{key:e,className:"date-group"},(0,t.jsx)("h3",{className:"date-title"},"Дата: ",e),n.map((e=>{const n=`object-${o}_file-${e.id}_${e.court_date}.${e.file_type}`;return(0,t.jsx)("div",{key:e.id,className:"doc-container"},(0,t.jsx)("div",{className:"doc-file"},(0,t.jsx)("div",{className:"doc-file-content"},(0,t.jsx)("span",{className:"file-icon"},"📄"),n),(0,t.jsx)("button",{className:"doc-file-button",onClick:()=>((t,e,o)=>{return n=void 0,a=void 0,s=function*(){try{O&&O.abort(),O=new AbortController,o("Начало загрузки...");const n=yield i.get("/v1/download-check-appendix",{params:{id:t},responseType:"blob",signal:O.signal,onDownloadProgress:t=>{if(t.loaded){const e=(t.loaded/1024/1024).toFixed(2);o(`Загружено: ${e} МБ`)}}});O=null;const a=window.URL.createObjectURL(n.data),r=document.createElement("a");r.href=a,r.setAttribute("download",e),document.body.appendChild(r),r.click(),document.body.removeChild(r),o("Файл успешно загружен"),setTimeout((()=>o("")),3e3)}catch(t){"AbortError"===t.name?o("Загрузка отменена"):o("Ошибка при загрузке файла")}},new((r=void 0)||(r=Promise))((function(t,e){function o(t){try{l(s.next(t))}catch(t){e(t)}}function i(t){try{l(s.throw(t))}catch(t){e(t)}}function l(e){var n;e.done?t(e.value):(n=e.value,n instanceof r?n:new r((function(t){t(n)}))).then(o,i)}l((s=s.apply(n,a||[])).next())}));var n,a,r,s})(e.id,n,l)},(0,t.jsx)("span",null,"⬇️"),(0,t.jsx)("span",null,"Скачать"))))}))))))):(0,t.jsx)("p",{className:"no-files",style:{padding:"20px",textAlign:"center",color:"#999",fontSize:"20px"}},"Нет доступных файлов")};var $=a(93379),Z=a.n($),D=a(7795),Q=a.n(D),W=a(90569),F=a.n(W),K=a(3565),Y=a.n(K),G=a(19216),J=a.n(G),X=a(44589),tt=a.n(X),et=a(90856),ot={};ot.styleTagTransform=tt(),ot.setAttributes=Y(),ot.insert=F().bind(null,"head"),ot.domAPI=Q(),ot.insertStyleElement=J(),Z()(et.Z,ot),et.Z&&et.Z.locals&&et.Z.locals;const nt=o=>{var n;const{id:i}=o,[a,r]=(0,e.useState)(""),[l,u]=(0,e.useState)((()=>localStorage.getItem("authToken")));(0,e.useEffect)((()=>{const t=()=>{const t=localStorage.getItem("attribute-id");t&&t!==a&&r(t)};t(),window.addEventListener("focus",t);const e=setInterval(t,500);return()=>{window.removeEventListener("focus",t),clearInterval(e)}}),[a]),(0,e.useEffect)((()=>{const t=()=>{const t=localStorage.getItem("authToken");t!==l&&u(t)};t(),window.addEventListener("storage",t),window.addEventListener("focus",t);const e=setInterval(t,500);return()=>{window.removeEventListener("storage",t),window.removeEventListener("focus",t),clearInterval(e)}}),[l]);const{objectDetails:d,loading:p,error:x,isUnauthorized:m}=s(a),[g,v]=(0,e.useState)("info");if((0,e.useEffect)((()=>{a&&v("info")}),[a]),!l||m)return(0,t.jsx)("div",{className:"widget-detailed-object"},(0,t.jsx)("div",{className:"unauthorized-container"},(0,t.jsx)("div",{className:"unauthorized-content"},(0,t.jsx)("svg",{className:"unauthorized-icon",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},(0,t.jsx)("circle",{cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"2"}),(0,t.jsx)("path",{d:"M12 8V12",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round"}),(0,t.jsx)("circle",{cx:"12",cy:"16",r:"1",fill:"currentColor"})),(0,t.jsx)("h2",{className:"unauthorized-title"},"Доступ запрещен"),(0,t.jsx)("p",{className:"unauthorized-message"},"У вас нет доступа к этому контенту. Пожалуйста, войдите в систему, чтобы продолжить."),(0,t.jsx)("div",{className:"unauthorized-details"},(0,t.jsx)("p",null,"Возможные причины:"),(0,t.jsx)("ul",null,(0,t.jsx)("li",null,"Вы не авторизованы в системе"),(0,t.jsx)("li",null,"Ваша сессия истекла"),(0,t.jsx)("li",null,"У вас недостаточно прав для просмотра"))))));if(!a)return(0,t.jsx)("div",{className:"widget-detailed-object",style:{padding:"40px",textAlign:"center"}},(0,t.jsx)("p",{style:{fontSize:"16px",color:"#666"}},'ID объекта не найден в localStorage (ключ: "attribute-id")'));if(p)return(0,t.jsx)("div",{className:"widget-detailed-object",style:{padding:"40px",textAlign:"center"}},(0,t.jsx)("p",{style:{fontSize:"16px",color:"#666"}},"Загрузка данных..."));if(x&&!m)return(0,t.jsx)("div",{className:"widget-detailed-object",style:{padding:"40px",textAlign:"center"}},(0,t.jsx)("p",{className:"error",style:{fontSize:"16px"}},x));if(!d)return(0,t.jsx)("div",{className:"widget-detailed-object",style:{padding:"40px",textAlign:"center"}},(0,t.jsx)("p",{style:{fontSize:"16px",color:"#666"}},"Объект не найден"));const y=(null===(n=o.config)||void 0===n?void 0:n.linkParam)&&o.config.linkParam.linkType!==t.LinkType.None;return(0,t.jsx)("div",{className:"widget-detailed-object","data-widget-id":i},(0,t.jsx)("main",{className:"mainContent"},(0,t.jsx)("div",{className:"top_container"},y&&(0,t.jsx)("button",{className:"back-button",onClick:()=>{var e;const n=null===(e=o.config)||void 0===e?void 0:e.linkParam;if(n&&n.linkType&&n.linkType!==t.LinkType.None&&n.linkType===t.LinkType.Page&&n.value){const e=n.value,o=n.openType||"_self";if("_blank"===o){const t=`${window.location.href.split("#")[0]}page/${e}/`;window.open(t,"_blank")}else if("_top"===o){const t=window.top.location.href.split("#")[0];window.top.location.href=`${t}page/${e}/`}else t.jimuHistory.changePage(e)}},title:"Назад к списку"},(0,t.jsx)("svg",{width:"20",height:"20",viewBox:"0 0 20 20",fill:"none"},(0,t.jsx)("path",{d:"M12.5 15L7.5 10L12.5 5",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}))),(0,t.jsx)("h2",null,d.name)),(0,t.jsx)(c,{objectId:a},(0,t.jsx)("section",{className:"object_content"},(0,t.jsx)(f,{active:g,setActive:v}),(0,t.jsx)(h,{steps:d.step}),(0,t.jsx)("div",{className:"info"===g?"active":"hidden"},(0,t.jsx)(w,{objectId:a})),(0,t.jsx)("div",{className:"calculate"===g?"active":"hidden"},(0,t.jsx)(V,{objectId:a,isVisible:"calculate"===g})),(0,t.jsx)("div",{className:"docs"===g?"active":"hidden"},(0,t.jsx)(R,{objectId:a}))))))};function it(t){a.p=t}})(),r})())}}}));