System.register(["jimu-ui","jimu-core/react"],(function(e,t){var o={},r={};return{setters:[function(e){o.Button=e.Button},function(e){r.default=e.default,r.useEffect=e.useEffect,r.useState=e.useState}],execute:function(){e((()=>{var e={68972:e=>{"use strict";e.exports=r},14321:e=>{"use strict";e.exports=o}},t={};function n(o){var r=t[o];if(void 0!==r)return r.exports;var i=t[o]={exports:{}};return e[o](i,i.exports,n),i.exports}n.d=(e,t)=>{for(var o in t)n.o(t,o)&&!n.o(e,o)&&Object.defineProperty(e,o,{enumerable:!0,get:t[o]})},n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),n.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.p="";var i={};return n.p=window.jimuConfig.baseUrl,(()=>{"use strict";n.r(i),n.d(i,{__set_webpack_public_path__:()=>r,default:()=>o});var e=n(14321),t=n(68972);function o(o){var r,n,i;const a=o.config||{},[l,s]=(0,t.useState)("undefined"!=typeof window&&localStorage.getItem("customTheme")||"light"),[d,u]=(0,t.useState)("dark"===l),[c,f]=(0,t.useState)(!1),p="undefined"!=typeof window&&localStorage.getItem("locale")||"ru";(0,t.useEffect)((()=>{const e=()=>{const e=localStorage.getItem("customTheme")||"light";s(e),u("dark"===e)};window.addEventListener("storage",e);const t=localStorage.setItem;return localStorage.setItem=function(e,o){t.apply(this,arguments),"customTheme"===e&&window.dispatchEvent(new Event("storage"))},()=>{window.removeEventListener("storage",e),localStorage.setItem=t}}),[]);const g=d&&a.bgColorDark||a.bgColor,m=d&&a.textColorDark||a.textColor,h=d&&a.hoverBgColorDark||a.hoverBgColor,v=d&&a.hoverTextColorDark||a.hoverTextColor,b=d&&a.borderColorDark||a.borderColor,w=d&&a.hoverBorderColorDark||a.hoverBorderColor,S=a.buttonText,y=a.linkConfig,x=a.image,k=a.imageDark,C=a.imageMode||"fit",E=a.imagePosition||"center",j=a.maintainAspectRatio||!1,T=e=>e?"string"==typeof e?e:"object"==typeof e&&e.url?e.url:"":"",_={borderRadius:a.borderRadius||8,borderWidth:a.borderWidth||"1px",borderStyle:a.borderStyle||"solid",borderColor:c&&w||b,padding:a.padding||"0px 0px",fontSize:a.fontSize||16,width:"100%",height:"100%",display:"flex",alignItems:"center",justifyContent:"center",cursor:"pointer",backgroundColor:c&&h||g,color:c&&v||m,transition:"all 0.2s",gap:8,overflow:"hidden",position:"relative"},z=Object.assign(Object.assign({width:(null===(r=a.imageSize)||void 0===r?void 0:r.width)?`${a.imageSize.width}px`:"100%",height:j&&(null===(n=a.imageSize)||void 0===n?void 0:n.width)?"auto":(null===(i=a.imageSize)||void 0===i?void 0:i.height)?`${a.imageSize.height}px`:"100%",objectFit:"fill"===C?"fill":"stretch"===C?"cover":"contain",position:"absolute"},(()=>{switch(E){case"left":return{left:"4px",top:"50%",transform:"translateY(-50%)"};case"right":return{right:"4px",top:"50%",transform:"translateY(-50%)"};case"top":return{top:"4px",left:"50%",transform:"translateX(-50%)"};case"bottom":return{bottom:"4px",left:"50%",transform:"translateX(-50%)"};default:return{left:"50%",top:"50%",transform:"translate(-50%, -50%)"}}})()),{zIndex:0,padding:"0px",borderRadius:_.borderRadius,pointerEvents:"none",userSelect:"none"}),B={position:"relative",zIndex:1,color:_.color,fontSize:_.fontSize,textAlign:"center",width:"100%",wordBreak:"break-word"},I=T(d?k:x);return t.default.createElement(e.Button,{style:_,onClick:()=>{if(null==y?void 0:y.value)if("webAddress"===y.linkType||"WEB_ADDRESS"===y.linkType)window.open(y.value,y.openInNewTab?"_blank":"_self");else if("page"===y.linkType||"PAGE"===y.linkType){const e=window.location.href.split("?")[0],t=new URLSearchParams(window.location.search),o=t.get("id")||"",r=t.get("draft")||"true",n=`${e}?${new URLSearchParams({draft:r,id:o,page:y.value}).toString()}`;console.log("\u{1f504} Custom Link Button: Navigating to:",n);try{window.location.href=n}catch(e){console.error("\u{1f504} Custom Link Button: Navigation failed:",e)}}},onMouseEnter:()=>f(!0),onMouseLeave:()=>f(!1)},I&&t.default.createElement("img",{src:I,alt:"",style:z}),t.default.createElement("span",{style:B},"string"==typeof S?S:"object"==typeof S&&null!==S&&(S[p]||Object.values(S)[0])||""))}function r(e){n.p=e}})(),i})())}}}));