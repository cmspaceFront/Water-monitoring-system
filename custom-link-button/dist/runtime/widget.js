System.register(["jimu-ui","jimu-core/react","jimu-core"],(function(e,t){var o={},r={},n={};return{setters:[function(e){o.Button=e.Button},function(e){r.default=e.default,r.useEffect=e.useEffect,r.useState=e.useState},function(e){n.UrlManager=e.UrlManager}],execute:function(){e((()=>{var e={79244:e=>{"use strict";e.exports=n},68972:e=>{"use strict";e.exports=r},14321:e=>{"use strict";e.exports=o}},t={};function a(o){var r=t[o];if(void 0!==r)return r.exports;var n=t[o]={exports:{}};return e[o](n,n.exports,a),n.exports}a.d=(e,t)=>{for(var o in t)a.o(t,o)&&!a.o(e,o)&&Object.defineProperty(e,o,{enumerable:!0,get:t[o]})},a.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),a.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},a.p="";var i={};return a.p=window.jimuConfig.baseUrl,(()=>{"use strict";a.r(i),a.d(i,{__set_webpack_public_path__:()=>n,default:()=>r});var e=a(14321),t=a(68972),o=a(79244);function r(r){var n,a,i;const l=r.config||{},[s,u]=(0,t.useState)("undefined"!=typeof window&&localStorage.getItem("customTheme")||"light"),[d,c]=(0,t.useState)("dark"===s),[f,g]=(0,t.useState)(!1),p="undefined"!=typeof window&&localStorage.getItem("locale")||"ru";(0,t.useEffect)((()=>{const e=()=>{const e=localStorage.getItem("customTheme")||"light";u(e),c("dark"===e)};window.addEventListener("storage",e);const t=localStorage.setItem;return localStorage.setItem=function(e,o){t.apply(this,arguments),"customTheme"===e&&window.dispatchEvent(new Event("storage"))},()=>{window.removeEventListener("storage",e),localStorage.setItem=t}}),[]);const m=d&&l.bgColorDark||l.bgColor,h=d&&l.textColorDark||l.textColor,v=d&&l.hoverBgColorDark||l.hoverBgColor,b=d&&l.hoverTextColorDark||l.hoverTextColor,w=d&&l.borderColorDark||l.borderColor,S=d&&l.hoverBorderColorDark||l.hoverBorderColor,y=l.buttonText,x=l.linkConfig,k=l.image,C=l.imageDark,j=l.imageMode||"fit",E=l.imagePosition||"center",T=l.maintainAspectRatio||!1,B=e=>e?"string"==typeof e?e:"object"==typeof e&&e.url?e.url:"":"",_={borderRadius:l.borderRadius||8,borderWidth:l.borderWidth||"1px",borderStyle:l.borderStyle||"solid",borderColor:f&&S||w,padding:l.padding||"0px 0px",fontSize:l.fontSize||16,width:"100%",height:"100%",display:"flex",alignItems:"center",justifyContent:"center",cursor:"pointer",backgroundColor:f&&v||m,color:f&&b||h,transition:"all 0.2s",gap:8,overflow:"hidden",position:"relative"},z=Object.assign(Object.assign({width:(null===(n=l.imageSize)||void 0===n?void 0:n.width)?`${l.imageSize.width}px`:"100%",height:T&&(null===(a=l.imageSize)||void 0===a?void 0:a.width)?"auto":(null===(i=l.imageSize)||void 0===i?void 0:i.height)?`${l.imageSize.height}px`:"100%",objectFit:"fill"===j?"fill":"stretch"===j?"cover":"contain",position:"absolute"},(()=>{switch(E){case"left":return{left:"4px",top:"50%",transform:"translateY(-50%)"};case"right":return{right:"4px",top:"50%",transform:"translateY(-50%)"};case"top":return{top:"4px",left:"50%",transform:"translateX(-50%)"};case"bottom":return{bottom:"4px",left:"50%",transform:"translateX(-50%)"};default:return{left:"50%",top:"50%",transform:"translate(-50%, -50%)"}}})()),{zIndex:0,padding:"0px",borderRadius:_.borderRadius,pointerEvents:"none",userSelect:"none"}),I={position:"relative",zIndex:1,color:_.color,fontSize:_.fontSize,textAlign:"center",width:"100%",wordBreak:"break-word"},D=B(d?C:k);return t.default.createElement(e.Button,{style:_,onClick:()=>{if(null==x?void 0:x.value)if("webAddress"===x.linkType||"WEB_ADDRESS"===x.linkType)window.open(x.value,x.openInNewTab?"_blank":"_self");else if("page"===x.linkType||"PAGE"===x.linkType){const e=window.location.href.split("?")[0],t=new URLSearchParams(window.location.search),r=t.get("id")||"",n=t.get("draft")||"true",a=`${e}?${new URLSearchParams({draft:n,id:r,page:x.value}).toString()}`;console.log("\u{1f504} Custom Link Button: Navigating to:",a);try{window.location.href=a}catch(e){console.error("\u{1f504} Custom Link Button: Navigation failed:",e);try{o.UrlManager.getInstance().changePage(x.value)}catch(e){console.error("\u{1f504} Custom Link Button: UrlManager also failed:",e)}}}},onMouseEnter:()=>g(!0),onMouseLeave:()=>g(!1)},D&&t.default.createElement("img",{src:D,alt:"",style:z}),t.default.createElement("span",{style:I},"string"==typeof y?y:"object"==typeof y&&null!==y&&(y[p]||Object.values(y)[0])||""))}function n(e){a.p=e}})(),i})())}}}));