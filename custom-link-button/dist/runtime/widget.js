System.register(["jimu-core","jimu-ui","jimu-core/react"],(function(e,t){var o={},r={},n={};return{setters:[function(e){o.jimuHistory=e.jimuHistory},function(e){r.Button=e.Button},function(e){n.default=e.default,n.useEffect=e.useEffect,n.useState=e.useState}],execute:function(){e((()=>{var e={8891:e=>{"use strict";e.exports=o},1315:e=>{"use strict";e.exports=n},726:e=>{"use strict";e.exports=r}},t={};function a(o){var r=t[o];if(void 0!==r)return r.exports;var n=t[o]={exports:{}};return e[o](n,n.exports,a),n.exports}a.d=(e,t)=>{for(var o in t)a.o(t,o)&&!a.o(e,o)&&Object.defineProperty(e,o,{enumerable:!0,get:t[o]})},a.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),a.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},a.p="";var i={};return a.p=window.jimuConfig.baseUrl,(()=>{"use strict";a.r(i),a.d(i,{__set_webpack_public_path__:()=>n,default:()=>r});var e=a(8891),t=a(726),o=a(1315);function r(r){var n,a,i;const s=r.config||{},[l,c]=(0,o.useState)("undefined"!=typeof window&&localStorage.getItem("customTheme")||"light"),[u,d]=(0,o.useState)("dark"===l),[g,f]=(0,o.useState)(!1),[h,m]=(0,o.useState)("checking"),p=()=>{if("undefined"!=typeof window)try{const e=sessionStorage.getItem("exb_auth"),t=localStorage.getItem("exb_auth");e&&!t?(localStorage.setItem("exb_auth",e),sessionStorage.removeItem("exb_auth"),m("synced")):e&&t?(e!==t&&(localStorage.setItem("exb_auth",e),sessionStorage.removeItem("exb_auth")),m("synced")):m(t&&!e?"local":"none")}catch(e){console.error("ðŸ” Auth: Error checking authentication:",e),m("error")}};(0,o.useEffect)((()=>{p();const e=setInterval(p,2e3),t=()=>{p()};window.addEventListener("sessionStorageChange",t);const o=sessionStorage.setItem;sessionStorage.setItem=function(e,t){o.apply(this,arguments),"exb_auth"===e&&window.dispatchEvent(new Event("sessionStorageChange"))};const r=sessionStorage.removeItem;sessionStorage.removeItem=function(e){r.apply(this,arguments),"exb_auth"===e&&window.dispatchEvent(new Event("sessionStorageChange"))};const n=localStorage.setItem;localStorage.setItem=function(e,t){n.apply(this,arguments),"exb_auth"===e&&p()};const a=localStorage.removeItem;return localStorage.removeItem=function(e){a.apply(this,arguments),"exb_auth"===e&&p()},()=>{clearInterval(e),window.removeEventListener("sessionStorageChange",t),sessionStorage.setItem=o,sessionStorage.removeItem=r,localStorage.setItem=n,localStorage.removeItem=a}}),[]),(0,o.useEffect)((()=>{}),[h]);const v="undefined"!=typeof window&&localStorage.getItem("locale")||"ru";(0,o.useEffect)((()=>{const e=()=>{const e=localStorage.getItem("customTheme")||"light";c(e),d("dark"===e)};window.addEventListener("storage",e),window.addEventListener("theme-changed",e);const t=setInterval(e,0);return()=>{window.removeEventListener("storage",e),window.removeEventListener("theme-changed",e),clearInterval(t)}}),[]);const S=u&&s.bgColorDark||s.bgColor,b=u&&s.textColorDark||s.textColor,w=u&&s.hoverBgColorDark||s.hoverBgColor,y=u&&s.hoverTextColorDark||s.hoverTextColor,x=u&&s.borderColorDark||s.borderColor,I=u&&s.hoverBorderColorDark||s.hoverBorderColor,E=s.buttonText,_=s.linkConfig,C=s.image,k=s.imageDark,j=s.imageMode||"fit",A=s.imagePosition||"center",z=s.maintainAspectRatio||!1,T={borderRadius:s.borderRadius||8,borderWidth:s.borderWidth||"1px",borderStyle:s.borderStyle||"solid",borderColor:g&&I||x,padding:s.padding||"0px 0px",fontSize:s.fontSize||16,width:"100%",height:"100%",display:"flex",alignItems:"center",justifyContent:"center",cursor:"pointer",backgroundColor:g&&w||S,color:g&&y||b,transition:"all 0.2s",gap:8,overflow:"hidden",position:"relative"},B=Object.assign(Object.assign({width:(null===(n=s.imageSize)||void 0===n?void 0:n.width)?`${s.imageSize.width}px`:"100%",height:z&&(null===(a=s.imageSize)||void 0===a?void 0:a.width)?"auto":(null===(i=s.imageSize)||void 0===i?void 0:i.height)?`${s.imageSize.height}px`:"100%",objectFit:"fill"===j?"fill":"stretch"===j?"cover":"contain",position:"absolute"},(()=>{switch(A){case"left":return{left:"4px",top:"50%",transform:"translateY(-50%)"};case"right":return{right:"4px",top:"50%",transform:"translateY(-50%)"};case"top":return{top:"4px",left:"50%",transform:"translateX(-50%)"};case"bottom":return{bottom:"4px",left:"50%",transform:"translateX(-50%)"};default:return{left:"50%",top:"50%",transform:"translate(-50%, -50%)"}}})()),{zIndex:0,padding:"0px",borderRadius:T.borderRadius,pointerEvents:"none",userSelect:"none"}),D={position:"relative",zIndex:1,color:T.color,fontSize:T.fontSize,textAlign:"center",width:"100%",wordBreak:"break-word"},L=(P=u?k:C)?"string"==typeof P?P:"object"==typeof P&&P.url?P.url:"":"";var P;return o.default.createElement(t.Button,{style:T,onClick:()=>{localStorage.getItem("exb_auth")||(console.warn("ðŸ” Auth: No authentication found, attempting to sync..."),p(),setTimeout((()=>{localStorage.getItem("exb_auth")||console.error("ðŸ” Auth: Authentication sync failed, navigation may not work")}),100)),(null==_?void 0:_.value)?((t,o)=>{localStorage.getItem("exb_auth")?console.log("ðŸ” Auth: Authentication verified before navigation"):console.warn("ðŸ” Auth: No authentication found, navigation may fail");let r=!1;if("page"===o||"PAGE"===o)try{e.jimuHistory.changePage(t),r=!0}catch(e){console.log("ðŸ”„ Navigation: jimuHistory failed, trying URL-based navigation:",e)}if(!r&&("page"===o||"PAGE"===o))try{const e=window.location.href,o=new URLSearchParams(window.location.search);o.set("page",t);const n=`${e.split("?")[0]}?${o.toString()}`;window.location.href=n,r=!0}catch(e){console.error("ðŸ”„ Navigation: All navigation methods failed:",e)}if("webAddress"===o||"WEB_ADDRESS"===o)try{const e=(null==_?void 0:_.openInNewTab)||!1;window.open(t,e?"_blank":"_self"),r=!0}catch(e){console.error("ðŸ”„ Navigation: Failed to open web address:",e)}})(_.value,_.linkType):console.warn("ðŸ”„ Navigation: No link configuration found")},onMouseEnter:()=>f(!0),onMouseLeave:()=>f(!1)},L&&o.default.createElement("img",{src:L,alt:"",style:B}),o.default.createElement("span",{style:D},"string"==typeof E?E:"object"==typeof E&&null!==E&&(E[v]||Object.values(E)[0])||""))}function n(e){a.p=e}})(),i})())}}}));