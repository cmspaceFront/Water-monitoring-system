System.register(["jimu-core","jimu-ui","jimu-core/react"],(function(e,t){var o={},n={},a={};return{setters:[function(e){o.jimuHistory=e.jimuHistory},function(e){n.Button=e.Button},function(e){a.default=e.default,a.useEffect=e.useEffect,a.useState=e.useState}],execute:function(){e((()=>{var e={8891:e=>{"use strict";e.exports=o},1315:e=>{"use strict";e.exports=a},726:e=>{"use strict";e.exports=n}},t={};function r(o){var n=t[o];if(void 0!==n)return n.exports;var a=t[o]={exports:{}};return e[o](a,a.exports,r),a.exports}r.d=(e,t)=>{for(var o in t)r.o(t,o)&&!r.o(e,o)&&Object.defineProperty(e,o,{enumerable:!0,get:t[o]})},r.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),r.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.p="";var i={};return r.p=window.jimuConfig.baseUrl,(()=>{"use strict";r.r(i),r.d(i,{__set_webpack_public_path__:()=>a,default:()=>n});var e=r(8891),t=r(726),o=r(1315);function n(n){var a,r,i;const s=n.config||{},[l,c]=(0,o.useState)("undefined"!=typeof window&&localStorage.getItem("customTheme")||"light"),[u,g]=(0,o.useState)("dark"===l),[d,h]=(0,o.useState)(!1),[m,f]=(0,o.useState)("checking"),v=()=>{if("undefined"!=typeof window)try{const e=sessionStorage.getItem("exb_auth"),t=localStorage.getItem("exb_auth");e&&!t?(console.log("🔐 Auth: Found exb_auth in session storage, moving to local storage"),localStorage.setItem("exb_auth",e),sessionStorage.removeItem("exb_auth"),f("synced")):e&&t?(e!==t&&(console.log("🔐 Auth: Found different exb_auth values, updating local storage"),localStorage.setItem("exb_auth",e),sessionStorage.removeItem("exb_auth")),f("synced")):f(t&&!e?"local":"none"),console.log("🔐 Auth: Status updated -",{sessionAuth:!!e,localAuth:!!t,status:m})}catch(e){console.error("🔐 Auth: Error checking authentication:",e),f("error")}};(0,o.useEffect)((()=>{v();const e=setInterval(v,2e3),t=()=>{console.log("🔐 Auth: Session storage change detected"),v()};window.addEventListener("sessionStorageChange",t);const o=sessionStorage.setItem;sessionStorage.setItem=function(e,t){o.apply(this,arguments),"exb_auth"===e&&(console.log("🔐 Auth: exb_auth set in session storage"),window.dispatchEvent(new Event("sessionStorageChange")))};const n=sessionStorage.removeItem;sessionStorage.removeItem=function(e){n.apply(this,arguments),"exb_auth"===e&&(console.log("🔐 Auth: exb_auth removed from session storage"),window.dispatchEvent(new Event("sessionStorageChange")))};const a=localStorage.setItem;localStorage.setItem=function(e,t){a.apply(this,arguments),"exb_auth"===e&&(console.log("🔐 Auth: exb_auth set in local storage"),v())};const r=localStorage.removeItem;return localStorage.removeItem=function(e){r.apply(this,arguments),"exb_auth"===e&&(console.log("🔐 Auth: exb_auth removed from local storage"),v())},()=>{clearInterval(e),window.removeEventListener("sessionStorageChange",t),sessionStorage.setItem=o,sessionStorage.removeItem=n,localStorage.setItem=a,localStorage.removeItem=r}}),[]),(0,o.useEffect)((()=>{}),[m]);const p="undefined"!=typeof window&&localStorage.getItem("locale")||"ru";(0,o.useEffect)((()=>{const e=()=>{const e=localStorage.getItem("customTheme")||"light";c(e),g("dark"===e)};window.addEventListener("storage",e);const t=localStorage.setItem;return localStorage.setItem=function(e,o){t.apply(this,arguments),"customTheme"===e&&window.dispatchEvent(new Event("storage"))},()=>{window.removeEventListener("storage",e),localStorage.setItem=t}}),[]);const b=u&&s.bgColorDark||s.bgColor,S=u&&s.textColorDark||s.textColor,w=u&&s.hoverBgColorDark||s.hoverBgColor,y=u&&s.hoverTextColorDark||s.hoverTextColor,x=u&&s.borderColorDark||s.borderColor,I=u&&s.hoverBorderColorDark||s.hoverBorderColor,_=s.buttonText,A=s.linkConfig,E=s.image,C=s.imageDark,j=s.imageMode||"fit",k=s.imagePosition||"center",N=s.maintainAspectRatio||!1,T={borderRadius:s.borderRadius||8,borderWidth:s.borderWidth||"1px",borderStyle:s.borderStyle||"solid",borderColor:d&&I||x,padding:s.padding||"0px 0px",fontSize:s.fontSize||16,width:"100%",height:"100%",display:"flex",alignItems:"center",justifyContent:"center",cursor:"pointer",backgroundColor:d&&w||b,color:d&&y||S,transition:"all 0.2s",gap:8,overflow:"hidden",position:"relative"},z=Object.assign(Object.assign({width:(null===(a=s.imageSize)||void 0===a?void 0:a.width)?`${s.imageSize.width}px`:"100%",height:N&&(null===(r=s.imageSize)||void 0===r?void 0:r.width)?"auto":(null===(i=s.imageSize)||void 0===i?void 0:i.height)?`${s.imageSize.height}px`:"100%",objectFit:"fill"===j?"fill":"stretch"===j?"cover":"contain",position:"absolute"},(()=>{switch(k){case"left":return{left:"4px",top:"50%",transform:"translateY(-50%)"};case"right":return{right:"4px",top:"50%",transform:"translateY(-50%)"};case"top":return{top:"4px",left:"50%",transform:"translateX(-50%)"};case"bottom":return{bottom:"4px",left:"50%",transform:"translateX(-50%)"};default:return{left:"50%",top:"50%",transform:"translate(-50%, -50%)"}}})()),{zIndex:0,padding:"0px",borderRadius:T.borderRadius,pointerEvents:"none",userSelect:"none"}),R={position:"relative",zIndex:1,color:T.color,fontSize:T.fontSize,textAlign:"center",width:"100%",wordBreak:"break-word"},B=(D=u?C:E)?"string"==typeof D?D:"object"==typeof D&&D.url?D.url:"":"";var D;return o.default.createElement(t.Button,{style:T,onClick:()=>{localStorage.getItem("exb_auth")||(console.warn("🔐 Auth: No authentication found, attempting to sync..."),v(),setTimeout((()=>{localStorage.getItem("exb_auth")||console.error("🔐 Auth: Authentication sync failed, navigation may not work")}),100)),(null==A?void 0:A.value)?((t,o)=>{localStorage.getItem("exb_auth")?console.log("🔐 Auth: Authentication verified before navigation"):console.warn("🔐 Auth: No authentication found, navigation may fail"),console.log(`🔄 Navigation: Attempting to navigate to "${t}" with type "${o}"`);let n=!1;if("page"===o||"PAGE"===o)try{console.log("🔄 Navigation: Trying jimuHistory method..."),e.jimuHistory.changePage(t),n=!0,console.log("🔄 Navigation: jimuHistory succeeded")}catch(e){console.log("🔄 Navigation: jimuHistory failed, trying URL-based navigation:",e)}if(!n&&("page"===o||"PAGE"===o))try{console.log("🔄 Navigation: Trying URL-based navigation...");const e=window.location.href,o=new URLSearchParams(window.location.search);o.set("page",t);const a=`${e.split("?")[0]}?${o.toString()}`;console.log(`🔄 Navigation: Redirecting to "${a}"`),window.location.href=a,n=!0,console.log("🔄 Navigation: URL-based navigation initiated")}catch(e){console.error("🔄 Navigation: All navigation methods failed:",e)}if("webAddress"===o||"WEB_ADDRESS"===o)try{const e=(null==A?void 0:A.openInNewTab)||!1;window.open(t,e?"_blank":"_self"),n=!0,console.log("🔄 Navigation: Web address opened successfully")}catch(e){console.error("🔄 Navigation: Failed to open web address:",e)}n?console.log("🔄 Navigation: Navigation completed successfully"):console.error("🔄 Navigation: No navigation method succeeded")})(A.value,A.linkType):console.warn("🔄 Navigation: No link configuration found")},onMouseEnter:()=>h(!0),onMouseLeave:()=>h(!1)},B&&o.default.createElement("img",{src:B,alt:"",style:z}),o.default.createElement("span",{style:R},"string"==typeof _?_:"object"==typeof _&&null!==_&&(_[p]||Object.values(_)[0])||""))}function a(e){r.p=e}})(),i})())}}}));