/*! For license information please see widget.js.LICENSE.txt */
System.register(["jimu-core","jimu-core/react","jimu-core/react-dom","jimu-ui"],(function(o,e){var n={},t={},r={},i={};return{setters:[function(o){n.getAppStore=o.getAppStore,n.jsx=o.jsx},function(o){t.createElement=o.createElement,t.forwardRef=o.forwardRef,t.useEffect=o.useEffect,t.useRef=o.useRef,t.useState=o.useState},function(o){r.default=o.default},function(o){i.Button=o.Button}],execute:function(){o((()=>{var o={38799:(o,e,n)=>{"use strict";n.d(e,{Z:()=>d});var t=n(8081),r=n.n(t),i=n(23645),l=n.n(i)()(r());l.push([o.id,".language-widget{font-family:sans-serif;position:relative}.lang-btn{border:none;cursor:pointer;text-align:center;display:flex;align-items:center;height:auto;white-space:nowrap;overflow:visible}.arrow{font-size:12px}.dropdown{position:absolute;background-color:#fff;z-index:9999;box-shadow:0 2px 6px rgba(0,0,0,.15);overflow:hidden;display:flex;flex-direction:column}.dropdown-item{cursor:pointer;transition:all .2s ease;margin:0;border:none}",""]);const d=l},23645:o=>{"use strict";o.exports=function(o){var e=[];return e.toString=function(){return this.map((function(e){var n="",t=void 0!==e[5];return e[4]&&(n+="@supports (".concat(e[4],") {")),e[2]&&(n+="@media ".concat(e[2]," {")),t&&(n+="@layer".concat(e[5].length>0?" ".concat(e[5]):""," {")),n+=o(e),t&&(n+="}"),e[2]&&(n+="}"),e[4]&&(n+="}"),n})).join("")},e.i=function(o,n,t,r,i){"string"==typeof o&&(o=[[null,o,void 0]]);var l={};if(t)for(var d=0;d<this.length;d++){var a=this[d][0];null!=a&&(l[a]=!0)}for(var c=0;c<o.length;c++){var s=[].concat(o[c]);t&&l[s[0]]||(void 0!==i&&(void 0===s[5]||(s[1]="@layer".concat(s[5].length>0?" ".concat(s[5]):""," {").concat(s[1],"}")),s[5]=i),n&&(s[2]?(s[1]="@media ".concat(s[2]," {").concat(s[1],"}"),s[2]=n):s[2]=n),r&&(s[4]?(s[1]="@supports (".concat(s[4],") {").concat(s[1],"}"),s[4]=r):s[4]="".concat(r)),e.push(s))}},e}},8081:o=>{"use strict";o.exports=function(o){return o[1]}},93379:o=>{"use strict";var e=[];function n(o){for(var n=-1,t=0;t<e.length;t++)if(e[t].identifier===o){n=t;break}return n}function t(o,t){for(var i={},l=[],d=0;d<o.length;d++){var a=o[d],c=t.base?a[0]+t.base:a[0],s=i[c]||0,u="".concat(c," ").concat(s);i[c]=s+1;var v=n(u),f={css:a[1],media:a[2],sourceMap:a[3],supports:a[4],layer:a[5]};if(-1!==v)e[v].references++,e[v].updater(f);else{var g=r(f,t);t.byIndex=d,e.splice(d,0,{identifier:u,updater:g,references:1})}l.push(u)}return l}function r(o,e){var n=e.domAPI(e);return n.update(o),function(e){if(e){if(e.css===o.css&&e.media===o.media&&e.sourceMap===o.sourceMap&&e.supports===o.supports&&e.layer===o.layer)return;n.update(o=e)}else n.remove()}}o.exports=function(o,r){var i=t(o=o||[],r=r||{});return function(o){o=o||[];for(var l=0;l<i.length;l++){var d=n(i[l]);e[d].references--}for(var a=t(o,r),c=0;c<i.length;c++){var s=n(i[c]);0===e[s].references&&(e[s].updater(),e.splice(s,1))}i=a}}},90569:o=>{"use strict";var e={};o.exports=function(o,n){var t=function(o){if(void 0===e[o]){var n=document.querySelector(o);if(window.HTMLIFrameElement&&n instanceof window.HTMLIFrameElement)try{n=n.contentDocument.head}catch(o){n=null}e[o]=n}return e[o]}(o);if(!t)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");t.appendChild(n)}},19216:o=>{"use strict";o.exports=function(o){var e=document.createElement("style");return o.setAttributes(e,o.attributes),o.insert(e,o.options),e}},3565:(o,e,n)=>{"use strict";o.exports=function(o){var e=n.nc;e&&o.setAttribute("nonce",e)}},7795:o=>{"use strict";o.exports=function(o){if("undefined"==typeof document)return{update:function(){},remove:function(){}};var e=o.insertStyleElement(o);return{update:function(n){!function(o,e,n){var t="";n.supports&&(t+="@supports (".concat(n.supports,") {")),n.media&&(t+="@media ".concat(n.media," {"));var r=void 0!==n.layer;r&&(t+="@layer".concat(n.layer.length>0?" ".concat(n.layer):""," {")),t+=n.css,r&&(t+="}"),n.media&&(t+="}"),n.supports&&(t+="}");var i=n.sourceMap;i&&"undefined"!=typeof btoa&&(t+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(i))))," */")),e.styleTagTransform(t,o,e.options)}(e,o,n)},remove:function(){!function(o){if(null===o.parentNode)return!1;o.parentNode.removeChild(o)}(e)}}}},44589:o=>{"use strict";o.exports=function(o,e){if(e.styleSheet)e.styleSheet.cssText=o;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(o))}}},48891:o=>{"use strict";o.exports=n},51315:o=>{"use strict";o.exports=t},20800:o=>{"use strict";o.exports=r},30726:o=>{"use strict";o.exports=i}},e={};function l(n){var t=e[n];if(void 0!==t)return t.exports;var r=e[n]={id:n,exports:{}};return o[n](r,r.exports,l),r.exports}l.n=o=>{var e=o&&o.__esModule?()=>o.default:()=>o;return l.d(e,{a:e}),e},l.d=(o,e)=>{for(var n in e)l.o(e,n)&&!l.o(o,n)&&Object.defineProperty(o,n,{enumerable:!0,get:e[n]})},l.o=(o,e)=>Object.prototype.hasOwnProperty.call(o,e),l.r=o=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(o,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(o,"__esModule",{value:!0})},l.p="",l.nc=void 0;var d={};return l.p=window.jimuConfig.baseUrl,(()=>{"use strict";l.r(d),l.d(d,{__set_webpack_public_path__:()=>D,default:()=>F});var o=l(48891),e=l(51315),n=l(20800);const t=o=>{const e=(o=>o.replace(/^([A-Z])|[\s-_]+(\w)/g,((o,e,n)=>n?n.toUpperCase():e.toLowerCase())))(o);return e.charAt(0).toUpperCase()+e.slice(1)},r=(...o)=>o.filter(((o,e,n)=>Boolean(o)&&""!==o.trim()&&n.indexOf(o)===e)).join(" ").trim(),i=o=>{for(const e in o)if(e.startsWith("aria-")||"role"===e||"title"===e)return!0};var a={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const c=(0,e.forwardRef)((({color:o="currentColor",size:n=24,strokeWidth:t=2,absoluteStrokeWidth:l,className:d="",children:c,iconNode:s,...u},v)=>(0,e.createElement)("svg",{ref:v,...a,width:n,height:n,stroke:o,strokeWidth:l?24*Number(t)/Number(n):t,className:r("lucide",d),...!c&&!i(u)&&{"aria-hidden":"true"},...u},[...s.map((([o,n])=>(0,e.createElement)(o,n))),...Array.isArray(c)?c:[c]]))),s=(o,n)=>{const i=(0,e.forwardRef)((({className:i,...l},d)=>{return(0,e.createElement)(c,{ref:d,iconNode:n,className:r(`lucide-${a=t(o),a.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase()}`,`lucide-${o}`,i),...l});var a}));return i.displayName=t(o),i},u=s("chevron-up",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]),v=s("chevron-down",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]),f={Promise:"undefined"!=typeof window?window.Promise:void 0};var g="4.25",p="next";function h(o){if(o.toLowerCase()===p)return p;var e=o&&o.match(/^(\d)\.(\d+)/);return e&&{major:parseInt(e[1],10),minor:parseInt(e[2],10)}}function m(o){return void 0===o&&(o=g),"https://js.arcgis.com/".concat(o,"/")}function w(o,e){var n=function(o){return!o||h(o)?function(o){void 0===o&&(o=g);var e=m(o),n=h(o);if(n!==p&&3===n.major){var t=n.minor<=10?"js/":"";return"".concat(e).concat(t,"esri/css/esri.css")}return"".concat(e,"esri/themes/light/main.css")}(o):o}(o),t=function(o){return document.querySelector('link[href*="'.concat(o,'"]'))}(n);return t||function(o,e){if(e){var n=document.querySelector(e);n.parentNode.insertBefore(o,n)}else document.head.appendChild(o)}(t=function(o){var e=document.createElement("link");return e.rel="stylesheet",e.href=o,e}(n),e),t}var b={};function y(o,e,n){var t;n&&(t=function(o,e){var n=function(t){e(t.error||new Error("There was an error attempting to load ".concat(o.src))),o.removeEventListener("error",n,!1)};return o.addEventListener("error",n,!1),n}(o,n));var r=function(){e(o),o.removeEventListener("load",r,!1),t&&o.removeEventListener("error",t,!1)};o.addEventListener("load",r,!1)}function x(){return document.querySelector("script[data-esri-loader]")}function C(){var o=window.require;return o&&o.on}function k(o){return new f.Promise((function(e,n){var t=window.require.on("error",n);window.require(o,(function(){for(var o=[],n=0;n<arguments.length;n++)o[n]=arguments[n];t.remove(),e(o)}))}))}var T=l(30726),S=l(93379),I=l.n(S),E=l(7795),j=l.n(E),z=l(90569),L=l.n(z),P=l(3565),_=l.n(P),R=l(19216),B=l.n(R),N=l(44589),$=l.n(N),A=l(38799),M={};M.styleTagTransform=$(),M.setAttributes=_(),M.insert=L().bind(null,"head"),M.domAPI=j(),M.insertStyleElement=B(),I()(A.Z,M),A.Z&&A.Z.locals&&A.Z.locals;const W={uz:{_widgetLabel:"Sinov vidjeti",description:"Tilni o‘zgartirganda bu matn o‘zgaradi.",logout:"Chiqish"},uzcryl:{_widgetLabel:"Синов виджети",description:"Тилни ўзгартирганда бу матн ўзгаради.",logout:"Чиқиш"},ru:{_widgetLabel:"Тестовый виджет",description:"Этот текст изменится при переключении языка.",logout:"Выйти"}};var U=function(o,e,n,t){return new(n||(n=Promise))((function(r,i){function l(o){try{a(t.next(o))}catch(o){i(o)}}function d(o){try{a(t.throw(o))}catch(o){i(o)}}function a(o){var e;o.done?r(o.value):(e=o.value,e instanceof n?e:new n((function(o){o(e)}))).then(l,d)}a((t=t.apply(o,e||[])).next())}))};const F=t=>{var r,i,l,d,a,c,s,g,p,h,S,I,E,j,z,L,P,_,R,B,N,$,A,M,F,D,H,O,q,Z,J,V,G,X,Y,K,Q,oo,eo,no,to,ro,io,lo,ao,co,so,uo,vo,fo,go,po,ho,mo,wo,bo,yo,xo,Co,ko,To,So,Io,Eo,jo,zo,Lo,Po;console.log("ll");const _o=localStorage.getItem("custom_locale")||"uz",[Ro,Bo]=(0,e.useState)(_o),[No,$o]=(0,e.useState)(!1),[Ao,Mo]=(0,e.useState)(!1),[Wo,Uo]=(0,e.useState)({top:0,left:0,width:0}),[Fo,Do]=(0,e.useState)({bg:"",color:""}),[Ho,Oo]=(0,e.useState)(0),[qo,Zo]=(0,e.useState)(localStorage.getItem("customTheme")||"light");(0,e.useEffect)((()=>{const o=()=>Zo(localStorage.getItem("customTheme")||"light");window.addEventListener("storage",o),window.addEventListener("custom-theme-changed",o);const e=setInterval((()=>{const o=localStorage.getItem("customTheme")||"light";o!==qo&&Zo(o)}),100);return()=>{window.removeEventListener("storage",o),window.removeEventListener("custom-theme-changed",o),clearInterval(e)}}),[qo]);const Jo=(0,e.useRef)(null),Vo=W[Ro];(0,e.useEffect)((()=>{localStorage.setItem("custom_locale",Ro),window.dispatchEvent(new CustomEvent("custom-locale-changed",{detail:Ro}))}),[Ro]),(0,e.useEffect)((()=>{const o=o=>{const e=o.detail||localStorage.getItem("custom_locale")||"uz";Bo(e)};return window.addEventListener("custom-locale-changed",o),()=>window.removeEventListener("custom-locale-changed",o)}),[]),(0,e.useEffect)((()=>{const o=o=>{if(No&&Jo.current&&!Jo.current.contains(o.target)){const e=document.querySelector(".dropdown");e&&!e.contains(o.target)&&$o(!1)}},e=o=>{"Escape"===o.key&&No&&$o(!1)},n=()=>{No&&$o(!1)};return No&&(document.addEventListener("mousedown",o),document.addEventListener("keydown",e),window.addEventListener("scroll",n),window.addEventListener("resize",n)),()=>{document.removeEventListener("mousedown",o),document.removeEventListener("keydown",e),window.removeEventListener("scroll",n),window.removeEventListener("resize",n)}}),[No]);const Go=()=>{var e,n;const t=(0,o.getAppStore)().getState(),r=null===(e=null==t?void 0:t.user)||void 0===e?void 0:e.firstName,i=null===(n=null==t?void 0:t.user)||void 0===n?void 0:n.lastName;return r||i?{firstName:r,lastName:i}:null},[Xo,Yo]=(0,e.useState)(""),[Ko,Qo]=(0,e.useState)("");(0,e.useEffect)((()=>{const o=Go();o&&(Yo(o.firstName),Qo(o.lastName))}),[]);const oe=(null===(r=t.config)||void 0===r?void 0:r.variant)||"default",ee=(null===(d=null===(l=null===(i=t.config)||void 0===i?void 0:i.styleConfig)||void 0===l?void 0:l.themeStyle)||void 0===d?void 0:d.quickStyleType)||"default",ne=!1!==(null===(c=null===(a=t.config)||void 0===a?void 0:a.styleConfig)||void 0===c?void 0:c.useCustom)?oe:ee,te="default"!==ne,re=(null===(s=t.config)||void 0===s?void 0:s.displayMode)||"full",ie=(()=>{var o,e,n,r,i,l,d,a;return"dark"===qo&&(null===(o=t.config)||void 0===o?void 0:o.enableDarkTheme)&&(null===(e=t.config)||void 0===e?void 0:e.darkTheme)?{bgColor:t.config.darkTheme.bgColor||"#2d2d2d",textColor:t.config.darkTheme.textColor||"#ffffff",hoverBgColor:t.config.darkTheme.hoverBgColor||"#404040",hoverTextColor:t.config.darkTheme.hoverTextColor||"#ffffff",borderColor:t.config.darkTheme.borderColor||"#555555",hoverBorderColor:t.config.darkTheme.hoverBorderColor||"#777777"}:{bgColor:(null===(n=t.config)||void 0===n?void 0:n.bgColor)||"#ffffff",textColor:(null===(r=t.config)||void 0===r?void 0:r.textColor)||"#000000",hoverBgColor:(null===(i=t.config)||void 0===i?void 0:i.hoverBgColor)||"#f0f0f0",hoverTextColor:(null===(l=t.config)||void 0===l?void 0:l.hoverTextColor)||"#000000",borderColor:(null===(d=t.config)||void 0===d?void 0:d.borderColor)||"#cccccc",hoverBorderColor:(null===(a=t.config)||void 0===a?void 0:a.hoverBorderColor)||"#999999"}})();(0,e.useEffect)((()=>{if(Jo.current&&te){const o=getComputedStyle(Jo.current);Do({bg:o.backgroundColor,color:o.color})}}),[ne,qo]),(0,e.useEffect)((()=>{const o=Jo.current;if(!o)return;const e=new ResizeObserver((o=>{for(const e of o)Oo(e.contentRect.width)}));return e.observe(o),()=>e.disconnect()}),[]);const le=()=>{var e;const n=(0,o.getAppStore)().getState(),r=null==n?void 0:n.portalUrl,i=null===(e=t.config)||void 0===e?void 0:e.portalBaseUrl,l=o=>{if("string"!=typeof o)return null;const e=o.trim();return e?e.replace(/\/+$/,""):null};return l(r)||l(i)||"https://sgm.uzspace.uz/portal"},de=()=>{var o;const e=null===(o=t.config)||void 0===o?void 0:o.portalClientId;return e&&e.trim().length>0?e.trim():"arcgisonline"},ae={borderRadius:(null===(g=t.config)||void 0===g?void 0:g.buttonBorderRadius)||(null===(p=t.config)||void 0===p?void 0:p.borderRadius)||"0px",borderWidth:(null===(h=t.config)||void 0===h?void 0:h.borderWidth)||0,borderStyle:(null===(S=t.config)||void 0===S?void 0:S.borderStyle)||"",borderColor:(null===(I=t.config)||void 0===I?void 0:I.borderColor)||"",padding:(null===(E=t.config)||void 0===E?void 0:E.padding)||"",fontSize:(null===(j=t.config)||void 0===j?void 0:j.fontSize)||"14px",width:(null===(z=t.config)||void 0===z?void 0:z.width)||"fit-content",minWidth:(null===(L=t.config)||void 0===L?void 0:L.minWidth)||"fit-content",height:(null===(P=t.config)||void 0===P?void 0:P.height)||"100%",display:"flex",justifyContent:"space-between",alignItems:"center",cursor:"pointer"},ce=te?ae:Object.assign(Object.assign({},ae),{backgroundColor:ie.bgColor,color:ie.textColor,borderColor:ie.borderColor}),se=Ao?{backgroundColor:ie.hoverBgColor,color:ie.hoverTextColor,borderColor:ie.hoverBorderColor}:{},ue=Object.assign(Object.assign({},ce),se),ve="full"===re||"label"===re||"auto"===re&&Ho>100,fe="full"===re||"auto"===re&&Ho>60,ge=()=>{var o,e,n,r;return"dark"===qo&&(null===(o=t.config)||void 0===o?void 0:o.enableDarkTheme)&&(null===(n=null===(e=t.config)||void 0===e?void 0:e.darkTheme)||void 0===n?void 0:n.logoutIconColor)?t.config.darkTheme.logoutIconColor:(null===(r=t.config)||void 0===r?void 0:r.logoutIconColor)?t.config.logoutIconColor:te?Fo.color:ie.textColor},pe=(e,n,t)=>{if(!(null==e?void 0:e.svg))return null;let r=e.svg;/fill=/.test(r.split(">")[0])||(r=r.replace("<svg",'<svg fill="currentColor"')),r=r.replace(/fill="[^"]*"/g,'fill="currentColor"');const i=n;return(0,o.jsx)("div",{id:t,dangerouslySetInnerHTML:{__html:r},style:{width:"16px",height:"16px",color:i,display:"inline-block",flexShrink:0,verticalAlign:"middle",marginRight:"8px"}})},he=No&&(0,o.jsx)("div",{className:"dropdown",style:{top:Wo.top,left:Wo.left,width:"auto",minWidth:Wo.width,position:"absolute",zIndex:9999,boxShadow:"0 2px 6px rgba(0,0,0,0.15)",display:"flex",flexDirection:"column",backgroundColor:te?Fo.bg:ie.bgColor,border:(null===(_=t.config)||void 0===_?void 0:_.borderWidth)&&parseInt(t.config.borderWidth)>0?`${t.config.borderWidth} solid ${ie.borderColor}`:"none",borderRadius:(null===(R=t.config)||void 0===R?void 0:R.dropdownBorderRadius)||(null===(B=t.config)||void 0===B?void 0:B.borderRadius)||"0px",marginTop:(null===(N=t.config)||void 0===N?void 0:N.dropdownMarginTop)||"3px",marginLeft:"dark"===qo&&(null===($=t.config)||void 0===$?void 0:$.enableDarkTheme)&&(null===(M=null===(A=t.config)||void 0===A?void 0:A.darkTheme)||void 0===M?void 0:M.dropdownMarginLeft)?t.config.darkTheme.dropdownMarginLeft:(null===(F=t.config)||void 0===F?void 0:F.dropdownMarginLeft)||"0px",marginRight:"dark"===qo&&(null===(D=t.config)||void 0===D?void 0:D.enableDarkTheme)&&(null===(O=null===(H=t.config)||void 0===H?void 0:H.darkTheme)||void 0===O?void 0:O.dropdownMarginRight)?t.config.darkTheme.dropdownMarginRight:(null===(q=t.config)||void 0===q?void 0:q.dropdownMarginRight)||"0px",transform:"translateX(-100%)"}},(0,o.jsx)("div",{className:"dropdown-item",style:{backgroundColor:te?Fo.bg:ie.bgColor,color:te?Fo.color:ie.textColor,padding:"dark"===qo&&(null===(Z=t.config)||void 0===Z?void 0:Z.enableDarkTheme)&&(null===(V=null===(J=t.config)||void 0===J?void 0:J.darkTheme)||void 0===V?void 0:V.dropdownItemSpacing)?`${parseInt(t.config.darkTheme.dropdownItemPaddingVertical)||6}px ${parseInt(t.config.darkTheme.dropdownItemPaddingHorizontal)||5}px`:`${parseInt(null===(G=t.config)||void 0===G?void 0:G.dropdownItemPaddingVertical)||6}px ${parseInt(null===(X=t.config)||void 0===X?void 0:X.dropdownItemPaddingHorizontal)||5}px`,fontSize:"dark"===qo&&(null===(Y=t.config)||void 0===Y?void 0:Y.enableDarkTheme)&&(null===(Q=null===(K=t.config)||void 0===K?void 0:K.darkTheme)||void 0===Q?void 0:Q.dropdownFontSize)?t.config.darkTheme.dropdownFontSize:(null===(oo=t.config)||void 0===oo?void 0:oo.dropdownFontSize)||"14px",fontWeight:"dark"===qo&&(null===(eo=t.config)||void 0===eo?void 0:eo.enableDarkTheme)&&(null===(to=null===(no=t.config)||void 0===no?void 0:no.darkTheme)||void 0===to?void 0:to.dropdownFontWeight)?t.config.darkTheme.dropdownFontWeight:(null===(ro=t.config)||void 0===ro?void 0:ro.dropdownFontWeight)||"normal",fontFamily:(null===(io=t.config)||void 0===io?void 0:io.dropdownFontFamily)||"inherit",lineHeight:(null===(lo=t.config)||void 0===lo?void 0:lo.dropdownLineHeight)||"1.2",display:"flex",alignItems:"center",borderBottom:"1px solid rgba(0,0,0,0.1)",whiteSpace:"nowrap"}},pe(null===(ao=t.config)||void 0===ao?void 0:ao.userIcon,(()=>{var o,e,n,r;return"dark"===qo&&(null===(o=t.config)||void 0===o?void 0:o.enableDarkTheme)&&(null===(n=null===(e=t.config)||void 0===e?void 0:e.darkTheme)||void 0===n?void 0:n.userIconColor)?t.config.darkTheme.userIconColor:(null===(r=t.config)||void 0===r?void 0:r.userIconColor)?t.config.userIconColor:te?Fo.color:ie.textColor})()),(0,o.jsx)("span",null,Xo&&Ko?`${Xo} ${Ko}`:"Пользователь")),(0,o.jsx)("div",{className:"dropdown-item",onClick:()=>U(void 0,void 0,void 0,(function*(){var o,e;let n=null===(o=t.config)||void 0===o?void 0:o.logoutRedirectUrl;(!n||"string"==typeof n&&""===n.trim())&&(n="https://siltation.sgm.uzspace.uz/"),n.endsWith("/")||(n+="/");const r=le(),i=de(),l=(null===(e=t.config)||void 0===e?void 0:e.authorizationPageUrl)&&t.config.authorizationPageUrl.trim()||`${r}/sharing/oauth2/authorize`,d=new URL(l);d.searchParams.set("client_id",i),d.searchParams.set("response_type","code"),d.searchParams.set("redirect_uri",n),d.searchParams.set("redirect",n);const a=d.toString();let c=null;try{[c]=yield function(o,e){if(void 0===e&&(e={}),C())return k(o);var n=x(),t=n&&n.getAttribute("src");return!e.url&&t&&(e.url=t),function(o){void 0===o&&(o={});var e={};[b,o].forEach((function(o){for(var n in o)Object.prototype.hasOwnProperty.call(o,n)&&(e[n]=o[n])}));var n=e.version,t=e.url||m(n);return new f.Promise((function(o,r){var i=x();if(i){var l=i.getAttribute("src");l!==t?r(new Error("The ArcGIS API for JavaScript is already loaded (".concat(l,")."))):C()?o(i):y(i,o,r)}else if(C())r(new Error("The ArcGIS API for JavaScript is already loaded."));else{var d=e.css;d&&w(!0===d?n:d,e.insertCssBefore),i=function(o){var e=document.createElement("script");return e.type="text/javascript",e.src=o,e.setAttribute("data-esri-loader","loading"),e}(t),y(i,(function(){i.setAttribute("data-esri-loader","loaded"),o(i)}),r),document.body.appendChild(i)}}))}(e).then((function(){return k(o)}))}(["esri/identity/IdentityManager"])}catch(o){c=null}(()=>{const o="Thu, 01 Jan 1970 00:00:00 GMT",e=(()=>{const o=new Set,e=(()=>{try{return new URL(le()).hostname}catch(o){return null}})(),n=window.location.hostname,t=e=>{if(!e)return;o.add(e),o.add(`.${e}`);const n=e.split(".");n.length>2&&o.add(`.${n.slice(n.length-2).join(".")}`)};return t(e),t(n),Array.from(o)})();document.cookie.split(";").forEach((n=>{const[t]=n.trim().split("=");t&&(document.cookie=`${t}=;expires=${o};path=/`,e.forEach((e=>{document.cookie=`${t}=;expires=${o};path=/;domain=${e}`})))}))})(),sessionStorage.clear(),localStorage.clear();try{"indexedDB"in window&&(yield indexedDB.databases()).forEach((o=>{o.name&&indexedDB.deleteDatabase(o.name)}))}catch(o){}if(c){yield(s=c,U(void 0,void 0,void 0,(function*(){var o,e,n;const t=le(),r=`${t}/sharing/rest/oauth2/revokeToken`;try{const i=de(),l=(null===(o=null==s?void 0:s.credentials)||void 0===o?void 0:o.find((o=>{var e,n;return(null===(e=null==o?void 0:o.server)||void 0===e?void 0:e.startsWith(t))||(null===(n=null==o?void 0:o.portalUrl)||void 0===n?void 0:n.startsWith(t))})))||(null===(e=null==s?void 0:s.credentials)||void 0===e?void 0:e[0]),d=(null==l?void 0:l.refreshToken)||(null==l?void 0:l.token),a=(null===(n=null==l?void 0:l.oAuthInfo)||void 0===n?void 0:n.appId)||(null==l?void 0:l.appId)||i;if(!d)return;const c=new URLSearchParams({f:"json",auth_token:d,client_id:a,token_type_hint:"refresh_token"});yield fetch(r,{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded"},body:c,credentials:"include"})}catch(o){}})));try{c.destroyCredentials()}catch(o){}}var s;const u=(o=>{const e=le(),n=new URLSearchParams;return n.set("client_id",de()),n.set("redirect_uri",o),`${e}/sharing/rest/oauth2/signout?${n.toString()}`})(a);if(window.top&&window.top!==window)try{window.top.location.replace(u)}catch(o){window.location.replace(u)}else window.location.replace(u)})),onMouseEnter:o=>{var e,n,r,i,l,d,a,c;const s="dark"===qo&&(null===(e=t.config)||void 0===e?void 0:e.enableDarkTheme)&&(null===(r=null===(n=t.config)||void 0===n?void 0:n.darkTheme)||void 0===r?void 0:r.dropdownHoverBgColor)?t.config.darkTheme.dropdownHoverBgColor:(null===(i=t.config)||void 0===i?void 0:i.dropdownHoverBgColor)||ie.hoverBgColor,u="dark"===qo&&(null===(l=t.config)||void 0===l?void 0:l.enableDarkTheme)&&(null===(a=null===(d=t.config)||void 0===d?void 0:d.darkTheme)||void 0===a?void 0:a.dropdownHoverTextColor)?t.config.darkTheme.dropdownHoverTextColor:(null===(c=t.config)||void 0===c?void 0:c.dropdownHoverTextColor)||ie.hoverTextColor;o.currentTarget.style.backgroundColor=s,o.currentTarget.style.color=u;const v=o.currentTarget.querySelector('[id="logout-icon"]');v&&(v.style.color=u)},onMouseLeave:o=>{const e=te?Fo.bg:ie.bgColor,n=te?Fo.color:ie.textColor;o.currentTarget.style.backgroundColor=e,o.currentTarget.style.color=n;const t=o.currentTarget.querySelector('[id="logout-icon"]');t&&(t.style.color=ge())},style:{backgroundColor:te?Fo.bg:ie.bgColor,color:te?Fo.color:ie.textColor,padding:"dark"===qo&&(null===(co=t.config)||void 0===co?void 0:co.enableDarkTheme)&&(null===(uo=null===(so=t.config)||void 0===so?void 0:so.darkTheme)||void 0===uo?void 0:uo.dropdownItemSpacing)?`${parseInt(t.config.darkTheme.dropdownItemPaddingVertical)||6}px ${parseInt(t.config.darkTheme.dropdownItemPaddingHorizontal)||5}px`:`${parseInt(null===(vo=t.config)||void 0===vo?void 0:vo.dropdownItemPaddingVertical)||6}px ${parseInt(null===(fo=t.config)||void 0===fo?void 0:fo.dropdownItemPaddingHorizontal)||5}px`,cursor:"pointer",transition:"all 0.2s ease",fontSize:"dark"===qo&&(null===(go=t.config)||void 0===go?void 0:go.enableDarkTheme)&&(null===(ho=null===(po=t.config)||void 0===po?void 0:po.darkTheme)||void 0===ho?void 0:ho.dropdownFontSize)?t.config.darkTheme.dropdownFontSize:(null===(mo=t.config)||void 0===mo?void 0:mo.dropdownFontSize)||"14px",fontWeight:"dark"===qo&&(null===(wo=t.config)||void 0===wo?void 0:wo.enableDarkTheme)&&(null===(yo=null===(bo=t.config)||void 0===bo?void 0:bo.darkTheme)||void 0===yo?void 0:yo.dropdownFontWeight)?t.config.darkTheme.dropdownFontWeight:(null===(xo=t.config)||void 0===xo?void 0:xo.dropdownFontWeight)||"normal",fontFamily:(null===(Co=t.config)||void 0===Co?void 0:Co.dropdownFontFamily)||"inherit",lineHeight:(null===(ko=t.config)||void 0===ko?void 0:ko.dropdownLineHeight)||"1.2",display:"flex",alignItems:"center",whiteSpace:"nowrap"}},pe(null===(To=t.config)||void 0===To?void 0:To.logoutIcon,ge(),"logout-icon"),(0,o.jsx)("span",null,(()=>{const o=t.config;return"uz"===Ro&&(null==o?void 0:o.buttonTextUz)?o.buttonTextUz:"uzcryl"===Ro&&(null==o?void 0:o.buttonTextUzCryl)?o.buttonTextUzCryl:"ru"===Ro&&(null==o?void 0:o.buttonTextRu)?o.buttonTextRu:Vo.logout||"Выйти"})())));let me=(null===(So=t.config.icon)||void 0===So?void 0:So.svg)||"";/fill=/.test(me.split(">")[0])||(me=me.replace("<svg",'<svg fill="currentColor"')),me=me.replace(/fill="[^"]*"/g,'fill="currentColor"');const we=(null===(Eo=null===(Io=t.config.icon)||void 0===Io?void 0:Io.properties)||void 0===Eo?void 0:Eo.color)||ie.textColor,be={width:(null===(jo=t.config.iconSize)||void 0===jo?void 0:jo.width)||"24px",height:(null===(zo=t.config.iconSize)||void 0===zo?void 0:zo.height)||"24px"},ye=t.config.iconPosition||"left",xe=(null===(Po=null===(Lo=t.config)||void 0===Lo?void 0:Lo.icon)||void 0===Po?void 0:Po.svg)&&"label"!==re?(0,o.jsx)("div",{dangerouslySetInnerHTML:{__html:me},style:Object.assign(Object.assign({},be),{color:we,display:"inline-block",flexShrink:0,verticalAlign:"middle"})}):null,Ce="full"===re||"auto"===re?"space-between":"center";return(0,o.jsx)("div",{className:"jimu-widget logout-widget"},(0,o.jsx)(T.Button,{ref:Jo,type:te?ne:void 0,className:te?"":"dynamic-hover logout-btn",style:ue,onMouseEnter:()=>Mo(!0),onMouseLeave:()=>Mo(!1),onClick:()=>{if(Jo.current){const o=Jo.current.getBoundingClientRect();Uo({top:o.bottom+window.scrollY,left:o.right+window.scrollX,width:o.width})}$o((o=>!o))}},(0,o.jsx)("span",{style:{display:"flex",alignItems:"center",justifyContent:Ce,gap:"5px",width:"100%",overflow:"hidden",whiteSpace:"nowrap"}},"left"===ye&&xe,ve&&(0,o.jsx)("span",{style:{display:"flex",alignItems:"center",gap:"6px",marginInline:"6px",whiteSpace:"nowrap"}},(()=>{const o=Go();return o&&o.firstName?o.firstName.charAt(0).toUpperCase():"U"})()),"right"===ye&&xe,fe&&(0,o.jsx)("span",{className:"arrow",style:{display:"flex",alignItems:"center",flexShrink:0}},No?(0,o.jsx)(u,{size:20}):(0,o.jsx)(v,{size:20})))),n.default.createPortal(he,document.body))};function D(o){l.p=o}})(),d})())}}}));