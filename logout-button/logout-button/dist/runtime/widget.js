/*! For license information please see widget.js.LICENSE.txt */
System.register(["jimu-core","jimu-core/react","jimu-core/react-dom","jimu-ui"],(function(o,e){var n={},r={},t={},i={};return{setters:[function(o){n.getAppStore=o.getAppStore,n.jsx=o.jsx},function(o){r.createElement=o.createElement,r.forwardRef=o.forwardRef,r.useEffect=o.useEffect,r.useRef=o.useRef,r.useState=o.useState},function(o){t.default=o.default},function(o){i.Button=o.Button}],execute:function(){o((()=>{var o={3159:(o,e,n)=>{"use strict";n.d(e,{Z:()=>l});var r=n(8081),t=n.n(r),i=n(23645),d=n.n(i)()(t());d.push([o.id,".language-widget{font-family:sans-serif;position:relative}.lang-btn{border:none;cursor:pointer;text-align:center;display:flex;align-items:center;height:auto;white-space:nowrap;overflow:visible}.arrow{font-size:12px}.dropdown{position:absolute;background-color:#fff;z-index:9999;box-shadow:0 2px 6px rgba(0,0,0,.15);overflow:hidden;display:flex;flex-direction:column}.dropdown-item{cursor:pointer;transition:all .2s ease;margin:0;border:none}",""]);const l=d},23645:o=>{"use strict";o.exports=function(o){var e=[];return e.toString=function(){return this.map((function(e){var n="",r=void 0!==e[5];return e[4]&&(n+="@supports (".concat(e[4],") {")),e[2]&&(n+="@media ".concat(e[2]," {")),r&&(n+="@layer".concat(e[5].length>0?" ".concat(e[5]):""," {")),n+=o(e),r&&(n+="}"),e[2]&&(n+="}"),e[4]&&(n+="}"),n})).join("")},e.i=function(o,n,r,t,i){"string"==typeof o&&(o=[[null,o,void 0]]);var d={};if(r)for(var l=0;l<this.length;l++){var a=this[l][0];null!=a&&(d[a]=!0)}for(var c=0;c<o.length;c++){var s=[].concat(o[c]);r&&d[s[0]]||(void 0!==i&&(void 0===s[5]||(s[1]="@layer".concat(s[5].length>0?" ".concat(s[5]):""," {").concat(s[1],"}")),s[5]=i),n&&(s[2]?(s[1]="@media ".concat(s[2]," {").concat(s[1],"}"),s[2]=n):s[2]=n),t&&(s[4]?(s[1]="@supports (".concat(s[4],") {").concat(s[1],"}"),s[4]=t):s[4]="".concat(t)),e.push(s))}},e}},8081:o=>{"use strict";o.exports=function(o){return o[1]}},93379:o=>{"use strict";var e=[];function n(o){for(var n=-1,r=0;r<e.length;r++)if(e[r].identifier===o){n=r;break}return n}function r(o,r){for(var i={},d=[],l=0;l<o.length;l++){var a=o[l],c=r.base?a[0]+r.base:a[0],s=i[c]||0,u="".concat(c," ").concat(s);i[c]=s+1;var v=n(u),f={css:a[1],media:a[2],sourceMap:a[3],supports:a[4],layer:a[5]};if(-1!==v)e[v].references++,e[v].updater(f);else{var g=t(f,r);r.byIndex=l,e.splice(l,0,{identifier:u,updater:g,references:1})}d.push(u)}return d}function t(o,e){var n=e.domAPI(e);return n.update(o),function(e){if(e){if(e.css===o.css&&e.media===o.media&&e.sourceMap===o.sourceMap&&e.supports===o.supports&&e.layer===o.layer)return;n.update(o=e)}else n.remove()}}o.exports=function(o,t){var i=r(o=o||[],t=t||{});return function(o){o=o||[];for(var d=0;d<i.length;d++){var l=n(i[d]);e[l].references--}for(var a=r(o,t),c=0;c<i.length;c++){var s=n(i[c]);0===e[s].references&&(e[s].updater(),e.splice(s,1))}i=a}}},90569:o=>{"use strict";var e={};o.exports=function(o,n){var r=function(o){if(void 0===e[o]){var n=document.querySelector(o);if(window.HTMLIFrameElement&&n instanceof window.HTMLIFrameElement)try{n=n.contentDocument.head}catch(o){n=null}e[o]=n}return e[o]}(o);if(!r)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");r.appendChild(n)}},19216:o=>{"use strict";o.exports=function(o){var e=document.createElement("style");return o.setAttributes(e,o.attributes),o.insert(e,o.options),e}},3565:(o,e,n)=>{"use strict";o.exports=function(o){var e=n.nc;e&&o.setAttribute("nonce",e)}},7795:o=>{"use strict";o.exports=function(o){if("undefined"==typeof document)return{update:function(){},remove:function(){}};var e=o.insertStyleElement(o);return{update:function(n){!function(o,e,n){var r="";n.supports&&(r+="@supports (".concat(n.supports,") {")),n.media&&(r+="@media ".concat(n.media," {"));var t=void 0!==n.layer;t&&(r+="@layer".concat(n.layer.length>0?" ".concat(n.layer):""," {")),r+=n.css,t&&(r+="}"),n.media&&(r+="}"),n.supports&&(r+="}");var i=n.sourceMap;i&&"undefined"!=typeof btoa&&(r+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(i))))," */")),e.styleTagTransform(r,o,e.options)}(e,o,n)},remove:function(){!function(o){if(null===o.parentNode)return!1;o.parentNode.removeChild(o)}(e)}}}},44589:o=>{"use strict";o.exports=function(o,e){if(e.styleSheet)e.styleSheet.cssText=o;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(o))}}},48891:o=>{"use strict";o.exports=n},51315:o=>{"use strict";o.exports=r},20800:o=>{"use strict";o.exports=t},30726:o=>{"use strict";o.exports=i}},e={};function d(n){var r=e[n];if(void 0!==r)return r.exports;var t=e[n]={id:n,exports:{}};return o[n](t,t.exports,d),t.exports}d.n=o=>{var e=o&&o.__esModule?()=>o.default:()=>o;return d.d(e,{a:e}),e},d.d=(o,e)=>{for(var n in e)d.o(e,n)&&!d.o(o,n)&&Object.defineProperty(o,n,{enumerable:!0,get:e[n]})},d.o=(o,e)=>Object.prototype.hasOwnProperty.call(o,e),d.r=o=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(o,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(o,"__esModule",{value:!0})},d.p="",d.nc=void 0;var l={};return d.p=window.jimuConfig.baseUrl,(()=>{"use strict";d.r(l),d.d(l,{__set_webpack_public_path__:()=>H,default:()=>F});var o=d(48891),e=d(51315),n=d(20800);const r=o=>{const e=(o=>o.replace(/^([A-Z])|[\s-_]+(\w)/g,((o,e,n)=>n?n.toUpperCase():e.toLowerCase())))(o);return e.charAt(0).toUpperCase()+e.slice(1)},t=(...o)=>o.filter(((o,e,n)=>Boolean(o)&&""!==o.trim()&&n.indexOf(o)===e)).join(" ").trim(),i=o=>{for(const e in o)if(e.startsWith("aria-")||"role"===e||"title"===e)return!0};var a={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const c=(0,e.forwardRef)((({color:o="currentColor",size:n=24,strokeWidth:r=2,absoluteStrokeWidth:d,className:l="",children:c,iconNode:s,...u},v)=>(0,e.createElement)("svg",{ref:v,...a,width:n,height:n,stroke:o,strokeWidth:d?24*Number(r)/Number(n):r,className:t("lucide",l),...!c&&!i(u)&&{"aria-hidden":"true"},...u},[...s.map((([o,n])=>(0,e.createElement)(o,n))),...Array.isArray(c)?c:[c]]))),s=(o,n)=>{const i=(0,e.forwardRef)((({className:i,...d},l)=>{return(0,e.createElement)(c,{ref:l,iconNode:n,className:t(`lucide-${a=r(o),a.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase()}`,`lucide-${o}`,i),...d});var a}));return i.displayName=r(o),i},u=s("chevron-up",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]),v=s("chevron-down",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]),f={Promise:"undefined"!=typeof window?window.Promise:void 0};var g="4.25",p="next";function m(o){if(o.toLowerCase()===p)return p;var e=o&&o.match(/^(\d)\.(\d+)/);return e&&{major:parseInt(e[1],10),minor:parseInt(e[2],10)}}function h(o){return void 0===o&&(o=g),"https://js.arcgis.com/".concat(o,"/")}function w(o,e){var n=function(o){return!o||m(o)?function(o){void 0===o&&(o=g);var e=h(o),n=m(o);if(n!==p&&3===n.major){var r=n.minor<=10?"js/":"";return"".concat(e).concat(r,"esri/css/esri.css")}return"".concat(e,"esri/themes/light/main.css")}(o):o}(o),r=function(o){return document.querySelector('link[href*="'.concat(o,'"]'))}(n);return r||function(o,e){if(e){var n=document.querySelector(e);n.parentNode.insertBefore(o,n)}else document.head.appendChild(o)}(r=function(o){var e=document.createElement("link");return e.rel="stylesheet",e.href=o,e}(n),e),r}var b={};function y(o,e,n){var r;n&&(r=function(o,e){var n=function(r){e(r.error||new Error("There was an error attempting to load ".concat(o.src))),o.removeEventListener("error",n,!1)};return o.addEventListener("error",n,!1),n}(o,n));var t=function(){e(o),o.removeEventListener("load",t,!1),r&&o.removeEventListener("error",r,!1)};o.addEventListener("load",t,!1)}function x(){return document.querySelector("script[data-esri-loader]")}function C(){var o=window.require;return o&&o.on}function T(o){return new f.Promise((function(e,n){var r=window.require.on("error",n);window.require(o,(function(){for(var o=[],n=0;n<arguments.length;n++)o[n]=arguments[n];r.remove(),e(o)}))}))}var k=d(30726),S=d(93379),I=d.n(S),E=d(7795),z=d.n(E),j=d(90569),L=d.n(j),N=d(3565),M=d.n(N),R=d(19216),B=d.n(R),P=d(44589),A=d.n(P),_=d(3159),$={};$.styleTagTransform=A(),$.setAttributes=M(),$.insert=L().bind(null,"head"),$.domAPI=z(),$.insertStyleElement=B(),I()(_.Z,$),_.Z&&_.Z.locals&&_.Z.locals;const W={uz:{_widgetLabel:"Sinov vidjeti",description:"Tilni o‘zgartirganda bu matn o‘zgaradi.",logout:"Chiqish"},uzcryl:{_widgetLabel:"Синов виджети",description:"Тилни ўзгартирганда бу матн ўзгаради.",logout:"Чиқиш"},ru:{_widgetLabel:"Тестовый виджет",description:"Этот текст изменится при переключении языка.",logout:"Выйти"}};const F=r=>{var t,i,d,l,a,c,s,g,p,m,S,I,E,z,j,L,N,M,R,B,P,A,_,$,F,H,O,D,U,q,Z,G,J,V,X,Y,K,Q,oo,eo,no,ro,to,io,lo,ao,co,so,uo,vo,fo,go,po,mo,ho,wo,bo,yo,xo,Co,To,ko,So,Io,Eo,zo,jo,Lo;const No=localStorage.getItem("custom_locale")||"uz",[Mo,Ro]=(0,e.useState)(No),[Bo,Po]=(0,e.useState)(!1),[Ao,_o]=(0,e.useState)(!1),[$o,Wo]=(0,e.useState)({top:0,left:0,width:0}),[Fo,Ho]=(0,e.useState)({bg:"",color:""}),[Oo,Do]=(0,e.useState)(0),[Uo,qo]=(0,e.useState)(localStorage.getItem("customTheme")||"light");(0,e.useEffect)((()=>{const o=()=>qo(localStorage.getItem("customTheme")||"light");window.addEventListener("storage",o),window.addEventListener("custom-theme-changed",o);const e=setInterval((()=>{const o=localStorage.getItem("customTheme")||"light";o!==Uo&&qo(o)}),100);return()=>{window.removeEventListener("storage",o),window.removeEventListener("custom-theme-changed",o),clearInterval(e)}}),[Uo]);const Zo=(0,e.useRef)(null),Go=W[Mo];(0,e.useEffect)((()=>{localStorage.setItem("custom_locale",Mo),window.dispatchEvent(new CustomEvent("custom-locale-changed",{detail:Mo}))}),[Mo]),(0,e.useEffect)((()=>{const o=o=>{const e=o.detail||localStorage.getItem("custom_locale")||"uz";Ro(e)};return window.addEventListener("custom-locale-changed",o),()=>window.removeEventListener("custom-locale-changed",o)}),[]),(0,e.useEffect)((()=>{const o=o=>{if(Bo&&Zo.current&&!Zo.current.contains(o.target)){const e=document.querySelector(".dropdown");e&&!e.contains(o.target)&&Po(!1)}},e=o=>{"Escape"===o.key&&Bo&&Po(!1)},n=()=>{Bo&&Po(!1)};return Bo&&(document.addEventListener("mousedown",o),document.addEventListener("keydown",e),window.addEventListener("scroll",n),window.addEventListener("resize",n)),()=>{document.removeEventListener("mousedown",o),document.removeEventListener("keydown",e),window.removeEventListener("scroll",n),window.removeEventListener("resize",n)}}),[Bo]);const Jo=()=>{var e,n;const r=(0,o.getAppStore)().getState(),t=null===(e=null==r?void 0:r.user)||void 0===e?void 0:e.firstName,i=null===(n=null==r?void 0:r.user)||void 0===n?void 0:n.lastName;return t||i?{firstName:t,lastName:i}:null},[Vo,Xo]=(0,e.useState)(""),[Yo,Ko]=(0,e.useState)("");(0,e.useEffect)((()=>{const o=Jo();o&&(Xo(o.firstName),Ko(o.lastName))}),[]);const Qo=(null===(t=r.config)||void 0===t?void 0:t.variant)||"default",oe=(null===(l=null===(d=null===(i=r.config)||void 0===i?void 0:i.styleConfig)||void 0===d?void 0:d.themeStyle)||void 0===l?void 0:l.quickStyleType)||"default",ee=!1!==(null===(c=null===(a=r.config)||void 0===a?void 0:a.styleConfig)||void 0===c?void 0:c.useCustom)?Qo:oe,ne="default"!==ee,re=(null===(s=r.config)||void 0===s?void 0:s.displayMode)||"full",te=(()=>{var o,e,n,t,i,d,l,a;return"dark"===Uo&&(null===(o=r.config)||void 0===o?void 0:o.enableDarkTheme)&&(null===(e=r.config)||void 0===e?void 0:e.darkTheme)?{bgColor:r.config.darkTheme.bgColor||"#2d2d2d",textColor:r.config.darkTheme.textColor||"#ffffff",hoverBgColor:r.config.darkTheme.hoverBgColor||"#404040",hoverTextColor:r.config.darkTheme.hoverTextColor||"#ffffff",borderColor:r.config.darkTheme.borderColor||"#555555",hoverBorderColor:r.config.darkTheme.hoverBorderColor||"#777777"}:{bgColor:(null===(n=r.config)||void 0===n?void 0:n.bgColor)||"#ffffff",textColor:(null===(t=r.config)||void 0===t?void 0:t.textColor)||"#000000",hoverBgColor:(null===(i=r.config)||void 0===i?void 0:i.hoverBgColor)||"#f0f0f0",hoverTextColor:(null===(d=r.config)||void 0===d?void 0:d.hoverTextColor)||"#000000",borderColor:(null===(l=r.config)||void 0===l?void 0:l.borderColor)||"#cccccc",hoverBorderColor:(null===(a=r.config)||void 0===a?void 0:a.hoverBorderColor)||"#999999"}})();(0,e.useEffect)((()=>{if(Zo.current&&ne){const o=getComputedStyle(Zo.current);Ho({bg:o.backgroundColor,color:o.color})}}),[ee,Uo]),(0,e.useEffect)((()=>{const o=Zo.current;if(!o)return;const e=new ResizeObserver((o=>{for(const e of o)Do(e.contentRect.width)}));return e.observe(o),()=>e.disconnect()}),[]);const ie={borderRadius:(null===(g=r.config)||void 0===g?void 0:g.buttonBorderRadius)||(null===(p=r.config)||void 0===p?void 0:p.borderRadius)||"0px",borderWidth:(null===(m=r.config)||void 0===m?void 0:m.borderWidth)||0,borderStyle:(null===(S=r.config)||void 0===S?void 0:S.borderStyle)||"",borderColor:(null===(I=r.config)||void 0===I?void 0:I.borderColor)||"",padding:(null===(E=r.config)||void 0===E?void 0:E.padding)||"",fontSize:(null===(z=r.config)||void 0===z?void 0:z.fontSize)||"14px",width:(null===(j=r.config)||void 0===j?void 0:j.width)||"fit-content",minWidth:(null===(L=r.config)||void 0===L?void 0:L.minWidth)||"fit-content",height:(null===(N=r.config)||void 0===N?void 0:N.height)||"100%",display:"flex",justifyContent:"space-between",alignItems:"center",cursor:"pointer"},de=ne?ie:Object.assign(Object.assign({},ie),{backgroundColor:te.bgColor,color:te.textColor,borderColor:te.borderColor}),le=Ao?{backgroundColor:te.hoverBgColor,color:te.hoverTextColor,borderColor:te.hoverBorderColor}:{},ae=Object.assign(Object.assign({},de),le),ce="full"===re||"label"===re||"auto"===re&&Oo>100,se="full"===re||"auto"===re&&Oo>60,ue=()=>{var o,e,n,t;return"dark"===Uo&&(null===(o=r.config)||void 0===o?void 0:o.enableDarkTheme)&&(null===(n=null===(e=r.config)||void 0===e?void 0:e.darkTheme)||void 0===n?void 0:n.logoutIconColor)?r.config.darkTheme.logoutIconColor:(null===(t=r.config)||void 0===t?void 0:t.logoutIconColor)?r.config.logoutIconColor:ne?Fo.color:te.textColor},ve=(e,n,r)=>{if(!(null==e?void 0:e.svg))return null;let t=e.svg;/fill=/.test(t.split(">")[0])||(t=t.replace("<svg",'<svg fill="currentColor"')),t=t.replace(/fill="[^"]*"/g,'fill="currentColor"');const i=n;return(0,o.jsx)("div",{id:r,dangerouslySetInnerHTML:{__html:t},style:{width:"16px",height:"16px",color:i,display:"inline-block",flexShrink:0,verticalAlign:"middle",marginRight:"8px"}})},fe=Bo&&(0,o.jsx)("div",{className:"dropdown",style:{top:$o.top,left:$o.left,width:"auto",minWidth:$o.width,position:"absolute",zIndex:9999,boxShadow:"0 2px 6px rgba(0,0,0,0.15)",display:"flex",flexDirection:"column",backgroundColor:ne?Fo.bg:te.bgColor,border:(null===(M=r.config)||void 0===M?void 0:M.borderWidth)&&parseInt(r.config.borderWidth)>0?`${r.config.borderWidth} solid ${te.borderColor}`:"none",borderRadius:(null===(R=r.config)||void 0===R?void 0:R.dropdownBorderRadius)||(null===(B=r.config)||void 0===B?void 0:B.borderRadius)||"0px",marginTop:(null===(P=r.config)||void 0===P?void 0:P.dropdownMarginTop)||"3px",marginLeft:"dark"===Uo&&(null===(A=r.config)||void 0===A?void 0:A.enableDarkTheme)&&(null===($=null===(_=r.config)||void 0===_?void 0:_.darkTheme)||void 0===$?void 0:$.dropdownMarginLeft)?r.config.darkTheme.dropdownMarginLeft:(null===(F=r.config)||void 0===F?void 0:F.dropdownMarginLeft)||"0px",marginRight:"dark"===Uo&&(null===(H=r.config)||void 0===H?void 0:H.enableDarkTheme)&&(null===(D=null===(O=r.config)||void 0===O?void 0:O.darkTheme)||void 0===D?void 0:D.dropdownMarginRight)?r.config.darkTheme.dropdownMarginRight:(null===(U=r.config)||void 0===U?void 0:U.dropdownMarginRight)||"0px",transform:"translateX(-100%)"}},(0,o.jsx)("div",{className:"dropdown-item",style:{backgroundColor:ne?Fo.bg:te.bgColor,color:ne?Fo.color:te.textColor,padding:"dark"===Uo&&(null===(q=r.config)||void 0===q?void 0:q.enableDarkTheme)&&(null===(G=null===(Z=r.config)||void 0===Z?void 0:Z.darkTheme)||void 0===G?void 0:G.dropdownItemSpacing)?`${parseInt(r.config.darkTheme.dropdownItemPaddingVertical)||6}px ${parseInt(r.config.darkTheme.dropdownItemPaddingHorizontal)||5}px`:`${parseInt(null===(J=r.config)||void 0===J?void 0:J.dropdownItemPaddingVertical)||6}px ${parseInt(null===(V=r.config)||void 0===V?void 0:V.dropdownItemPaddingHorizontal)||5}px`,fontSize:"dark"===Uo&&(null===(X=r.config)||void 0===X?void 0:X.enableDarkTheme)&&(null===(K=null===(Y=r.config)||void 0===Y?void 0:Y.darkTheme)||void 0===K?void 0:K.dropdownFontSize)?r.config.darkTheme.dropdownFontSize:(null===(Q=r.config)||void 0===Q?void 0:Q.dropdownFontSize)||"14px",fontWeight:"dark"===Uo&&(null===(oo=r.config)||void 0===oo?void 0:oo.enableDarkTheme)&&(null===(no=null===(eo=r.config)||void 0===eo?void 0:eo.darkTheme)||void 0===no?void 0:no.dropdownFontWeight)?r.config.darkTheme.dropdownFontWeight:(null===(ro=r.config)||void 0===ro?void 0:ro.dropdownFontWeight)||"normal",fontFamily:(null===(to=r.config)||void 0===to?void 0:to.dropdownFontFamily)||"inherit",lineHeight:(null===(io=r.config)||void 0===io?void 0:io.dropdownLineHeight)||"1.2",display:"flex",alignItems:"center",borderBottom:"1px solid rgba(0,0,0,0.1)",whiteSpace:"nowrap"}},ve(null===(lo=r.config)||void 0===lo?void 0:lo.userIcon,(()=>{var o,e,n,t;return"dark"===Uo&&(null===(o=r.config)||void 0===o?void 0:o.enableDarkTheme)&&(null===(n=null===(e=r.config)||void 0===e?void 0:e.darkTheme)||void 0===n?void 0:n.userIconColor)?r.config.darkTheme.userIconColor:(null===(t=r.config)||void 0===t?void 0:t.userIconColor)?r.config.userIconColor:ne?Fo.color:te.textColor})()),(0,o.jsx)("span",null,Vo&&Yo?`${Vo} ${Yo}`:"Пользователь")),(0,o.jsx)("div",{className:"dropdown-item",onClick:()=>{return o=void 0,e=void 0,t=function*(){var o;let e=null===(o=r.config)||void 0===o?void 0:o.logoutRedirectUrl;(!e||"string"==typeof e&&""===e.trim())&&(e="https://gis.uzspace.uz/uzspace/home/signin.html");const n=e;try{const[o]=yield function(o,e){if(void 0===e&&(e={}),C())return T(o);var n=x(),r=n&&n.getAttribute("src");return!e.url&&r&&(e.url=r),function(o){void 0===o&&(o={});var e={};[b,o].forEach((function(o){for(var n in o)Object.prototype.hasOwnProperty.call(o,n)&&(e[n]=o[n])}));var n=e.version,r=e.url||h(n);return new f.Promise((function(o,t){var i=x();if(i){var d=i.getAttribute("src");d!==r?t(new Error("The ArcGIS API for JavaScript is already loaded (".concat(d,")."))):C()?o(i):y(i,o,t)}else if(C())t(new Error("The ArcGIS API for JavaScript is already loaded."));else{var l=e.css;l&&w(!0===l?n:l,e.insertCssBefore),i=function(o){var e=document.createElement("script");return e.type="text/javascript",e.src=o,e.setAttribute("data-esri-loader","loading"),e}(r),y(i,(function(){i.setAttribute("data-esri-loader","loaded"),o(i)}),t),document.body.appendChild(i)}}))}(e).then((function(){return T(o)}))}(["esri/identity/IdentityManager"]);o.destroyCredentials()}catch(o){}if(yield(o=>{const e=(()=>{var o;const e=null===(o=r.config)||void 0===o?void 0:o.portalBaseUrl;return e&&e.trim().length>0?e.replace(/\/+$/,""):"https://gis.uzspace.uz/uzspace"})(),n=`${e}/sharing/rest/oauth2/signout?redirect_uri=${encodeURIComponent(o)}`;return new Promise((o=>{if("undefined"==typeof document||!document.body)return(()=>{try{fetch(n,{method:"GET",mode:"no-cors",credentials:"include"}).catch((()=>{}))}catch(o){}})(),void o();const e=document.createElement("iframe");e.style.display="none",e.src=n;const r=()=>{e.parentNode&&e.parentNode.removeChild(e),o()},t=window.setTimeout((()=>{r()}),2e3);e.addEventListener("load",(()=>{window.clearTimeout(t),r()})),document.body.appendChild(e)}))})(n),document.cookie.split(";").forEach((o=>{const[e]=o.trim().split("=");document.cookie=`${e}=;expires=Thu, 01 Jan 1970 00:00:00 GMT;path=/;domain=gis.uzspace.uz`,document.cookie=`${e}=;expires=Thu, 01 Jan 1970 00:00:00 GMT;path=/;domain=.uzspace.uz`,document.cookie=`${e}=;expires=Thu, 01 Jan 1970 00:00:00 GMT;path=/`})),sessionStorage.clear(),localStorage.clear(),window.top&&window.top!==window)try{window.top.location.href=n}catch(o){window.location.href=n}else window.location.href=n},new((n=void 0)||(n=Promise))((function(r,i){function d(o){try{a(t.next(o))}catch(o){i(o)}}function l(o){try{a(t.throw(o))}catch(o){i(o)}}function a(o){var e;o.done?r(o.value):(e=o.value,e instanceof n?e:new n((function(o){o(e)}))).then(d,l)}a((t=t.apply(o,e||[])).next())}));var o,e,n,t},onMouseEnter:o=>{var e,n,t,i,d,l,a,c;const s="dark"===Uo&&(null===(e=r.config)||void 0===e?void 0:e.enableDarkTheme)&&(null===(t=null===(n=r.config)||void 0===n?void 0:n.darkTheme)||void 0===t?void 0:t.dropdownHoverBgColor)?r.config.darkTheme.dropdownHoverBgColor:(null===(i=r.config)||void 0===i?void 0:i.dropdownHoverBgColor)||te.hoverBgColor,u="dark"===Uo&&(null===(d=r.config)||void 0===d?void 0:d.enableDarkTheme)&&(null===(a=null===(l=r.config)||void 0===l?void 0:l.darkTheme)||void 0===a?void 0:a.dropdownHoverTextColor)?r.config.darkTheme.dropdownHoverTextColor:(null===(c=r.config)||void 0===c?void 0:c.dropdownHoverTextColor)||te.hoverTextColor;o.currentTarget.style.backgroundColor=s,o.currentTarget.style.color=u;const v=o.currentTarget.querySelector('[id="logout-icon"]');v&&(v.style.color=u)},onMouseLeave:o=>{const e=ne?Fo.bg:te.bgColor,n=ne?Fo.color:te.textColor;o.currentTarget.style.backgroundColor=e,o.currentTarget.style.color=n;const r=o.currentTarget.querySelector('[id="logout-icon"]');r&&(r.style.color=ue())},style:{backgroundColor:ne?Fo.bg:te.bgColor,color:ne?Fo.color:te.textColor,padding:"dark"===Uo&&(null===(ao=r.config)||void 0===ao?void 0:ao.enableDarkTheme)&&(null===(so=null===(co=r.config)||void 0===co?void 0:co.darkTheme)||void 0===so?void 0:so.dropdownItemSpacing)?`${parseInt(r.config.darkTheme.dropdownItemPaddingVertical)||6}px ${parseInt(r.config.darkTheme.dropdownItemPaddingHorizontal)||5}px`:`${parseInt(null===(uo=r.config)||void 0===uo?void 0:uo.dropdownItemPaddingVertical)||6}px ${parseInt(null===(vo=r.config)||void 0===vo?void 0:vo.dropdownItemPaddingHorizontal)||5}px`,cursor:"pointer",transition:"all 0.2s ease",fontSize:"dark"===Uo&&(null===(fo=r.config)||void 0===fo?void 0:fo.enableDarkTheme)&&(null===(po=null===(go=r.config)||void 0===go?void 0:go.darkTheme)||void 0===po?void 0:po.dropdownFontSize)?r.config.darkTheme.dropdownFontSize:(null===(mo=r.config)||void 0===mo?void 0:mo.dropdownFontSize)||"14px",fontWeight:"dark"===Uo&&(null===(ho=r.config)||void 0===ho?void 0:ho.enableDarkTheme)&&(null===(bo=null===(wo=r.config)||void 0===wo?void 0:wo.darkTheme)||void 0===bo?void 0:bo.dropdownFontWeight)?r.config.darkTheme.dropdownFontWeight:(null===(yo=r.config)||void 0===yo?void 0:yo.dropdownFontWeight)||"normal",fontFamily:(null===(xo=r.config)||void 0===xo?void 0:xo.dropdownFontFamily)||"inherit",lineHeight:(null===(Co=r.config)||void 0===Co?void 0:Co.dropdownLineHeight)||"1.2",display:"flex",alignItems:"center",whiteSpace:"nowrap"}},ve(null===(To=r.config)||void 0===To?void 0:To.logoutIcon,ue(),"logout-icon"),(0,o.jsx)("span",null,(()=>{const o=r.config;return"uz"===Mo&&(null==o?void 0:o.buttonTextUz)?o.buttonTextUz:"uzcryl"===Mo&&(null==o?void 0:o.buttonTextUzCryl)?o.buttonTextUzCryl:"ru"===Mo&&(null==o?void 0:o.buttonTextRu)?o.buttonTextRu:Go.logout||"Выйти"})())));let ge=(null===(ko=r.config.icon)||void 0===ko?void 0:ko.svg)||"";/fill=/.test(ge.split(">")[0])||(ge=ge.replace("<svg",'<svg fill="currentColor"')),ge=ge.replace(/fill="[^"]*"/g,'fill="currentColor"');const pe=(null===(Io=null===(So=r.config.icon)||void 0===So?void 0:So.properties)||void 0===Io?void 0:Io.color)||te.textColor,me={width:(null===(Eo=r.config.iconSize)||void 0===Eo?void 0:Eo.width)||"24px",height:(null===(zo=r.config.iconSize)||void 0===zo?void 0:zo.height)||"24px"},he=r.config.iconPosition||"left",we=(null===(Lo=null===(jo=r.config)||void 0===jo?void 0:jo.icon)||void 0===Lo?void 0:Lo.svg)&&"label"!==re?(0,o.jsx)("div",{dangerouslySetInnerHTML:{__html:ge},style:Object.assign(Object.assign({},me),{color:pe,display:"inline-block",flexShrink:0,verticalAlign:"middle"})}):null,be="full"===re||"auto"===re?"space-between":"center";return(0,o.jsx)("div",{className:"jimu-widget logout-widget"},(0,o.jsx)(k.Button,{ref:Zo,type:ne?ee:void 0,className:ne?"":"dynamic-hover logout-btn",style:ae,onMouseEnter:()=>_o(!0),onMouseLeave:()=>_o(!1),onClick:()=>{if(Zo.current){const o=Zo.current.getBoundingClientRect();Wo({top:o.bottom+window.scrollY,left:o.right+window.scrollX,width:o.width})}Po((o=>!o))}},(0,o.jsx)("span",{style:{display:"flex",alignItems:"center",justifyContent:be,gap:"5px",width:"100%",overflow:"hidden",whiteSpace:"nowrap"}},"left"===he&&we,ce&&(0,o.jsx)("span",{style:{display:"flex",alignItems:"center",gap:"6px",marginInline:"6px",whiteSpace:"nowrap"}},(()=>{const o=Jo();return o&&o.firstName?o.firstName.charAt(0).toUpperCase():"U"})()),"right"===he&&we,se&&(0,o.jsx)("span",{className:"arrow",style:{display:"flex",alignItems:"center",flexShrink:0}},Bo?(0,o.jsx)(u,{size:20}):(0,o.jsx)(v,{size:20})))),n.default.createPortal(fe,document.body))};function H(o){d.p=o}})(),l})())}}}));