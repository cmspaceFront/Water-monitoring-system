/*! For license information please see widget.js.LICENSE.txt */
System.register(["jimu-core","jimu-core/react"],(function(e,t){var o={},r={};return{setters:[function(e){o.DataRecordsSelectionChangeMessage=e.DataRecordsSelectionChangeMessage,o.DataSourceComponent=e.DataSourceComponent,o.MessageManager=e.MessageManager,o.StringSelectionChangeMessage=e.StringSelectionChangeMessage,o.css=e.css,o.getAppStore=e.getAppStore,o.jsx=e.jsx},function(e){r.createElement=e.createElement,r.forwardRef=e.forwardRef,r.useEffect=e.useEffect,r.useState=e.useState}],execute:function(){e((()=>{var e={8891:e=>{"use strict";e.exports=o},1315:e=>{"use strict";e.exports=r}},t={};function n(o){var r=t[o];if(void 0!==r)return r.exports;var i=t[o]={exports:{}};return e[o](i,i.exports,n),i.exports}n.d=(e,t)=>{for(var o in t)n.o(t,o)&&!n.o(e,o)&&Object.defineProperty(e,o,{enumerable:!0,get:t[o]})},n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),n.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.p="";var i={};return n.p=window.jimuConfig.baseUrl,(()=>{"use strict";n.r(i),n.d(i,{__set_webpack_public_path__:()=>S,default:()=>x});var e=n(8891),t=n(1315);const o=e=>{const t=(e=>e.replace(/^([A-Z])|[\s-_]+(\w)/g,((e,t,o)=>o?o.toUpperCase():t.toLowerCase())))(e);return t.charAt(0).toUpperCase()+t.slice(1)},r=(...e)=>e.filter(((e,t,o)=>Boolean(e)&&""!==e.trim()&&o.indexOf(e)===t)).join(" ").trim(),l=e=>{for(const t in e)if(t.startsWith("aria-")||"role"===t||"title"===t)return!0};var a={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const s=(0,t.forwardRef)((({color:e="currentColor",size:o=24,strokeWidth:n=2,absoluteStrokeWidth:i,className:s="",children:d,iconNode:c,...u},g)=>(0,t.createElement)("svg",{ref:g,...a,width:o,height:o,stroke:e,strokeWidth:i?24*Number(n)/Number(o):n,className:r("lucide",s),...!d&&!l(u)&&{"aria-hidden":"true"},...u},[...c.map((([e,o])=>(0,t.createElement)(e,o))),...Array.isArray(d)?d:[d]]))),d=(e,n)=>{const i=(0,t.forwardRef)((({className:i,...l},a)=>{return(0,t.createElement)(s,{ref:a,iconNode:n,className:r(`lucide-${d=o(e),d.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase()}`,`lucide-${e}`,i),...l});var d}));return i.displayName=o(e),i},c=d("chevron-up",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]),u=d("chevron-down",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);var g=function(e,t,o,r){return new(o||(o=Promise))((function(n,i){function l(e){try{s(r.next(e))}catch(e){i(e)}}function a(e){try{s(r.throw(e))}catch(e){i(e)}}function s(e){var t;e.done?n(e.value):(t=e.value,t instanceof o?t:new o((function(e){e(t)}))).then(l,a)}s((r=r.apply(e,t||[])).next())}))};const f={SELECTED_YEAR:"selected-year",SELECTED_DAM:"selected_dam",DAM_SORT_ORDER:"dam-sort-order"},p={displayType:"dropdown",showName:!0,showCountNearName:!0,showDropdownIcon:!0,showEndCount:!0,width:"",height:"",buttonWidth:"100%",buttonHeight:"auto",bgColor:"#fff",textColor:"#000",hoverBgColor:"#dbeafe",hoverTextColor:"#000",hoverBorderColor:"#2563eb",borderRadius:8,borderColor:"#e5e7eb",borderWidth:1,borderStyle:"solid",padding:16,margin:0,gap:8,fontSize:15,fontWeight:"normal",fontFamily:"inherit",lineHeight:"1.4",letterSpacing:"normal",position:"relative",dropdownItemBgColor:"#fff",dropdownItemTextColor:"#000",dropdownItemBorderColor:"#e5e7eb",dropdownItemHoverBgColor:"#dbeafe",dropdownItemHoverTextColor:"#000",dropdownItemHoverBorderColor:"#e5e7eb",dropdownItemBorderRadius:8,dropdownItemBorderWidth:1,dropdownItemBorderStyle:"solid",defaultBgColor:"#2563eb",defaultTextColor:"#fff",defaultBorderColor:"#2563eb",activeBgColor:"#2563eb",activeTextColor:"#fff",activeBorderColor:"#2563eb",dropdownItemActiveBgColor:"#2563eb",dropdownItemActiveTextColor:"#fff",dropdownItemActiveBorderColor:"#2563eb"};function m(e){return Object.assign(Object.assign({},p),e)}function h(e){return localStorage.getItem(e)}function v(e,t){t?localStorage.setItem(e,t):localStorage.removeItem(e)}function y(){try{const e=localStorage.getItem("exb_auth");if(e)try{const t=JSON.parse(e);if(t.email)return t.email;if(t.user&&t.user.email)return t.user.email;if(t.username&&t.username.includes("@"))return t.username}catch(e){}const t=Object.keys(localStorage).filter((e=>e.includes("portalApp")||e.includes("portal")||e.includes("token")||e.includes("credential")));for(const e of t)try{const t=localStorage.getItem(e),o=JSON.parse(t||"{}");if(o.email)return o.email}catch(t){console.error("üîê Region-Dam Filter: Failed to parse key:",e,"- Error:",t.message);continue}const o=Object.keys(localStorage);for(const e of o)try{const t=localStorage.getItem(e);if(t&&(t.includes('"email"')||t.includes("farhodmf")||t.includes("@"))){const e=JSON.parse(t);if(e.email)return e.email}}catch(t){const o=localStorage.getItem(e);if(o&&o.includes("@")&&o.length<100)return o;continue}return null}catch(e){return console.error("üîê Region-Dam Filter: Error extracting user email:",e),null}}function w(e){return e?`LOWER(allowed_us) LIKE '%${e.toLowerCase()}%'`:"1=0"}function x(o){var r,n;const[i,l]=(0,t.useState)(),[a,s]=(0,t.useState)([]),[d,p]=(0,t.useState)([]),[x,S]=(0,t.useState)("All"),[C,E]=(0,t.useState)({}),[b,$]=(0,t.useState)(null),[F,z]=(0,t.useState)(null),[I,A]=(0,t.useState)(null),[_,D]=(0,t.useState)(null),[j,T]=(0,t.useState)("ru"),[k,M]=(0,t.useState)("light"),[R,B]=(0,t.useState)(null),[L,N]=(0,t.useState)(!0),O=null===(r=o.useDataSources)||void 0===r?void 0:r[0],V=o.config,W="dark"===k&&V.darkTheme?m(Object.assign(Object.assign({},V),V.darkTheme)):m(V),{showName:q,showCountNearName:H,showDropdownIcon:P,showEndCount:G,width:J,height:Q,buttonWidth:Y,buttonHeight:U,bgColor:Z,textColor:K,hoverBgColor:X,hoverTextColor:ee,hoverBorderColor:te,borderRadius:oe,borderColor:re,borderWidth:ne,borderStyle:ie,padding:le,margin:ae,gap:se,fontSize:de,fontWeight:ce,fontFamily:ue,lineHeight:ge,letterSpacing:fe,position:pe,dropdownItemBgColor:me,dropdownItemTextColor:he,dropdownItemBorderColor:ve,dropdownItemHoverBgColor:ye,dropdownItemHoverTextColor:we,dropdownItemHoverBorderColor:xe,dropdownItemBorderRadius:Se,dropdownItemBorderWidth:Ce,dropdownItemBorderStyle:Ee,defaultBgColor:be,defaultTextColor:$e,defaultBorderColor:Fe,activeBgColor:ze,activeTextColor:Ie,activeBorderColor:Ae,dropdownItemActiveBgColor:_e,dropdownItemActiveTextColor:De,dropdownItemActiveBorderColor:je}=W;(0,t.useEffect)((()=>{!function(){g(this,void 0,void 0,(function*(){N(!0);try{const e=yield function(){return g(this,arguments,void 0,(function*(e=3,t=1e3){let o=y();if(o)return o;for(let r=1;r<=e;r++)if(yield new Promise((e=>setTimeout(e,t))),o=y(),o)return o;return console.error("üîê Region-Dam Filter: ‚ùå All retry attempts exhausted, no email found"),null}))}(3,1e3);B(e),e||console.error("üîê Region-Dam Filter: ‚ùå Authentication failed after retries")}catch(e){console.error("üîê Region-Dam Filter: Authentication error:",e),B(null)}finally{N(!1)}}))}()}),[]),(0,t.useEffect)((()=>{if(R||L)return;const e=setInterval((()=>{const t=y();t&&(B(t),clearInterval(e))}),2e3),t=setTimeout((()=>{}),3e4);return()=>{clearInterval(e),clearTimeout(t)}}),[R,L]);const Te=(t,r,n)=>g(this,void 0,void 0,(function*(){const l=t===V.damField,a=t===V.regionField;if(l){z(r),v(f.SELECTED_DAM,r);const e=d.find((e=>e.getFieldValue(V.damField)===r));if(e){const t=e.getFieldValue(V.regionField);S(t),$(t)}}else a&&(S(r),z(null),v(f.SELECTED_DAM,null));if(!i||!o.id||!R)return;let s=w(R);const c=void 0!==n?n:_;if(c&&"All"!==c&&""!==c){const e=V.yearField||"made_year";s+=` AND ${e} = '${c}'`}if("All"!==r){const e=`${t} = '${r.replace(/'/g,"''")}'`;s+=` AND ${e}`}try{yield i.updateQueryParams({where:s},o.id),setTimeout((()=>g(this,void 0,void 0,(function*(){var t,n,l,a;let d=null!==(n=null===(t=(yield i.query({where:s,outFields:["*"],returnGeometry:!0},{widgetId:o.id})).records)||void 0===t?void 0:t.filter((e=>e.getGeometry())))&&void 0!==n?n:[],u=r;if(0===d.length&&"All"!==r){let e=w(R);c&&"All"!==c&&""!==c&&(e+=` AND ${V.yearField||"made_year"} = '${c}'`),yield i.updateQueryParams({where:e},o.id),d=null!==(a=null===(l=(yield i.query({where:e,outFields:["*"],returnGeometry:!0},{widgetId:o.id})).records)||void 0===l?void 0:l.filter((e=>e.getGeometry())))&&void 0!==a?a:[]}if(d.length>0){i.selectRecords({records:d,widgetId:o.id});const t=new e.DataRecordsSelectionChangeMessage(o.id,d);e.MessageManager.getInstance().publishMessage(t)}const g=new e.StringSelectionChangeMessage(o.id,u);g.str=u,e.MessageManager.getInstance().publishMessage(g)}))),100)}catch(e){console.error("‚ùå Selection error:",e)}})),ke=t=>{const r=""===t?"All":t;D(r),z(null),v(f.SELECTED_DAM,null),S("All"),$(null),i&&i.clearSelection();const n=new e.DataRecordsSelectionChangeMessage(o.id,[]);e.MessageManager.getInstance().publishMessage(n),setTimeout((()=>{Te(V.regionField,"All",r)}),100)},Me=e=>{if(e&&e!==F){const t=d.find((t=>t.getFieldValue(V.damField)===e));if(t){const o=t.getFieldValue(V.regionField);S(o),$(o),z(e),Te(V.damField,e)}}else!e&&F&&z(null)};(0,t.useEffect)((()=>{const e=h(f.SELECTED_YEAR);D(""===e?"All":e),A(h(f.DAM_SORT_ORDER)),T(h("custom_locale")||"ru"),M(h("customTheme")||"light")}),[]),(0,t.useEffect)((()=>{let e,t,o,r,n;function i(e){switch(e.key){case f.SELECTED_YEAR:ke(e.newValue);break;case f.SELECTED_DAM:Me(e.newValue);break;case f.DAM_SORT_ORDER:A(e.newValue);break;case"custom_locale":T(e.newValue||"ru");break;case"customTheme":M(e.newValue||"light")}}return window.addEventListener("storage",i),e=setInterval((()=>{const e=h(f.SELECTED_YEAR);e!==_&&ke(e)}),100),t=setInterval((()=>{const e=h(f.SELECTED_DAM);e!==F&&Me(e)}),100),o=setInterval((()=>{const e=h(f.DAM_SORT_ORDER);e!==I&&A(e)}),100),r=setInterval((()=>{const e=h("custom_locale")||"ru";e!==j&&T(e)}),100),n=setInterval((()=>{const e=h("customTheme")||"light";e!==k&&M(e)}),100),()=>{window.removeEventListener("storage",i),clearInterval(e),clearInterval(t),clearInterval(o),clearInterval(r),clearInterval(n)}}),[_,F,I,j,k,x,d,V.damField,V.regionField]),(0,t.useEffect)((()=>{function e(){v(f.SELECTED_DAM,null),S("All"),$(null),Te(V.regionField,"All")}return window.addEventListener("popstate",e),()=>window.removeEventListener("popstate",e)}),[V.regionField]),(0,t.useEffect)((()=>{const e=h(f.SELECTED_DAM);e&&e!==F&&d.length>0&&Me(e)}),[d,F]),(0,t.useEffect)((()=>{if(d.length>0){const e=h(f.SELECTED_DAM);if(e){const t=d.find((t=>t.getFieldValue(V.damField)===e));if(t){const o=t.getFieldValue(V.regionField);S(o),z(e),$(o)}}}}),[d,V.damField,V.regionField]),(0,t.useEffect)((()=>{if(!R)return p([]),void E({});const e=V.yearField||"made_year",t=function(e,t){return t?e.filter((e=>function(e,t){if(!t||!e)return!1;const o=e.getFieldValue("allowed_us");return!!o&&o.split(",").map((e=>e.trim().toLowerCase())).includes(t.toLowerCase())}(e,t))):[]}(a,R),o=function(e,t,o){return o&&"All"!==o&&t?e.filter((e=>{const r=e.getFieldValue(t);return r&&r.toString()===o})):e}(t,e,_);p(o);const r=V.regionField,n=V.damField,i=o.reduce(((e,t)=>{const o=t.getFieldValue(r),i=t.getFieldValue(n);return o&&i&&(e[o]||(e[o]=new Set),e[o].add(i)),e}),{}),l=Object.entries(i).reduce(((e,[t,o])=>(e[t]=o.size,e)),{});E(l)}),[a,_,R,V.yearField,V.regionField]),(0,t.useEffect)((()=>{i&&R&&!L&&Re()}),[i,R,L]),(0,t.useEffect)((()=>{var e,t;const r=null===(e=o.stateProps)||void 0===e?void 0:e.queryString;if(r){const e=r.match(/region\s*=\s*'(.+?)'/i),o=null!==(t=null==e?void 0:e[1])&&void 0!==t?t:"All";S(o)}}),[null===(n=o.stateProps)||void 0===n?void 0:n.queryString]),(0,t.useEffect)((()=>{const t=(0,e.getAppStore)().getState().appConfig.theme;document.body.setAttribute("data-theme","themes/darkCustom/"===t?"dark":"light")}),[]);const Re=()=>g(this,void 0,void 0,(function*(){const e=V.regionField,t=V.damField,r=V.yearField||"made_year";if(!i||!o.id||!R)return;const n={where:w(R),outFields:[e,t,r,"title_ru","title_uz_c","title_uz_l","allowed_us",...V.localField?[V.localField]:[]],returnGeometry:!0};try{const e=yield i.query(n,{widgetId:o.id});s(e.records||[])}catch(e){console.error("‚ùå Load failed:",e)}})),Be=e=>{$((t=>t===e?null:e))},Le={"“ö–æ—Ä–∞“õ–∞–ª–ø–æ“ì–∏—Å—Ç–æ–Ω –†–µ—Å–ø—É–±–ª–∏–∫–∞—Å–∏":{ru:"–†–µ—Å–ø—É–±–ª–∏–∫–∞ –ö–∞—Ä–∞–∫–∞–ª–ø–∞–∫—Å—Ç–∞–Ω",uz:"Qoraqalpog ªiston Respublikasi",uzcryl:"“ö–æ—Ä–∞“õ–∞–ª–ø–æ“ì–∏—Å—Ç–æ–Ω –†–µ—Å–ø—É–±–ª–∏–∫–∞—Å–∏"},"–ê–Ω–¥–∏–∂–æ–Ω –≤–∏–ª–æ—è—Ç–∏":{ru:"–ê–Ω–¥–∏–∂–∞–Ω—Å–∫–∞—è –æ–±–ª–∞—Å—Ç—å",uz:"Andijon viloyati",uzcryl:"–ê–Ω–¥–∏–∂–æ–Ω –≤–∏–ª–æ—è—Ç–∏"},"–ë—É—Ö–æ—Ä–æ –≤–∏–ª–æ—è—Ç–∏":{ru:"–ë—É—Ö–∞—Ä—Å–∫–∞—è –æ–±–ª–∞—Å—Ç—å",uz:"Buxoro viloyati",uzcryl:"–ë—É—Ö–æ—Ä–æ –≤–∏–ª–æ—è—Ç–∏"},"–§–∞—Ä“ì–æ–Ω–∞ –≤–∏–ª–æ—è—Ç–∏":{ru:"–§–µ—Ä–≥–∞–Ω—Å–∫–∞—è –æ–±–ª–∞—Å—Ç—å",uz:"Farg ªona viloyati",uzcryl:"–§–∞—Ä“ì–æ–Ω–∞ –≤–∏–ª–æ—è—Ç–∏"},"–ñ–∏–∑–∑–∞—Ö –≤–∏–ª–æ—è—Ç–∏":{ru:"–î–∂–∏–∑–∞–∫—Å–∫–∞—è –æ–±–ª–∞—Å—Ç—å",uz:"Jizzax viloyati",uzcryl:"–ñ–∏–∑–∑–∞—Ö –≤–∏–ª–æ—è—Ç–∏"},"–•–æ—Ä–∞–∑–º –≤–∏–ª–æ—è—Ç–∏":{ru:"–•–æ—Ä–µ–∑–º—Å–∫–∞—è –æ–±–ª–∞—Å—Ç—å",uz:"Xorazm viloyati",uzcryl:"–•–æ—Ä–∞–∑–º –≤–∏–ª–æ—è—Ç–∏"},"–ù–∞–º–∞–Ω–≥–∞–Ω –≤–∏–ª–æ—è—Ç–∏":{ru:"–ù–∞–º–∞–Ω–≥–∞–Ω—Å–∫–∞—è –æ–±–ª–∞—Å—Ç—å",uz:"Namangan viloyati",uzcryl:"–ù–∞–º–∞–Ω–≥–∞–Ω –≤–∏–ª–æ—è—Ç–∏"},"–ù–∞–≤–æ–∏–π –≤–∏–ª–æ—è—Ç–∏":{ru:"–ù–∞–≤–æ–∏–π—Å–∫–∞—è –æ–±–ª–∞—Å—Ç—å",uz:"Navoiy viloyati",uzcryl:"–ù–∞–≤–æ–∏–π –≤–∏–ª–æ—è—Ç–∏"},"“ö–∞—à“õ–∞–¥–∞—Ä—ë –≤–∏–ª–æ—è—Ç–∏":{ru:"–ö–∞—à–∫–∞–¥–∞—Ä—å–∏–Ω—Å–∫–∞—è –æ–±–ª–∞—Å—Ç—å",uz:"Qashqadaryo viloyati",uzcryl:"“ö–∞—à“õ–∞–¥–∞—Ä—ë –≤–∏–ª–æ—è—Ç–∏"},"–°–∞–º–∞—Ä“õ–∞–Ω–¥ –≤–∏–ª–æ—è—Ç–∏":{ru:"–°–∞–º–∞—Ä–∫–∞–Ω–¥—Å–∫–∞—è –æ–±–ª–∞—Å—Ç—å",uz:"Samarqand viloyati",uzcryl:"–°–∞–º–∞—Ä“õ–∞–Ω–¥ –≤–∏–ª–æ—è—Ç–∏"},"–°–∏—Ä–¥–∞—Ä—ë –≤–∏–ª–æ—è—Ç–∏":{ru:"–°—ã—Ä–¥–∞—Ä—å–∏–Ω—Å–∫–∞—è –æ–±–ª–∞—Å—Ç—å",uz:"Sirdaryo viloyati",uzcryl:"–°–∏—Ä–¥–∞—Ä—ë –≤–∏–ª–æ—è—Ç–∏"},"–°—É—Ä—Ö–æ–Ω–¥–∞—Ä—ë –≤–∏–ª–æ—è—Ç–∏":{ru:"–°—É—Ä—Ö–∞–Ω–¥–∞—Ä—å–∏–Ω—Å–∫–∞—è –æ–±–ª–∞—Å—Ç—å",uz:"Surxondaryo viloyati",uzcryl:"–°—É—Ä—Ö–æ–Ω–¥–∞—Ä—ë –≤–∏–ª–æ—è—Ç–∏"},"–¢–æ—à–∫–µ–Ω—Ç –≤–∏–ª–æ—è—Ç–∏":{ru:"–¢–∞—à–∫–µ–Ω—Ç—Å–∫–∞—è –æ–±–ª–∞—Å—Ç—å",uz:"Toshkent viloyati",uzcryl:"–¢–æ—à–∫–µ–Ω—Ç –≤–∏–ª–æ—è—Ç–∏"},"–¢–æ—à–∫–µ–Ω—Ç —à–∞“≥—Ä–∏":{ru:"–ì–æ—Ä–æ–¥ –¢–∞—à–∫–µ–Ω—Ç",uz:"Toshkent shahri",uzcryl:"–¢–æ—à–∫–µ–Ω—Ç —à–∞“≥—Ä–∏"}},Ne=`\n    border-radius: ${oe}px;\n    width: ${Y}px;\n    height: ${U}px;\n    transition: all 0.2s;\n    &:hover {\n      border-color: ${te};\n      background: ${X};\n      color: ${ee};\n    }\n  `;return L?(0,e.jsx)("div",{className:"jimu-widget",css:e.css`
          background: ${Z};
          color: ${K};
          width: ${J}px;
          height: ${Q}px;
          padding: ${le}px;
          margin: ${ae}px;
          position: ${pe};
          font-size: ${de}px;
          display: flex;
          align-items: center;
          justify-content: center;
          text-align: center;
        `},(0,e.jsx)("div",null,(0,e.jsx)("p",{style:{margin:"0 0 8px 0",fontWeight:600}},"ru"===j?"–ü—Ä–æ–≤–µ—Ä–∫–∞ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏...":"uz"===j?"Avtorizatsiya tekshirilmoqda...":"–ê–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è —Ç–µ–∫—à–∏—Ä–∏–ª–º–æ“õ–¥–∞..."),(0,e.jsx)("small",{style:{opacity:.7}},"ru"===j?"–ü–æ–∂–∞–ª—É–π—Å—Ç–∞, –ø–æ–¥–æ–∂–¥–∏—Ç–µ":"uz"===j?"Iltimos kuting":"–ò–ª—Ç–∏–º–æ—Å –∫—É—Ç–∏–Ω–≥"))):R?(0,e.jsx)("div",{className:"jimu-widget",css:e.css`
        background: ${Z};
        color: ${K};
        width: ${J}px;
        height: ${Q}px;
        padding: ${le}px;
        margin: ${ae}px;
        position: ${pe};
        font-size: ${de}px;
        font-weight: ${ce};
        line-height: ${"number"==typeof ge?ge:`'${ge}'`};
        letter-spacing: ${"number"==typeof fe?`${fe}px`:fe};
        overflow-y: auto;
        display: flex;
        flex-direction: column;
        gap: ${se}px;
      `},(0,e.jsx)(e.DataSourceComponent,{useDataSource:O,widgetId:o.id,onDataSourceCreated:e=>l(e)}),(0,e.jsx)("div",{css:e.css`
        display: flex;
        flex-direction: column;
        gap: ${se}px;
        align-items: stretch;
      `},Object.entries(C).map((([t,o],r)=>{const n=b===t,i=x===t&&null===F,l=V.regionField,a=V.damField;let s=d.filter((e=>e.getFieldValue(l)===t));const g=new Map;s.forEach((e=>{const t=e.getFieldValue(a);g.has(t)||g.set(t,e)})),s=Array.from(g.values()),s=function(e,t,o){return o?[...e].sort(((e,r)=>{var n,i;const l=((null===(n=null==e?void 0:e.getFieldValue)||void 0===n?void 0:n.call(e,t))||"").toString(),a=((null===(i=null==r?void 0:r.getFieldValue)||void 0===i?void 0:i.call(r,t))||"").toString();return"asc"===o?l.localeCompare(a):a.localeCompare(l)})):e}(s,a,I);const f=g.size,p=function(e){const t=Le[e];return t&&t[j]||e}(t);return(0,e.jsx)("div",{key:r,css:e.css`
                display: flex;
                flex-direction: column;
                gap: ${se}px;
              `},(0,e.jsx)("div",{onClick:()=>{b===t?Be(t):(Be(t),Te(l,t))},css:e.css`
                  ${Ne}
                  border: ${ne}px ${ie} ${i?Ae:Fe};
                  display: flex;
                  justify-content: space-between;
                  align-items: center;
                  padding: 10px 14px;
                  background: ${i?ze:be};
                  color: ${i?Ie:$e};
                  cursor: pointer;
                  width: ${Y};
                  height: ${U};
                  white-space: normal;
                  margin-right: 0;
                `},(0,e.jsx)("span",null,q&&p,H&&(0,e.jsx)("span",{css:e.css`margin-left: 12px; opacity: 0.6;`},"(",f,")")),(0,e.jsx)("span",{css:e.css`display: flex; align-items: center; gap: 6px;`},P&&(n?(0,e.jsx)(c,{size:16}):(0,e.jsx)(u,{size:16})),G&&(0,e.jsx)("span",{css:e.css`font-weight: 600; margin-left: 12px;`},f))),n&&(0,e.jsx)("div",{css:e.css`display: flex; flex-direction: column; gap: ${se}px;`},s.map(((t,o)=>{const r=t.getFieldValue(a),n=F===r,i=function(e,t){var o,r,n;return e?"ru"===j?(null===(o=e.getFieldValue)||void 0===o?void 0:o.call(e,"title_ru"))||t:"uzcryl"===j?(null===(r=e.getFieldValue)||void 0===r?void 0:r.call(e,"title_uz_c"))||t:"uz"===j&&(null===(n=e.getFieldValue)||void 0===n?void 0:n.call(e,"title_uz_l"))||t:t}(t,r);return(0,e.jsx)("div",{key:o,onClick:()=>Te(a,r),css:e.css`
                          border: ${Ce}px ${Ee} ${n?je:ve};
                          border-radius: ${Se}px;
                          padding: 8px 14px;
                          background: ${n?_e:me};
                          color: ${n?De:he};
                          width: ${Y}px;
                          height: ${U}px;
                          font-size: 14px;
                          cursor: pointer;
                          transition: all 0.2s;
                          &:hover {
                            background: ${ye};
                            color: ${we};
                            border-color: ${xe};
                          }
                        `},i)}))))})))):(0,e.jsx)("div",{className:"jimu-widget",css:e.css`
          background: ${Z};
          color: ${K};
          width: ${J}px;
          height: ${Q}px;
          padding: ${le}px;
          margin: ${ae}px;
          position: ${pe};
          font-size: ${de}px;
          display: flex;
          align-items: center;
          justify-content: center;
          text-align: center;
        `},(0,e.jsx)("div",null,(0,e.jsx)("p",{style:{margin:"0 0 8px 0",fontWeight:600}},"ru"===j?"–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –Ω–µ –∞–≤—Ç–æ—Ä–∏–∑–æ–≤–∞–Ω":"uz"===j?"Foydalanuvchi avtorizatsiya qilinmagan":"–§–æ–π–¥–∞–ª–∞–Ω—É–≤—á–∏ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è “õ–∏–ª–∏–Ω–º–∞–≥–∞–Ω"),(0,e.jsx)("small",{style:{opacity:.7}},"ru"===j?"–í–æ–π–¥–∏—Ç–µ –≤ —Å–∏—Å—Ç–µ–º—É –¥–ª—è –¥–æ—Å—Ç—É–ø–∞ –∫ –¥–∞–Ω–Ω—ã–º":"uz"===j?"Ma ºlumotlarga kirish uchun tizimga kiring":"–ú–∞—ä–ª—É–º–æ—Ç–ª–∞—Ä–≥–∞ –∫–∏—Ä–∏—à —É—á—É–Ω —Ç–∏–∑–∏–º–≥–∞ –∫–∏—Ä–∏–Ω–≥")))}function S(e){n.p=e}})(),i})())}}}));