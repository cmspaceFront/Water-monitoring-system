System.register(["jimu-core","jimu-ui/advanced/data-source-selector","jimu-ui/advanced/setting-components","jimu-ui","jimu-ui/basic/color-picker"],(function(e,t){var s={},i={},a={},o={},n={};return{setters:[function(e){s.DataSourceTypes=e.DataSourceTypes,s.Immutable=e.Immutable,s.React=e.React,s.jsx=e.jsx},function(e){i.DataSourceSelector=e.DataSourceSelector},function(e){a.LinkSelector=e.LinkSelector,a.SettingRow=e.SettingRow,a.SettingSection=e.SettingSection},function(e){o.Button=e.Button,o.Collapse=e.Collapse,o.NumericInput=e.NumericInput,o.Tab=e.Tab,o.Tabs=e.Tabs,o.TextInput=e.TextInput},function(e){n.ColorPicker=e.ColorPicker}],execute:function(){e((()=>{var e={8891:e=>{"use strict";e.exports=s},726:e=>{"use strict";e.exports=o},338:e=>{"use strict";e.exports=i},7756:e=>{"use strict";e.exports=a},1362:e=>{"use strict";e.exports=n}},t={};function l(s){var i=t[s];if(void 0!==i)return i.exports;var a=t[s]={exports:{}};return e[s](a,a.exports,l),a.exports}l.d=(e,t)=>{for(var s in t)l.o(t,s)&&!l.o(e,s)&&Object.defineProperty(e,s,{enumerable:!0,get:t[s]})},l.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),l.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},l.p="";var r={};return l.p=window.jimuConfig.baseUrl,(()=>{"use strict";l.r(r),l.d(r,{__set_webpack_public_path__:()=>u,default:()=>g});var e=l(8891),t=l(338),s=l(7756),i=l(726),a=l(1362);const o=({label:t,value:s,onChange:i})=>{var o,n,l,r;return(0,e.jsx)("div",{style:{display:"flex",alignItems:"center",gap:8}},(0,e.jsx)("span",{style:{minWidth:60}},t,":"),(0,e.jsx)("div",{style:{display:"flex",gap:8}},(0,e.jsx)("div",null,(0,e.jsx)("span",{style:{fontSize:11,opacity:.7}},"Light"),(0,e.jsx)(a.ColorPicker,{color:null!==(n=null!==(o=null==s?void 0:s.light)&&void 0!==o?o:s)&&void 0!==n?n:"",onChange:e=>i(Object.assign(Object.assign({},s),{light:e}))})),(0,e.jsx)("div",null,(0,e.jsx)("span",{style:{fontSize:11,opacity:.7}},"Dark"),(0,e.jsx)(a.ColorPicker,{color:null!==(r=null!==(l=null==s?void 0:s.dark)&&void 0!==l?l:s)&&void 0!==r?r:"",onChange:e=>i(Object.assign(Object.assign({},s),{dark:e}))}))))},n=({value:t={},onChange:s,mode:a})=>{var n;return(0,e.jsx)("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:12}},(0,e.jsx)(i.NumericInput,{value:"number"==typeof t.fontSize?t.fontSize:14,onChange:e=>s(Object.assign(Object.assign({},t),{fontSize:e})),min:8,max:48,style:{width:"100%"},placeholder:"Font size"}),(0,e.jsx)(i.NumericInput,{value:"number"==typeof t.fontWeight?t.fontWeight:500,onChange:e=>s(Object.assign(Object.assign({},t),{fontWeight:e})),min:100,max:900,step:100,style:{width:"100%"},placeholder:"Font weight"}),(0,e.jsx)(i.NumericInput,{value:"number"==typeof t.lineHeight?t.lineHeight:1.4,onChange:e=>s(Object.assign(Object.assign({},t),{lineHeight:e})),min:1,max:3,step:.1,style:{width:"100%"},placeholder:"Line height"}),(0,e.jsx)(i.NumericInput,{value:"number"==typeof t.letterSpacing?t.letterSpacing:0,onChange:e=>s(Object.assign(Object.assign({},t),{letterSpacing:e})),min:-2,max:10,step:.1,style:{width:"100%"},placeholder:"Letter spacing"}),(0,e.jsx)("div",{style:{gridColumn:"1/3"}},(0,e.jsx)(o,{label:"Text color",value:null!==(n=t.textColor)&&void 0!==n?n:{},onChange:e=>s(Object.assign(Object.assign({},t),{textColor:e}))})))};class g extends e.React.PureComponent{constructor(){super(...arguments),this.supportedTypes=(0,e.Immutable)([e.DataSourceTypes.FeatureLayer]),this.state={tab:"light",collapse:{region:!0,year:!1,dam:!1,hover:!1}},this.setTab=e=>this.setState({tab:e}),this.toggleCollapse=e=>this.setState((t=>Object.assign(Object.assign({},t),{collapse:Object.assign(Object.assign({},t.collapse),{[e]:!t.collapse[e]})}))),this.onDataSourceChange=e=>{this.props.onSettingChange({id:this.props.id,useDataSources:e})},this.onTitleChange=e=>{this.props.onSettingChange({id:this.props.id,config:this.props.config.set("title",e)})},this.getStyle=(e,t)=>{var s,i;return(null===(i=null===(s=this.props.config)||void 0===s?void 0:s.cardStyle)||void 0===i?void 0:i[t])||{}},this.setStyle=(e,t,s)=>{this.props.onSettingChange({id:this.props.id,config:this.props.config.setIn(["cardStyle",t],s)})}}render(){var a,l,r,g,u,c,p,d,h,j,x,b,y,S,m,v,w,f,C,O;const{tab:T,collapse:k}=this.state,I=(null===(a=this.props.config)||void 0===a?void 0:a.cardStyle)||{},R=I.default||{},B=I.hover||{},N=I.parentBackgroundColor||{};return(0,e.jsx)("div",{className:"dam-gallery-settings p-3",style:{maxWidth:700,margin:"0 auto",fontFamily:"system-ui"}},(0,e.jsx)(i.Tabs,{value:T,onChange:this.setTab,style:{marginBottom:16}},(0,e.jsx)(i.Tab,{id:"light",title:"Light Mode"},null),(0,e.jsx)(i.Tab,{id:"dark",title:"Dark Mode"},null)),(0,e.jsx)(s.SettingSection,{title:"General Settings"},(0,e.jsx)(s.SettingRow,{label:"Widget Title:",flow:"wrap"},(0,e.jsx)(i.TextInput,{value:(null===(l=this.props.config)||void 0===l?void 0:l.title)||"",onChange:e=>this.onTitleChange(e.target.value),placeholder:"Enter widget title"})),(0,e.jsx)(s.SettingRow,{label:"Select data source:",flow:"wrap"},(0,e.jsx)(t.DataSourceSelector,{mustUseDataSource:!0,types:this.supportedTypes,useDataSources:this.props.useDataSources,onChange:this.onDataSourceChange,widgetId:this.props.id}))),(0,e.jsx)(s.SettingSection,{title:"Link Configuration"},(0,e.jsx)(s.SettingRow,{label:"Link:",flow:"wrap"},(0,e.jsx)(s.LinkSelector,{linkParam:null===(r=this.props.config)||void 0===r?void 0:r.linkConfig,onSettingConfirm:e=>{this.props.onSettingChange({id:this.props.id,config:this.props.config.set("linkConfig",e)})},buttonLabel:"Select link"}))),(0,e.jsx)(s.SettingSection,{title:"Parent Background"},(0,e.jsx)(s.SettingRow,{flow:"wrap"},(0,e.jsx)(o,{label:"Background",value:N,onChange:e=>this.props.onSettingChange({id:this.props.id,config:this.props.config.setIn(["cardStyle","parentBackgroundColor"],e)})}))),(0,e.jsx)(s.SettingSection,{title:"Card Styles"},(0,e.jsx)(s.SettingRow,{label:"Border radius",flow:"wrap"},(0,e.jsx)(i.NumericInput,{value:null!==(g=R.borderRadius)&&void 0!==g?g:12,onChange:e=>this.setStyle(T,"default",Object.assign(Object.assign({},R),{borderRadius:e})),min:0,max:40,style:{width:"100%"}})),(0,e.jsx)(s.SettingRow,{label:"Border width",flow:"wrap"},(0,e.jsx)(i.NumericInput,{value:null!==(u=R.borderWidth)&&void 0!==u?u:1,onChange:e=>this.setStyle(T,"default",Object.assign(Object.assign({},R),{borderWidth:e})),min:0,max:10,style:{width:"100%"}})),(0,e.jsx)(s.SettingRow,{flow:"wrap"},(0,e.jsx)(o,{label:"Border color",value:null!==(c=R.borderColor)&&void 0!==c?c:{},onChange:e=>this.setStyle(T,"default",Object.assign(Object.assign({},R),{borderColor:e}))})),(0,e.jsx)(s.SettingRow,{flow:"wrap"},(0,e.jsx)(o,{label:"Background color",value:null!==(p=R.backgroundColor)&&void 0!==p?p:{},onChange:e=>this.setStyle(T,"default",Object.assign(Object.assign({},R),{backgroundColor:e}))})),(0,e.jsx)(s.SettingRow,{flow:"wrap"},(0,e.jsx)(o,{label:"Text color",value:null!==(d=R.textColor)&&void 0!==d?d:{},onChange:e=>this.setStyle(T,"default",Object.assign(Object.assign({},R),{textColor:e}))})),(0,e.jsx)(s.SettingRow,{label:"Box shadow",flow:"wrap"},(0,e.jsx)(i.TextInput,{value:null!==(h=R.boxShadow)&&void 0!==h?h:"",onChange:e=>this.setStyle(T,"default",Object.assign(Object.assign({},R),{boxShadow:e.target.value}))})),(0,e.jsx)(s.SettingRow,{label:"Card height",flow:"wrap"},(0,e.jsx)(i.NumericInput,{value:null!==(j=R.cardHeight)&&void 0!==j?j:280,onChange:e=>this.setStyle(T,"default",Object.assign(Object.assign({},R),{cardHeight:e})),min:100,max:1e3,style:{width:"100%"}})),(0,e.jsx)(s.SettingRow,{label:"Card width",flow:"wrap"},(0,e.jsx)(i.NumericInput,{value:null!==(x=R.cardWidth)&&void 0!==x?x:240,onChange:e=>this.setStyle(T,"default",Object.assign(Object.assign({},R),{cardWidth:e})),min:100,max:1e3,style:{width:"100%"}})),(0,e.jsx)(s.SettingRow,{label:"Padding",flow:"wrap"},(0,e.jsx)(i.NumericInput,{value:null!==(b=R.padding)&&void 0!==b?b:12,onChange:e=>this.setStyle(T,"default",Object.assign(Object.assign({},R),{padding:e})),min:0,max:100,style:{width:"100%"}})),(0,e.jsx)(s.SettingRow,{label:"Grid gap",flow:"wrap"},(0,e.jsx)(i.NumericInput,{value:null!==(y=R.gap)&&void 0!==y?y:20,onChange:e=>this.setStyle(T,"default",Object.assign(Object.assign({},R),{gap:e})),min:0,max:100,style:{width:"100%"}})),(0,e.jsx)(s.SettingRow,{label:"Image height",flow:"wrap"},(0,e.jsx)(i.NumericInput,{value:null!==(S=R.imageHeight)&&void 0!==S?S:180,onChange:e=>this.setStyle(T,"default",Object.assign(Object.assign({},R),{imageHeight:e})),min:50,max:500,style:{width:"100%"}})),(0,e.jsx)(s.SettingRow,{label:"Image border radius",flow:"wrap"},(0,e.jsx)(i.NumericInput,{value:null!==(m=R.imageRadius)&&void 0!==m?m:8,onChange:e=>this.setStyle(T,"default",Object.assign(Object.assign({},R),{imageRadius:e})),min:0,max:50,style:{width:"100%"}})),(0,e.jsx)(s.SettingRow,{label:"Image bottom gap",flow:"wrap"},(0,e.jsx)(i.NumericInput,{value:null!==(v=R.imageGap)&&void 0!==v?v:12,onChange:e=>this.setStyle(T,"default",Object.assign(Object.assign({},R),{imageGap:e})),min:0,max:50,style:{width:"100%"}}))),(0,e.jsx)(s.SettingSection,{title:(0,e.jsx)(i.Button,{type:"tertiary",onClick:()=>this.toggleCollapse("region"),style:{width:"100%",textAlign:"left"}},"Region Text Style")},(0,e.jsx)(i.Collapse,{isOpen:k.region},(0,e.jsx)(n,{value:R.regionTypography,onChange:e=>this.setStyle(T,"default",Object.assign(Object.assign({},R),{regionTypography:e})),mode:T}))),(0,e.jsx)(s.SettingSection,{title:(0,e.jsx)(i.Button,{type:"tertiary",onClick:()=>this.toggleCollapse("year"),style:{width:"100%",textAlign:"left"}},"Year Text Style")},(0,e.jsx)(i.Collapse,{isOpen:k.year},(0,e.jsx)(n,{value:R.yearTypography,onChange:e=>this.setStyle(T,"default",Object.assign(Object.assign({},R),{yearTypography:e})),mode:T}))),(0,e.jsx)(s.SettingSection,{title:(0,e.jsx)(i.Button,{type:"tertiary",onClick:()=>this.toggleCollapse("dam"),style:{width:"100%",textAlign:"left"}},"Dam Name Text Style")},(0,e.jsx)(i.Collapse,{isOpen:k.dam},(0,e.jsx)(n,{value:R.damTypography,onChange:e=>this.setStyle(T,"default",Object.assign(Object.assign({},R),{damTypography:e})),mode:T}))),(0,e.jsx)(s.SettingSection,{title:(0,e.jsx)(i.Button,{type:"tertiary",onClick:()=>this.toggleCollapse("hover"),style:{width:"100%",textAlign:"left"}},"Hover State Styles")},(0,e.jsx)(i.Collapse,{isOpen:k.hover},(0,e.jsx)(n,{value:B.regionTypography,onChange:e=>this.setStyle(T,"hover",Object.assign(Object.assign({},B),{regionTypography:e})),mode:T}),(0,e.jsx)(n,{value:B.yearTypography,onChange:e=>this.setStyle(T,"hover",Object.assign(Object.assign({},B),{yearTypography:e})),mode:T}),(0,e.jsx)(n,{value:B.damTypography,onChange:e=>this.setStyle(T,"hover",Object.assign(Object.assign({},B),{damTypography:e})),mode:T}),(0,e.jsx)(s.SettingRow,{flow:"wrap"},(0,e.jsx)(o,{label:"Background color",value:null!==(w=B.backgroundColor)&&void 0!==w?w:{},onChange:e=>this.setStyle(T,"hover",Object.assign(Object.assign({},B),{backgroundColor:e}))})),(0,e.jsx)(s.SettingRow,{flow:"wrap"},(0,e.jsx)(o,{label:"Text color",value:null!==(f=B.textColor)&&void 0!==f?f:{},onChange:e=>this.setStyle(T,"hover",Object.assign(Object.assign({},B),{textColor:e}))})),(0,e.jsx)(s.SettingRow,{label:"Box shadow",flow:"wrap"},(0,e.jsx)(i.TextInput,{value:null!==(C=B.boxShadow)&&void 0!==C?C:"",onChange:e=>this.setStyle(T,"hover",Object.assign(Object.assign({},B),{boxShadow:e.target.value}))})),(0,e.jsx)(s.SettingRow,{label:"Transform",flow:"wrap"},(0,e.jsx)(i.TextInput,{value:null!==(O=B.transform)&&void 0!==O?O:"",onChange:e=>this.setStyle(T,"hover",Object.assign(Object.assign({},B),{transform:e.target.value}))})))))}}function u(e){l.p=e}})(),r})())}}}));