System.register(["jimu-core","jimu-core/react"],(function(e,t){var r={},o={};return{setters:[function(e){r.DataSourceComponent=e.DataSourceComponent,r.UrlManager=e.UrlManager,r.jsx=e.jsx},function(e){o.useEffect=e.useEffect,o.useState=e.useState}],execute:function(){e((()=>{var e={97759:(e,t,r)=>{"use strict";r.d(t,{A:()=>s});var o=r(31601),a=r.n(o),n=r(76314),i=r.n(n)()(a());i.push([e.id,'.dam-gallery{font-family:system-ui,-apple-system,"Segoe UI",sans-serif}.dam-grid{padding:10px}.dam-card{will-change:transform,box-shadow;backface-visibility:hidden;perspective:1000px}.dam-card:focus{outline:2px solid #3b82f6;outline-offset:2px}.dam-card:focus:not(:focus-visible){outline:none}.dam-card img{will-change:transform;backface-visibility:hidden}.dam-card{animation:fadeInUp .6s cubic-bezier(0.4, 0, 0.2, 1) forwards;opacity:0;transform:translateY(20px)}@keyframes fadeInUp{to{opacity:1;transform:translateY(0)}}.dam-card:nth-child(1){animation-delay:.1s}.dam-card:nth-child(2){animation-delay:.2s}.dam-card:nth-child(3){animation-delay:.3s}.dam-card:nth-child(4){animation-delay:.4s}.dam-card:nth-child(5){animation-delay:.5s}.dam-card:nth-child(6){animation-delay:.6s}.dam-card:nth-child(n+7){animation-delay:.7s}@media(max-width: 768px){.dam-grid{grid-template-columns:repeat(auto-fill, minmax(200px, 1fr)) !important;gap:15px !important;padding:5px !important}.dam-card{min-height:240px !important}}@media(max-width: 480px){.dam-grid{grid-template-columns:1fr !important;gap:10px !important}}@media(prefers-reduced-motion: reduce){.dam-card,.dam-card img{animation:none !important;transition:none !important}}@media(prefers-contrast: high){.dam-card{border-width:2px !important;border-color:currentColor !important}}',""]);const s=i},76314:e=>{"use strict";e.exports=function(e){var t=[];return t.toString=function(){return this.map((function(t){var r="",o=void 0!==t[5];return t[4]&&(r+="@supports (".concat(t[4],") {")),t[2]&&(r+="@media ".concat(t[2]," {")),o&&(r+="@layer".concat(t[5].length>0?" ".concat(t[5]):""," {")),r+=e(t),o&&(r+="}"),t[2]&&(r+="}"),t[4]&&(r+="}"),r})).join("")},t.i=function(e,r,o,a,n){"string"==typeof e&&(e=[[null,e,void 0]]);var i={};if(o)for(var s=0;s<this.length;s++){var l=this[s][0];null!=l&&(i[l]=!0)}for(var c=0;c<e.length;c++){var u=[].concat(e[c]);o&&i[u[0]]||(void 0!==n&&(void 0===u[5]||(u[1]="@layer".concat(u[5].length>0?" ".concat(u[5]):""," {").concat(u[1],"}")),u[5]=n),r&&(u[2]?(u[1]="@media ".concat(u[2]," {").concat(u[1],"}"),u[2]=r):u[2]=r),a&&(u[4]?(u[1]="@supports (".concat(u[4],") {").concat(u[1],"}"),u[4]=a):u[4]="".concat(a)),t.push(u))}},t}},31601:e=>{"use strict";e.exports=function(e){return e[1]}},85072:e=>{"use strict";var t=[];function r(e){for(var r=-1,o=0;o<t.length;o++)if(t[o].identifier===e){r=o;break}return r}function o(e,o){for(var n={},i=[],s=0;s<e.length;s++){var l=e[s],c=o.base?l[0]+o.base:l[0],u=n[c]||0,d="".concat(c," ").concat(u);n[c]=u+1;var p=r(d),f={css:l[1],media:l[2],sourceMap:l[3],supports:l[4],layer:l[5]};if(-1!==p)t[p].references++,t[p].updater(f);else{var b=a(f,o);o.byIndex=s,t.splice(s,0,{identifier:d,updater:b,references:1})}i.push(d)}return i}function a(e,t){var r=t.domAPI(t);r.update(e);return function(t){if(t){if(t.css===e.css&&t.media===e.media&&t.sourceMap===e.sourceMap&&t.supports===e.supports&&t.layer===e.layer)return;r.update(e=t)}else r.remove()}}e.exports=function(e,a){var n=o(e=e||[],a=a||{});return function(e){e=e||[];for(var i=0;i<n.length;i++){var s=r(n[i]);t[s].references--}for(var l=o(e,a),c=0;c<n.length;c++){var u=r(n[c]);0===t[u].references&&(t[u].updater(),t.splice(u,1))}n=l}}},77659:e=>{"use strict";var t={};e.exports=function(e,r){var o=function(e){if(void 0===t[e]){var r=document.querySelector(e);if(window.HTMLIFrameElement&&r instanceof window.HTMLIFrameElement)try{r=r.contentDocument.head}catch(e){r=null}t[e]=r}return t[e]}(e);if(!o)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");o.appendChild(r)}},10540:e=>{"use strict";e.exports=function(e){var t=document.createElement("style");return e.setAttributes(t,e.attributes),e.insert(t,e.options),t}},55056:(e,t,r)=>{"use strict";e.exports=function(e){var t=r.nc;t&&e.setAttribute("nonce",t)}},97825:e=>{"use strict";e.exports=function(e){if("undefined"==typeof document)return{update:function(){},remove:function(){}};var t=e.insertStyleElement(e);return{update:function(r){!function(e,t,r){var o="";r.supports&&(o+="@supports (".concat(r.supports,") {")),r.media&&(o+="@media ".concat(r.media," {"));var a=void 0!==r.layer;a&&(o+="@layer".concat(r.layer.length>0?" ".concat(r.layer):""," {")),o+=r.css,a&&(o+="}"),r.media&&(o+="}"),r.supports&&(o+="}");var n=r.sourceMap;n&&"undefined"!=typeof btoa&&(o+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(n))))," */")),t.styleTagTransform(o,e,t.options)}(t,e,r)},remove:function(){!function(e){if(null===e.parentNode)return!1;e.parentNode.removeChild(e)}(t)}}}},41113:e=>{"use strict";e.exports=function(e,t){if(t.styleSheet)t.styleSheet.cssText=e;else{for(;t.firstChild;)t.removeChild(t.firstChild);t.appendChild(document.createTextNode(e))}}},88090:(e,t,r)=>{var o={"./Janubiy_surxon.webp":68908,"./ahchabsoy.webp":37428,"./arnasoy.webp":10545,"./asakaadir.webp":52559,"./chimkorgon.webp":29627,"./chortoq.webp":44056,"./chorvoq.webp":99526,"./degrez.webp":5259,"./dehqonobod.webp":98693,"./eskiyer.webp":46714,"./girvonsoy.webp":6132,"./hisorak.webp":50235,"./hojamushkent.webp":52693,"./jiydalisoy.webp":14803,"./jizzax.webp":34438,"./kamongaron.webp":62967,"./karkidon.webp":80773,"./kattakorgon.webp":97909,"./koksaroy.webp":42453,"./kokseraksoy.webp":92694,"./langar.webp":39993,"./markay fargona.webp":13079,"./mominobod.webp":20876,"./nugayli.webp":82597,"./ohangaron.webp":26577,"./omondara.webp":82137,"./oqbilol.webp":73874,"./oqbuloq.webp":53277,"./oqdaryo.webp":73529,"./oqtepa.webp":75390,"./pachkamar.webp":58982,"./qalqama.webp":10828,"./qamashi.webp":41304,"./qorabog.webp":75941,"./qoramurt.webp":43555,"./qorasuv_namangan.webp":82391,"./qoratepa.webp":77891,"./qorgontepa.webp":25704,"./qorovultepa.webp":15704,"./rezaksoy.webp":61020,"./sentabsoy.webp":13156,"./shorabsoy.webp":36956,"./shorkol.webp":38502,"./shorsuv.webp":86690,"./sobirsoy.webp":7666,"./talimarjan.webp":90959,"./tashmore.webp":75107,"./todakol.webp":99270,"./tosinsoy.webp":40300,"./tozakol.webp":88e3,"./tupalang.webp":95218,"./uchqizil.webp":35460,"./varziq.webp":68541,"./yangikorgon.webp":53246,"./yertikan.webp":73541,"./zomin.webp":68103};function a(e){var t=n(e);return r(t)}function n(e){if(!r.o(o,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return o[e]}a.keys=function(){return Object.keys(o)},a.resolve=n,e.exports=a,a.id=88090},68908:(e,t,r)=>{"use strict";e.exports=r.p+"51d4ba2f697855209fbd.webp"},37428:(e,t,r)=>{"use strict";e.exports=r.p+"e169a39140e24e810125.webp"},10545:(e,t,r)=>{"use strict";e.exports=r.p+"13c1d1ea9626cf69104c.webp"},52559:(e,t,r)=>{"use strict";e.exports=r.p+"e7dc7cb0bd6312b62ed6.webp"},29627:(e,t,r)=>{"use strict";e.exports=r.p+"5b5bb25896ccce63d253.webp"},44056:(e,t,r)=>{"use strict";e.exports=r.p+"30e94a902a256eabc6a6.webp"},99526:(e,t,r)=>{"use strict";e.exports=r.p+"b15a71528f215876ecec.webp"},5259:(e,t,r)=>{"use strict";e.exports=r.p+"af575a6de2d54b862f80.webp"},98693:(e,t,r)=>{"use strict";e.exports=r.p+"0d20e3bd48339dc9f53c.webp"},46714:(e,t,r)=>{"use strict";e.exports=r.p+"f34563cc9b39b0f1a620.webp"},6132:(e,t,r)=>{"use strict";e.exports=r.p+"1cb9a53fb8314920801f.webp"},50235:(e,t,r)=>{"use strict";e.exports=r.p+"fa3945e50b767b95425c.webp"},52693:(e,t,r)=>{"use strict";e.exports=r.p+"61537385e42c29fd9c17.webp"},14803:(e,t,r)=>{"use strict";e.exports=r.p+"73432146cc112df00d41.webp"},34438:(e,t,r)=>{"use strict";e.exports=r.p+"f92c426ef1a46fc5060b.webp"},62967:(e,t,r)=>{"use strict";e.exports=r.p+"467be9319d42e0e9c338.webp"},80773:(e,t,r)=>{"use strict";e.exports=r.p+"308c71cc24b560c56b6d.webp"},97909:(e,t,r)=>{"use strict";e.exports=r.p+"21d61ce582c1053976cb.webp"},42453:(e,t,r)=>{"use strict";e.exports=r.p+"ec7cebc74637f9f29d51.webp"},92694:(e,t,r)=>{"use strict";e.exports=r.p+"93c7cdda0304a4a3c05f.webp"},39993:(e,t,r)=>{"use strict";e.exports=r.p+"7a3ec2d6305a51060356.webp"},13079:(e,t,r)=>{"use strict";e.exports=r.p+"aa322090fabd31a7f461.webp"},20876:(e,t,r)=>{"use strict";e.exports=r.p+"c167cde90f8c47d45dd9.webp"},82597:(e,t,r)=>{"use strict";e.exports=r.p+"e5ae3316db32074a8ea3.webp"},26577:(e,t,r)=>{"use strict";e.exports=r.p+"a065e0f057b02e92d9bf.webp"},82137:(e,t,r)=>{"use strict";e.exports=r.p+"5ed58f161055beb00993.webp"},73874:(e,t,r)=>{"use strict";e.exports=r.p+"ec8427820d8eb2f915a7.webp"},53277:(e,t,r)=>{"use strict";e.exports=r.p+"746a005c8e52aefee8fe.webp"},73529:(e,t,r)=>{"use strict";e.exports=r.p+"9fedbf3f8fa9029a3f7e.webp"},75390:(e,t,r)=>{"use strict";e.exports=r.p+"0b516158b58a8b3504b5.webp"},58982:(e,t,r)=>{"use strict";e.exports=r.p+"89071769dc201f3dab14.webp"},10828:(e,t,r)=>{"use strict";e.exports=r.p+"e458d6af806593c18176.webp"},41304:(e,t,r)=>{"use strict";e.exports=r.p+"bca39affe23725cb7190.webp"},75941:(e,t,r)=>{"use strict";e.exports=r.p+"e002ef1ece71305cbed6.webp"},43555:(e,t,r)=>{"use strict";e.exports=r.p+"73d26e9fceb2f88ed0ad.webp"},82391:(e,t,r)=>{"use strict";e.exports=r.p+"04734e42a4bac7e2b60a.webp"},77891:(e,t,r)=>{"use strict";e.exports=r.p+"7894572af93abb5ca116.webp"},25704:(e,t,r)=>{"use strict";e.exports=r.p+"e0715043b5a0997897fe.webp"},15704:(e,t,r)=>{"use strict";e.exports=r.p+"431f8bf0be1607b74946.webp"},61020:(e,t,r)=>{"use strict";e.exports=r.p+"4f9466ba1faa312dbcd1.webp"},13156:(e,t,r)=>{"use strict";e.exports=r.p+"d944f7684c904c66e76b.webp"},36956:(e,t,r)=>{"use strict";e.exports=r.p+"2deb7f9f0383a2c75694.webp"},38502:(e,t,r)=>{"use strict";e.exports=r.p+"f48742230da90b1aefe4.webp"},86690:(e,t,r)=>{"use strict";e.exports=r.p+"ad7f60d04c4a95bddda7.webp"},7666:(e,t,r)=>{"use strict";e.exports=r.p+"78053df6dcd839f64dc2.webp"},90959:(e,t,r)=>{"use strict";e.exports=r.p+"5508907ed248e8aa5ae2.webp"},75107:(e,t,r)=>{"use strict";e.exports=r.p+"2ab5753ecbe45c53dc3c.webp"},99270:(e,t,r)=>{"use strict";e.exports=r.p+"160a8d3b2ee49cda5a32.webp"},40300:(e,t,r)=>{"use strict";e.exports=r.p+"d9d0d89ab3eb69b29920.webp"},88e3:(e,t,r)=>{"use strict";e.exports=r.p+"5a6de93eba64bf6c98ab.webp"},95218:(e,t,r)=>{"use strict";e.exports=r.p+"64e32a4903b0e4d717ee.webp"},35460:(e,t,r)=>{"use strict";e.exports=r.p+"171cf396beafe049402e.webp"},68541:(e,t,r)=>{"use strict";e.exports=r.p+"722d23f2e86109e05435.webp"},53246:(e,t,r)=>{"use strict";e.exports=r.p+"173315bf912a28d81316.webp"},73541:(e,t,r)=>{"use strict";e.exports=r.p+"4086b9821ab333005fea.webp"},68103:(e,t,r)=>{"use strict";e.exports=r.p+"3bd9f8753c25a1e87523.webp"},79244:e=>{"use strict";e.exports=r},68972:e=>{"use strict";e.exports=o}},t={};function a(r){var o=t[r];if(void 0!==o)return o.exports;var n=t[r]={id:r,exports:{}};return e[r](n,n.exports,a),n.exports}a.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return a.d(t,{a:t}),t},a.d=(e,t)=>{for(var r in t)a.o(t,r)&&!a.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},a.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),a.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},a.p="",a.nc=void 0;var n={};return a.p=window.jimuConfig.baseUrl,(()=>{"use strict";a.r(n),a.d(n,{__set_webpack_public_path__:()=>H,default:()=>D});var e=a(79244),t=a(68972),r=a(85072),o=a.n(r),i=a(97825),s=a.n(i),l=a(77659),c=a.n(l),u=a(55056),d=a.n(u),p=a(10540),f=a.n(p),b=a(41113),v=a.n(b),m=a(97759),g={};g.styleTagTransform=v(),g.setAttributes=d(),g.insert=c().bind(null,"head"),g.domAPI=s(),g.insertStyleElement=f();o()(m.A,g);m.A&&m.A.locals&&m.A.locals;const y=a.p+"06564d0c4065167b838b.png";var x=function(e,t,r,o){return new(r||(r=Promise))((function(a,n){function i(e){try{l(o.next(e))}catch(e){n(e)}}function s(e){try{l(o.throw(e))}catch(e){n(e)}}function l(e){var t;e.done?a(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(i,s)}l((o=o.apply(e,t||[])).next())}))};let h={};try{(w=a(88090)).keys().forEach((e=>{const t=e.replace("./","").replace(".webp","").toLowerCase();h[t]=w(e)}))}catch(e){}var w;function S(e,t,r){var o,a,n,i,s,l,c,u,d,p,f,b,v,m;const g=null!==(o=null==e?void 0:e.default)&&void 0!==o?o:{},y=null!==(a=null==e?void 0:e.hover)&&void 0!==a?a:{},x=t?Object.assign(Object.assign({},g),y):g;return{borderRadius:(null!==(n=x.borderRadius)&&void 0!==n?n:12)+"px",borderWidth:(null!==(i=x.borderWidth)&&void 0!==i?i:1)+"px",borderColor:null!==(s=O(x.borderColor,r))&&void 0!==s?s:"#e2e8f0",background:null!==(l=O(x.backgroundColor,r))&&void 0!==l?l:"#ffffff",color:null!==(c=O(x.textColor,r))&&void 0!==c?c:"#1e293b",padding:(null!==(u=x.padding)&&void 0!==u?u:12)+"px",boxShadow:null!==(d=x.boxShadow)&&void 0!==d?d:"0 2px 8px rgba(0,0,0,0.1)",minHeight:(null!==(p=x.cardHeight)&&void 0!==p?p:280)+"px",minWidth:(null!==(f=x.cardWidth)&&void 0!==f?f:240)+"px",borderStyle:"solid",fontSize:(null!==(b=x.fontSize)&&void 0!==b?b:14)+"px",fontWeight:null!==(v=x.fontWeight)&&void 0!==v?v:500,outline:"none",transition:"all 0.3s cubic-bezier(0.4, 0, 0.2, 1)",cursor:"pointer",display:"flex",flexDirection:"column",alignItems:"stretch",overflow:"hidden",position:"relative",transform:t?null!==(m=y.transform)&&void 0!==m?m:"translateY(-2px)":"translateY(0)"}}function k(e,t){var r,o,a,n,i;const s=null!==(o=null===(r=null==e?void 0:e.default)||void 0===r?void 0:r.gap)&&void 0!==o?o:20;return{display:"grid",gridTemplateColumns:`repeat(auto-fill, minmax(${null!==(n=null===(a=null==e?void 0:e.default)||void 0===a?void 0:a.cardWidth)&&void 0!==n?n:240}px, 1fr))`,gap:s+"px",alignItems:"stretch",justifyItems:"center",width:"100%",boxSizing:"border-box",padding:"10px",background:null!==(i=O(null==e?void 0:e.parentBackgroundColor,t))&&void 0!==i?i:"#fafbfc",transition:"background 0.1s"}}const z="selected-year",j="selected_dam",C="selected-region";function I(e){return localStorage.getItem(e)}function _(){try{const e=localStorage.getItem("exb_auth");if(e)try{const t=JSON.parse(e);if(t.email)return t.email;if(t.user&&t.user.email)return t.user.email;if(t.username&&t.username.includes("@"))return t.username}catch(e){}const t=Object.keys(localStorage).filter((e=>e.includes("portalApp")||e.includes("portal")||e.includes("token")||e.includes("credential")));for(const e of t)try{const t=localStorage.getItem(e),r=JSON.parse(t||"{}");if(r.email)return r.email}catch(e){continue}const r=Object.keys(localStorage);for(const e of r)try{const t=localStorage.getItem(e);if(t&&(t.includes('"email"')||t.includes("farhodmf")||t.includes("@"))){const e=JSON.parse(t);if(e.email)return e.email}}catch(t){const r=localStorage.getItem(e);if(r&&r.includes("@")&&r.length<100)return r;continue}return null}catch(e){return console.error("\u{1f510} Gallery: Error extracting user email:",e),null}}function E(e,t,r){return x(this,void 0,void 0,(function*(){try{const o=function(){try{const e=localStorage.getItem("exb_auth");return e&&JSON.parse(e).token||null}catch(e){return null}}(),a=`${e}/${t}/${r}/attachments?f=json${o?`&token=${o}`:""}`,n=yield fetch(a),i=yield n.json();if(i.attachmentInfos&&i.attachmentInfos.length>0){const a=i.attachmentInfos.find((e=>(e.name||"").toLowerCase().endsWith(".png")));return a?`${e}/${t}/${r}/attachments/${a.id}${o?`?token=${o}`:""}`:y}"error"in i&&console.error("[ATTACH DEBUG] ArcGIS error:",i.error)}catch(e){console.error("[ATTACH DEBUG] Exception for objectId",r,e)}return y}))}const T={"\u049a\u043e\u0440\u0430\u049b\u0430\u043b\u043f\u043e\u0493\u0438\u0441\u0442\u043e\u043d \u0420\u0435\u0441\u043f\u0443\u0431\u043b\u0438\u043a\u0430\u0441\u0438":{ru:"\u0420\u0435\u0441\u043f\u0443\u0431\u043b\u0438\u043a\u0430 \u041a\u0430\u0440\u0430\u043a\u0430\u043b\u043f\u0430\u043a\u0441\u0442\u0430\u043d",uz:"Qoraqalpogiston Respublikasi",uzcryl:"\u049a\u043e\u0440\u0430\u049b\u0430\u043b\u043f\u043e\u0493\u0438\u0441\u0442\u043e\u043d \u0420\u0435\u0441\u043f\u0443\u0431\u043b\u0438\u043a\u0430\u0441\u0438"},"\u0410\u043d\u0434\u0438\u0436\u043e\u043d \u0432\u0438\u043b\u043e\u044f\u0442\u0438":{ru:"\u0410\u043d\u0434\u0438\u0436\u0430\u043d\u0441\u043a\u0430\u044f \u043e\u0431\u043b\u0430\u0441\u0442\u044c",uz:"Andijon viloyati",uzcryl:"\u0410\u043d\u0434\u0438\u0436\u043e\u043d \u0432\u0438\u043b\u043e\u044f\u0442\u0438"},"\u0411\u0443\u0445\u043e\u0440\u043e \u0432\u0438\u043b\u043e\u044f\u0442\u0438":{ru:"\u0411\u0443\u0445\u0430\u0440\u0441\u043a\u0430\u044f \u043e\u0431\u043b\u0430\u0441\u0442\u044c",uz:"Buxoro viloyati",uzcryl:"\u0411\u0443\u0445\u043e\u0440\u043e \u0432\u0438\u043b\u043e\u044f\u0442\u0438"},"\u0424\u0430\u0440\u0493\u043e\u043d\u0430 \u0432\u0438\u043b\u043e\u044f\u0442\u0438":{ru:"\u0424\u0435\u0440\u0433\u0430\u043d\u0441\u043a\u0430\u044f \u043e\u0431\u043b\u0430\u0441\u0442\u044c",uz:"Fargona viloyati",uzcryl:"\u0424\u0430\u0440\u0493\u043e\u043d\u0430 \u0432\u0438\u043b\u043e\u044f\u0442\u0438"},"\u0416\u0438\u0437\u0437\u0430\u0445 \u0432\u0438\u043b\u043e\u044f\u0442\u0438":{ru:"\u0414\u0436\u0438\u0437\u0430\u043a\u0441\u043a\u0430\u044f \u043e\u0431\u043b\u0430\u0441\u0442\u044c",uz:"Jizzax viloyati",uzcryl:"\u0416\u0438\u0437\u0437\u0430\u0445 \u0432\u0438\u043b\u043e\u044f\u0442\u0438"},"\u0425\u043e\u0440\u0430\u0437\u043c \u0432\u0438\u043b\u043e\u044f\u0442\u0438":{ru:"\u0425\u043e\u0440\u0435\u0437\u043c\u0441\u043a\u0430\u044f \u043e\u0431\u043b\u0430\u0441\u0442\u044c",uz:"Xorazm viloyati",uzcryl:"\u0425\u043e\u0440\u0430\u0437\u043c \u0432\u0438\u043b\u043e\u044f\u0442\u0438"},"\u041d\u0430\u043c\u0430\u043d\u0433\u0430\u043d \u0432\u0438\u043b\u043e\u044f\u0442\u0438":{ru:"\u041d\u0430\u043c\u0430\u043d\u0433\u0430\u043d\u0441\u043a\u0430\u044f \u043e\u0431\u043b\u0430\u0441\u0442\u044c",uz:"Namangan viloyati",uzcryl:"\u041d\u0430\u043c\u0430\u043d\u0433\u0430\u043d \u0432\u0438\u043b\u043e\u044f\u0442\u0438"},"\u041d\u0430\u0432\u043e\u0438\u0439 \u0432\u0438\u043b\u043e\u044f\u0442\u0438":{ru:"\u041d\u0430\u0432\u043e\u0438\u0439\u0441\u043a\u0430\u044f \u043e\u0431\u043b\u0430\u0441\u0442\u044c",uz:"Navoiy viloyati",uzcryl:"\u041d\u0430\u0432\u043e\u0438\u0439 \u0432\u0438\u043b\u043e\u044f\u0442\u0438"},"\u049a\u0430\u0448\u049b\u0430\u0434\u0430\u0440\u0451 \u0432\u0438\u043b\u043e\u044f\u0442\u0438":{ru:"\u041a\u0430\u0448\u043a\u0430\u0434\u0430\u0440\u044c\u0438\u043d\u0441\u043a\u0430\u044f \u043e\u0431\u043b\u0430\u0441\u0442\u044c",uz:"Qashqadaryo viloyati",uzcryl:"\u049a\u0430\u0448\u049b\u0430\u0434\u0430\u0440\u0451 \u0432\u0438\u043b\u043e\u044f\u0442\u0438"},"\u0421\u0430\u043c\u0430\u0440\u049b\u0430\u043d\u0434 \u0432\u0438\u043b\u043e\u044f\u0442\u0438":{ru:"\u0421\u0430\u043c\u0430\u0440\u043a\u0430\u043d\u0434\u0441\u043a\u0430\u044f \u043e\u0431\u043b\u0430\u0441\u0442\u044c",uz:"Samarqand viloyati",uzcryl:"\u0421\u0430\u043c\u0430\u0440\u049b\u0430\u043d\u0434 \u0432\u0438\u043b\u043e\u044f\u0442\u0438"},"\u0421\u0438\u0440\u0434\u0430\u0440\u0451 \u0432\u0438\u043b\u043e\u044f\u0442\u0438":{ru:"\u0421\u044b\u0440\u0434\u0430\u0440\u044c\u0438\u043d\u0441\u043a\u0430\u044f \u043e\u0431\u043b\u0430\u0441\u0442\u044c",uz:"Sirdaryo viloyati",uzcryl:"\u0421\u0438\u0440\u0434\u0430\u0440\u0451 \u0432\u0438\u043b\u043e\u044f\u0442\u0438"},"\u0421\u0443\u0440\u0445\u043e\u043d\u0434\u0430\u0440\u0451 \u0432\u0438\u043b\u043e\u044f\u0442\u0438":{ru:"\u0421\u0443\u0440\u0445\u0430\u043d\u0434\u0430\u0440\u044c\u0438\u043d\u0441\u043a\u0430\u044f \u043e\u0431\u043b\u0430\u0441\u0442\u044c",uz:"Surxondaryo viloyati",uzcryl:"\u0421\u0443\u0440\u0445\u043e\u043d\u0434\u0430\u0440\u0451 \u0432\u0438\u043b\u043e\u044f\u0442\u0438"},"\u0422\u043e\u0448\u043a\u0435\u043d\u0442 \u0432\u0438\u043b\u043e\u044f\u0442\u0438":{ru:"\u0422\u0430\u0448\u043a\u0435\u043d\u0442\u0441\u043a\u0430\u044f \u043e\u0431\u043b\u0430\u0441\u0442\u044c",uz:"Toshkent viloyati",uzcryl:"\u0422\u043e\u0448\u043a\u0435\u043d\u0442 \u0432\u0438\u043b\u043e\u044f\u0442\u0438"},"\u0422\u043e\u0448\u043a\u0435\u043d\u0442 \u0448\u0430\u04b3\u0440\u0438":{ru:"\u0413\u043e\u0440\u043e\u0434 \u0422\u0430\u0448\u043a\u0435\u043d\u0442",uz:"Toshkent shahri",uzcryl:"\u0422\u043e\u0448\u043a\u0435\u043d\u0442 \u0448\u0430\u04b3\u0440\u0438"}};function A(){const e=localStorage.getItem("custom_locale");return"ru"===e||"uz"===e||"uzcryl"===e?e:"ru"}function q(){return"dark"===localStorage.getItem("customTheme")?"dark":"light"}function O(e,t){var r,o;return e&&"object"==typeof e&&(e.light||e.dark)?null!==(o=null!==(r=e[t])&&void 0!==r?r:e.light)&&void 0!==o?o:e.dark:e}function W(e,t,r,o){var a,n;const i=(null===(a=null==e?void 0:e.default)||void 0===a?void 0:a[`${t}Typography`])||{},s=r&&(null===(n=null==e?void 0:e.hover)||void 0===n?void 0:n[`${t}Typography`])||{};return Object.assign(Object.assign({},i),s)}const D=r=>{var o,a,n,i,s,l,c,u,d,p,f,b,v,m,g,w;const[D,H]=(0,t.useState)(),[L,N]=(0,t.useState)([]),[M,U]=(0,t.useState)([]),[$,P]=(0,t.useState)("All"),[B,R]=(0,t.useState)(null),[F,G]=(0,t.useState)(null),[J,Y]=(0,t.useState)(null),[V,Q]=(0,t.useState)(null),[K,X]=(0,t.useState)(!0),[Z,ee]=(0,t.useState)(A()),[te,re]=(0,t.useState)(q());(0,t.useEffect)((()=>{!function(){x(this,void 0,void 0,(function*(){X(!0);try{const e=yield function(){return x(this,arguments,void 0,(function*(e=3,t=1e3){let r=_();if(r)return r;for(let o=1;o<=e;o++)if(yield new Promise((e=>setTimeout(e,t))),r=_(),r)return r;return null}))}(3,1e3);Q(e)}catch(e){console.error("\u{1f510} Gallery: Authentication error:",e),Q(null)}finally{X(!1)}}))}()}),[]),(0,t.useEffect)((()=>{if(V||K)return;const e=setInterval((()=>{const t=_();t&&(Q(t),clearInterval(e))}),2e3),t=setTimeout((()=>{clearInterval(e)}),3e4);return()=>{clearInterval(e),clearTimeout(t)}}),[V,K]),(0,t.useEffect)((()=>{localStorage.removeItem(j),R(I(z)),P(I(C)||"All"),G(null)}),[]),(0,t.useEffect)((()=>{let e=A();const t=e=>{if("custom_locale"===e.key){const e=A();ee(e)}};window.addEventListener("storage",t);const r=setInterval((()=>{const t=A();t!==e&&(e=t,ee(t))}),300);return()=>{window.removeEventListener("storage",t),clearInterval(r)}}),[]),(0,t.useEffect)((()=>{let e=q();const t=e=>{if("customTheme"===e.key){const e=q();re(e)}};window.addEventListener("storage",t);const r=setInterval((()=>{const t=q();t!==e&&(e=t,re(t))}),300);return()=>{window.removeEventListener("storage",t),clearInterval(r)}}),[]);const oe=null===(o=r.useDataSources)||void 0===o?void 0:o[0],ae=(null===(a=r.config)||void 0===a?void 0:a.cardStyle)||{default:{borderRadius:12,borderWidth:1,borderColor:"#e2e8f0",backgroundColor:"#ffffff",textColor:"#1e293b",fontSize:14,fontWeight:500,cardHeight:280,cardWidth:240,padding:12,gap:20,imageHeight:180,imageRadius:8,imageGap:12,boxShadow:"0 2px 8px rgba(0,0,0,0.1)"},hover:{borderColor:"#3b82f6",backgroundColor:"#f8fafc",textColor:"#3b82f6",fontWeight:600,boxShadow:"0 8px 25px rgba(59,130,246,0.15)",transform:"translateY(-2px)"},parentBackgroundColor:{light:"#fafbfc",dark:"#18181b"}},ne=e=>{const t=`/experience/1/page/dam-details?${new URLSearchParams({draft:"true",name:e}).toString()}`;window.jimuHistory&&"function"==typeof window.jimuHistory.push?window.jimuHistory.push(t):window.location.href=t};(0,t.useEffect)((()=>{let e,t,r;function o(e){switch(e.key){case z:R(e.newValue);break;case C:P(e.newValue||"All");break;case j:e.newValue&&ne(e.newValue),G(e.newValue)}}return window.addEventListener("storage",o),e=setInterval((()=>{const e=I(z);e!==B&&R(e)}),100),t=setInterval((()=>{const e=I(C)||"All";e!==$&&P(e)}),100),r=setInterval((()=>{const e=I(j);e!==F&&(e&&ne(e),G(e))}),100),()=>{window.removeEventListener("storage",o),clearInterval(e),clearInterval(t),clearInterval(r)}}),[B,$,F]),(0,t.useEffect)((()=>{D&&V&&!K&&ie()}),[D,V,K]),(0,t.useEffect)((()=>{if(!V)return void U([]);let e=L;B&&"All"!==B&&(e=e.filter((e=>{var t;const r=((null===(t=null==e?void 0:e.feature)||void 0===t?void 0:t.attributes)||{}).made_year;return r&&r.toString()===B}))),$&&"All"!==$&&(e=e.filter((e=>{var t;return((null===(t=null==e?void 0:e.feature)||void 0===t?void 0:t.attributes)||{}).location===$}))),U(e)}),[L,B,$,V]);const ie=()=>x(void 0,void 0,void 0,(function*(){if(D&&r.id&&V)try{const e={where:"1=1",outFields:["name","location","made_year","allowed_users","title_ru","title_uz_c","title_uz_l"],returnGeometry:!0},t=(yield D.load(e,{widgetId:r.id})).filter((e=>{var t;const r=((null===(t=null==e?void 0:e.feature)||void 0===t?void 0:t.attributes)||{}).allowed_users;if(!r)return!1;return r.split(",").map((e=>e.trim().toLowerCase())).includes(V.toLowerCase())})),o=yield Promise.all(t.map((e=>x(void 0,void 0,void 0,(function*(){var t;const r=(null===(t=null==e?void 0:e.feature)||void 0===t?void 0:t.attributes)||{},o=r.OBJECTID||r.objectid||r.id;let a=function(e){if(!e)return null;const t=e.toLowerCase().replace(/\s+/g,"_");return h[t]||null}(r.name||"");return!a&&o&&(a=yield E("https://gis.uzspace.uz/uzspacesrvr/rest/services/Hosted/Depths/FeatureServer",2,o)),a||(a=y),Object.assign(Object.assign({},e),{imageUrl:a})})))));N(o)}catch(e){}}));(0,t.useEffect)((()=>{var e,t;const o=null===(e=r.stateProps)||void 0===e?void 0:e.queryString;if(o){const e=o.match(/region\s*=\s*'(.+?)'/i),r=null!==(t=null==e?void 0:e[1])&&void 0!==t?t:"All";P(r)}}),[null===(n=r.stateProps)||void 0===n?void 0:n.queryString]);const se=t=>{var o;try{localStorage.setItem(j,t)}catch(e){console.error("\u{1f504} Gallery: Error setting selected_dam:",e)}const a=null===(o=r.config)||void 0===o?void 0:o.linkConfig;if(null==a?void 0:a.value)"webAddress"===a.linkType||"WEB_ADDRESS"===a.linkType?window.open(a.value,a.openInNewTab?"_blank":"_self"):"page"!==a.linkType&&"PAGE"!==a.linkType||e.UrlManager.getInstance().changePage(a.value);else try{ne(t)}catch(e){console.error("\u{1f504} Gallery: Error navigating to details:",e)}};return K?(0,e.jsx)("div",{className:"widget-custom jimu-widget dam-gallery",style:{width:"100%",height:"100%",display:"flex",alignItems:"center",justifyContent:"center",textAlign:"center",padding:"40px 20px",fontFamily:"system-ui, -apple-system, sans-serif",background:null!==(i=O(ae.parentBackgroundColor,te))&&void 0!==i?i:"#f8fafc"}},(0,e.jsx)("div",{style:{background:null!==(l=O(null===(s=ae.default)||void 0===s?void 0:s.backgroundColor,te))&&void 0!==l?l:"#ffffff",padding:"32px",borderRadius:"16px",border:"1px solid #e2e8f0",boxShadow:"0 4px 16px rgba(0,0,0,0.1)"}},(0,e.jsx)("p",{style:{margin:"0 0 8px 0",fontWeight:600,fontSize:"18px",color:null!==(u=O(null===(c=ae.default)||void 0===c?void 0:c.textColor,te))&&void 0!==u?u:"#1e293b"}},"ru"===Z?"\u041f\u0440\u043e\u0432\u0435\u0440\u043a\u0430 \u0430\u0432\u0442\u043e\u0440\u0438\u0437\u0430\u0446\u0438\u0438...":"uz"===Z?"Avtorizatsiya tekshirilmoqda...":"\u0410\u0432\u0442\u043e\u0440\u0438\u0437\u0430\u0446\u0438\u044f \u0442\u0435\u043a\u0448\u0438\u0440\u0438\u043b\u043c\u043e\u049b\u0434\u0430..."),(0,e.jsx)("small",{style:{opacity:.7,fontSize:"14px",color:null!==(p=O(null===(d=ae.default)||void 0===d?void 0:d.textColor,te))&&void 0!==p?p:"#64748b"}},"ru"===Z?"\u041f\u043e\u0436\u0430\u043b\u0443\u0439\u0441\u0442\u0430, \u043f\u043e\u0434\u043e\u0436\u0434\u0438\u0442\u0435":"uz"===Z?"Iltimos kuting":"\u0418\u043b\u0442\u0438\u043c\u043e\u0441 \u043a\u0443\u0442\u0438\u043d\u0433"))):V?(0,e.jsx)("div",{className:"widget-custom jimu-widget dam-gallery",style:{width:"100%",height:"100%",overflowY:"auto",fontFamily:"system-ui, -apple-system, sans-serif",background:null!==(w=O(ae.parentBackgroundColor,te))&&void 0!==w?w:"#fafbfc",transition:"background 0.1s"}},(0,e.jsx)(e.DataSourceComponent,{useDataSource:oe,widgetId:r.id,onDataSourceCreated:e=>{H(e)}}),(0,e.jsx)("div",{className:"dam-grid",style:k(ae,te)},M.map(((t,r)=>{var o,a,n,i,s,l,c,u,d,p,f,b,v,m,g,x,h,w,k;const z=(null===(o=null==t?void 0:t.feature)||void 0===o?void 0:o.attributes)||{};let j=z.name||"\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435 \u043d\u0435 \u0443\u043a\u0430\u0437\u0430\u043d\u043e";const C=z.name||"\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435 \u043d\u0435 \u0443\u043a\u0430\u0437\u0430\u043d\u043e";"ru"===Z&&z.title_ru?j=z.title_ru:"uz"===Z&&z.title_uz_l?j=z.title_uz_l:"uzcryl"===Z&&z.title_uz_c&&(j=z.title_uz_c);const I=z.location||"",_=(null===(a=T[I])||void 0===a?void 0:a[Z])||I,E=(z.made_year,t.imageUrl||y),A=J===r,q=null!==(i=null===(n=ae.default)||void 0===n?void 0:n.imageHeight)&&void 0!==i?i:180,D=null!==(l=null===(s=ae.default)||void 0===s?void 0:s.imageRadius)&&void 0!==l?l:8,H=null!==(u=null===(c=ae.default)||void 0===c?void 0:c.imageGap)&&void 0!==u?u:12,L=W(ae,"region",A),N=(W(ae,"year",A),W(ae,"dam",A));return(0,e.jsx)("div",{className:"dam-card",key:r,style:S(ae,A,te),tabIndex:0,onMouseEnter:()=>Y(r),onMouseLeave:()=>Y(null),onClick:()=>se(C),onKeyDown:e=>{"Enter"!==e.key&&" "!==e.key||(e.preventDefault(),se(j))}},(0,e.jsx)("div",{style:{width:"100%",height:q+"px",overflow:"hidden",borderRadius:D+"px",marginBottom:H+"px",position:"relative",background:"#f1f5f9"}},(0,e.jsx)("img",{src:E,alt:j,style:{width:"100%",height:"100%",objectFit:"cover",transition:"transform 0.3s cubic-bezier(0.4, 0, 0.2, 1)",transform:A?"scale(1.15)":"scale(1)"},onError:e=>{e.target.src=y}}),(0,e.jsx)("div",{style:{position:"absolute",bottom:0,left:0,right:0,height:"50%",background:"linear-gradient(transparent, rgba(0,0,0,0.1))",pointerEvents:"none"}})),(0,e.jsx)("div",{style:{width:"100%",textAlign:"left",flex:"1",display:"flex",flexDirection:"column",justifyContent:"flex-start"}},(0,e.jsx)("div",{style:{display:"flex",alignItems:"center",marginBottom:"4px"}},(0,e.jsx)("span",{style:{fontSize:(null!==(d=L.fontSize)&&void 0!==d?d:12)+"px",color:O(L.textColor,te)||(A?O(null===(p=ae.hover)||void 0===p?void 0:p.textColor,te)||"#3b82f6":"#64748b"),fontWeight:null!==(f=L.fontWeight)&&void 0!==f?f:500,lineHeight:L.lineHeight?L.lineHeight.toString():"1.2",letterSpacing:void 0!==L.letterSpacing?L.letterSpacing+"px":"0.025em",textTransform:"uppercase",transition:"color 0.3s ease"}},_)),(0,e.jsx)("div",{style:{fontSize:(null!==(b=N.fontSize)&&void 0!==b?b:14)+"px",fontWeight:null!==(v=N.fontWeight)&&void 0!==v?v:A?null!==(g=null===(m=ae.hover)||void 0===m?void 0:m.fontWeight)&&void 0!==g?g:600:null!==(h=null===(x=ae.default)||void 0===x?void 0:x.fontWeight)&&void 0!==h?h:500,color:O(N.textColor,te)||(A?O(null===(w=ae.hover)||void 0===w?void 0:w.textColor,te)||"#3b82f6":O(null===(k=ae.default)||void 0===k?void 0:k.textColor,te)||"#1e293b"),lineHeight:N.lineHeight?N.lineHeight.toString():"1.4",letterSpacing:void 0!==N.letterSpacing?N.letterSpacing+"px":"normal",transition:"all 0.3s ease",display:"-webkit-box",WebkitLineClamp:2,WebkitBoxOrient:"vertical",overflow:"hidden"}},j)))})))):(0,e.jsx)("div",{className:"widget-custom jimu-widget dam-gallery",style:{width:"100%",height:"100%",display:"flex",alignItems:"center",justifyContent:"center",textAlign:"center",padding:"40px 20px",fontFamily:"system-ui, -apple-system, sans-serif"}},(0,e.jsx)("div",{style:{background:null!==(f=O(ae.parentBackgroundColor,te))&&void 0!==f?f:"#f8fafc",padding:"32px",borderRadius:"16px",border:"1px solid #e2e8f0",boxShadow:"0 4px 16px rgba(0,0,0,0.1)"}},(0,e.jsx)("p",{style:{margin:"0 0 8px 0",fontWeight:600,fontSize:"18px",color:null!==(v=O(null===(b=ae.default)||void 0===b?void 0:b.textColor,te))&&void 0!==v?v:"#1e293b"}},"ru"===Z?"\u041f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044c \u043d\u0435 \u0430\u0432\u0442\u043e\u0440\u0438\u0437\u043e\u0432\u0430\u043d":"uz"===Z?"Foydalanuvchi avtorizatsiya qilinmagan":"\u0424\u043e\u0439\u0434\u0430\u043b\u0430\u043d\u0443\u0432\u0447\u0438 \u0430\u0432\u0442\u043e\u0440\u0438\u0437\u0430\u0446\u0438\u044f \u049b\u0438\u043b\u0438\u043d\u043c\u0430\u0433\u0430\u043d"),(0,e.jsx)("small",{style:{opacity:.7,fontSize:"14px",color:null!==(g=O(null===(m=ae.default)||void 0===m?void 0:m.textColor,te))&&void 0!==g?g:"#64748b"}},"ru"===Z?"\u0412\u043e\u0439\u0434\u0438\u0442\u0435 \u0432 \u0441\u0438\u0441\u0442\u0435\u043c\u0443 \u0434\u043b\u044f \u043f\u0440\u043e\u0441\u043c\u043e\u0442\u0440\u0430 \u043f\u043b\u043e\u0442\u0438\u043d":"uz"===Z?"To'g'onlarni ko'rish uchun tizimga kiring":"\u0422\u045e\u0493\u043e\u043d\u043b\u0430\u0440\u043d\u0438 \u043a\u045e\u0440\u0438\u0448 \u0443\u0447\u0443\u043d \u0442\u0438\u0437\u0438\u043c\u0433\u0430 \u043a\u0438\u0440\u0438\u043d\u0433")))};function H(e){a.p=e}})(),n})())}}}));