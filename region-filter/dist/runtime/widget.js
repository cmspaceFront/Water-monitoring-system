System.register(["jimu-core","jimu-core/react"],(function(e,t){var o={},a={};return{setters:[function(e){o.DataSourceComponent=e.DataSourceComponent,o.UrlManager=e.UrlManager,o.jsx=e.jsx},function(e){a.useEffect=e.useEffect,a.useState=e.useState}],execute:function(){e((()=>{var e={97759:(e,t,o)=>{"use strict";o.d(t,{A:()=>l});var a=o(31601),r=o.n(a),n=o(76314),i=o.n(n)()(r());i.push([e.id,'.dam-gallery{font-family:system-ui,-apple-system,"Segoe UI",sans-serif}.dam-grid{padding:10px}.dam-card{will-change:transform,box-shadow;backface-visibility:hidden;perspective:1000px}.dam-card:focus{outline:2px solid #3b82f6;outline-offset:2px}.dam-card:focus:not(:focus-visible){outline:none}.dam-card img{will-change:transform;backface-visibility:hidden}.dam-card{animation:fadeInUp .6s cubic-bezier(0.4, 0, 0.2, 1) forwards;opacity:0;transform:translateY(20px)}@keyframes fadeInUp{to{opacity:1;transform:translateY(0)}}.dam-card:nth-child(1){animation-delay:.1s}.dam-card:nth-child(2){animation-delay:.2s}.dam-card:nth-child(3){animation-delay:.3s}.dam-card:nth-child(4){animation-delay:.4s}.dam-card:nth-child(5){animation-delay:.5s}.dam-card:nth-child(6){animation-delay:.6s}.dam-card:nth-child(n+7){animation-delay:.7s}@media(max-width: 768px){.dam-grid{grid-template-columns:repeat(auto-fill, minmax(200px, 1fr)) !important;gap:15px !important;padding:5px !important}.dam-card{min-height:240px !important}}@media(max-width: 480px){.dam-grid{grid-template-columns:1fr !important;gap:10px !important}}@media(prefers-reduced-motion: reduce){.dam-card,.dam-card img{animation:none !important;transition:none !important}}@media(prefers-contrast: high){.dam-card{border-width:2px !important;border-color:currentColor !important}}',""]);const l=i},76314:e=>{"use strict";e.exports=function(e){var t=[];return t.toString=function(){return this.map((function(t){var o="",a=void 0!==t[5];return t[4]&&(o+="@supports (".concat(t[4],") {")),t[2]&&(o+="@media ".concat(t[2]," {")),a&&(o+="@layer".concat(t[5].length>0?" ".concat(t[5]):""," {")),o+=e(t),a&&(o+="}"),t[2]&&(o+="}"),t[4]&&(o+="}"),o})).join("")},t.i=function(e,o,a,r,n){"string"==typeof e&&(e=[[null,e,void 0]]);var i={};if(a)for(var l=0;l<this.length;l++){var d=this[l][0];null!=d&&(i[d]=!0)}for(var s=0;s<e.length;s++){var c=[].concat(e[s]);a&&i[c[0]]||(void 0!==n&&(void 0===c[5]||(c[1]="@layer".concat(c[5].length>0?" ".concat(c[5]):""," {").concat(c[1],"}")),c[5]=n),o&&(c[2]?(c[1]="@media ".concat(c[2]," {").concat(c[1],"}"),c[2]=o):c[2]=o),r&&(c[4]?(c[1]="@supports (".concat(c[4],") {").concat(c[1],"}"),c[4]=r):c[4]="".concat(r)),t.push(c))}},t}},31601:e=>{"use strict";e.exports=function(e){return e[1]}},85072:e=>{"use strict";var t=[];function o(e){for(var o=-1,a=0;a<t.length;a++)if(t[a].identifier===e){o=a;break}return o}function a(e,a){for(var n={},i=[],l=0;l<e.length;l++){var d=e[l],s=a.base?d[0]+a.base:d[0],c=n[s]||0,u="".concat(s," ").concat(c);n[s]=c+1;var p=o(u),f={css:d[1],media:d[2],sourceMap:d[3],supports:d[4],layer:d[5]};if(-1!==p)t[p].references++,t[p].updater(f);else{var v=r(f,a);a.byIndex=l,t.splice(l,0,{identifier:u,updater:v,references:1})}i.push(u)}return i}function r(e,t){var o=t.domAPI(t);o.update(e);return function(t){if(t){if(t.css===e.css&&t.media===e.media&&t.sourceMap===e.sourceMap&&t.supports===e.supports&&t.layer===e.layer)return;o.update(e=t)}else o.remove()}}e.exports=function(e,r){var n=a(e=e||[],r=r||{});return function(e){e=e||[];for(var i=0;i<n.length;i++){var l=o(n[i]);t[l].references--}for(var d=a(e,r),s=0;s<n.length;s++){var c=o(n[s]);0===t[c].references&&(t[c].updater(),t.splice(c,1))}n=d}}},77659:e=>{"use strict";var t={};e.exports=function(e,o){var a=function(e){if(void 0===t[e]){var o=document.querySelector(e);if(window.HTMLIFrameElement&&o instanceof window.HTMLIFrameElement)try{o=o.contentDocument.head}catch(e){o=null}t[e]=o}return t[e]}(e);if(!a)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");a.appendChild(o)}},10540:e=>{"use strict";e.exports=function(e){var t=document.createElement("style");return e.setAttributes(t,e.attributes),e.insert(t,e.options),t}},55056:(e,t,o)=>{"use strict";e.exports=function(e){var t=o.nc;t&&e.setAttribute("nonce",t)}},97825:e=>{"use strict";e.exports=function(e){if("undefined"==typeof document)return{update:function(){},remove:function(){}};var t=e.insertStyleElement(e);return{update:function(o){!function(e,t,o){var a="";o.supports&&(a+="@supports (".concat(o.supports,") {")),o.media&&(a+="@media ".concat(o.media," {"));var r=void 0!==o.layer;r&&(a+="@layer".concat(o.layer.length>0?" ".concat(o.layer):""," {")),a+=o.css,r&&(a+="}"),o.media&&(a+="}"),o.supports&&(a+="}");var n=o.sourceMap;n&&"undefined"!=typeof btoa&&(a+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(n))))," */")),t.styleTagTransform(a,e,t.options)}(t,e,o)},remove:function(){!function(e){if(null===e.parentNode)return!1;e.parentNode.removeChild(e)}(t)}}}},41113:e=>{"use strict";e.exports=function(e,t){if(t.styleSheet)t.styleSheet.cssText=e;else{for(;t.firstChild;)t.removeChild(t.firstChild);t.appendChild(document.createTextNode(e))}}},79244:e=>{"use strict";e.exports=o},68972:e=>{"use strict";e.exports=a}},t={};function r(o){var a=t[o];if(void 0!==a)return a.exports;var n=t[o]={id:o,exports:{}};return e[o](n,n.exports,r),n.exports}r.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return r.d(t,{a:t}),t},r.d=(e,t)=>{for(var o in t)r.o(t,o)&&!r.o(e,o)&&Object.defineProperty(e,o,{enumerable:!0,get:t[o]})},r.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),r.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.p="",r.nc=void 0;var n={};return r.p=window.jimuConfig.baseUrl,(()=>{"use strict";r.r(n),r.d(n,{__set_webpack_public_path__:()=>Oe,default:()=>Ne});var e=r(79244),t=r(68972),o=r(85072),a=r.n(o),i=r(97825),l=r.n(i),d=r(77659),s=r.n(d),c=r(55056),u=r.n(c),p=r(10540),f=r.n(p),v=r(41113),b=r.n(v),m=r(97759),g={};g.styleTagTransform=b(),g.setAttributes=u(),g.insert=s().bind(null,"head"),g.domAPI=l(),g.insertStyleElement=f();a()(m.A,g);m.A&&m.A.locals&&m.A.locals;const y=r.p+"4086b9821ab333005fea.webp",h=r.p+"3bd9f8753c25a1e87523.webp",x=r.p+"171cf396beafe049402e.webp",w=r.p+"722d23f2e86109e05435.webp",S=r.p+"173315bf912a28d81316.webp",I=r.p+"64e32a4903b0e4d717ee.webp",z=r.p+"5a6de93eba64bf6c98ab.webp",k=r.p+"160a8d3b2ee49cda5a32.webp",M=r.p+"d9d0d89ab3eb69b29920.webp",j=r.p+"78053df6dcd839f64dc2.webp",A=r.p+"5508907ed248e8aa5ae2.webp",C=r.p+"2ab5753ecbe45c53dc3c.webp",D=r.p+"ad7f60d04c4a95bddda7.webp",T=r.p+"f48742230da90b1aefe4.webp",E=r.p+"2deb7f9f0383a2c75694.webp",_=r.p+"4f9466ba1faa312dbcd1.webp",N=r.p+"d944f7684c904c66e76b.webp",O=r.p+"431f8bf0be1607b74946.webp",W=r.p+"e0715043b5a0997897fe.webp",q=r.p+"7894572af93abb5ca116.webp",L=r.p+"73d26e9fceb2f88ed0ad.webp",H=r.p+"04734e42a4bac7e2b60a.webp",U=r.p+"e002ef1ece71305cbed6.webp",B=r.p+"e458d6af806593c18176.webp",R=r.p+"bca39affe23725cb7190.webp",P=r.p+"89071769dc201f3dab14.webp",Q=r.p+"0b516158b58a8b3504b5.webp",G=r.p+"746a005c8e52aefee8fe.webp",F=r.p+"9fedbf3f8fa9029a3f7e.webp",Y=r.p+"ec8427820d8eb2f915a7.webp",J=r.p+"5ed58f161055beb00993.webp",Z=r.p+"a065e0f057b02e92d9bf.webp",V=r.p+"c167cde90f8c47d45dd9.webp",$=r.p+"e5ae3316db32074a8ea3.webp",X=r.p+"7a3ec2d6305a51060356.webp",K=r.p+"ec7cebc74637f9f29d51.webp",ee=r.p+"93c7cdda0304a4a3c05f.webp",te=r.p+"21d61ce582c1053976cb.webp",oe=r.p+"467be9319d42e0e9c338.webp",ae=r.p+"308c71cc24b560c56b6d.webp",re=r.p+"73432146cc112df00d41.webp",ne=r.p+"f92c426ef1a46fc5060b.webp",ie=r.p+"f34563cc9b39b0f1a620.webp",le=r.p+"1cb9a53fb8314920801f.webp",de=r.p+"fa3945e50b767b95425c.webp",se=r.p+"61537385e42c29fd9c17.webp",ce=r.p+"b15a71528f215876ecec.webp",ue=r.p+"af575a6de2d54b862f80.webp",pe=r.p+"0d20e3bd48339dc9f53c.webp",fe=r.p+"30e94a902a256eabc6a6.webp",ve=r.p+"13c1d1ea9626cf69104c.webp",be=r.p+"e7dc7cb0bd6312b62ed6.webp",me=r.p+"5b5bb25896ccce63d253.webp",ge=r.p+"e169a39140e24e810125.webp",ye=r.p+"aa322090fabd31a7f461.webp";var he=function(e,t,o,a){return new(o||(o=Promise))((function(r,n){function i(e){try{d(a.next(e))}catch(e){n(e)}}function l(e){try{d(a.throw(e))}catch(e){n(e)}}function d(e){var t;e.done?r(e.value):(t=e.value,t instanceof o?t:new o((function(e){e(t)}))).then(i,l)}d((a=a.apply(e,t||[])).next())}))};const xe="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjQwIiBoZWlnaHQ9IjE4MCIgdmlld0JveD0iMCAwIDI0MCAxODAiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+CjxyZWN0IHdpZHRoPSIyNDAiIGhlaWdodD0iMTgwIiBmaWxsPSIjRjFGNUY5Ii8+CjxwYXRoIGQ9Ik0xMjAgOTBDMTIwIDg1LjM1NzIgMTE1LjY0MyA4MSAxMTEgODFDMTEwLjQ0OCA4MSAxMTAgODEuNDQ3NyAxMTAgODJWMTAwQzExMCAxMDAuNTUyIDExMC40NDggMTAxIDExMSAxMDFIMTI5QzEyOS41NTIgMTAxIDEzMCAxMDAuNTUyIDEzMCAxMDBWODJDMTMwIDgxLjQ0NzcgMTI5LjU1MiA4MSAxMjkgODFDMTI0LjM1NyA4MSAxMjAgODUuMzU3MiAxMjAgOTBaIiBmaWxsPSIjOTRBM0Y2Ii8+CjxwYXRoIGQ9Ik0xMTAgMTEwQzExMCAxMDkuNDQ4IDExMC40NDggMTA5IDExMSAxMDlIMTI5QzEyOS41NTIgMTA5IDEzMCAxMDkuNDQ4IDEzMCAxMTBWMjAwQzEzMCAyMDAuNTUyIDEyOS41NTIgMjAxIDEyOSAyMDFIMTExQzExMC40NDggMjAxIDExMCAyMDAuNTUyIDExMCAyMDBWMTEwWiIgZmlsbD0iIzk0QTNGOiIvPgo8L3N2Zz4K",we={yertikan:y,zomin:h,uchqizil:x,varziq:w,yangikurgan:S,topalang:I,tozakol:z,todakol:k,tosinsoy:M,sobirsoy:j,talimarjon:A,toshkent:C,shorsuv:D,shurkul:T,shorabsoy:E,rezaksoy:_,sentabsoy:N,qorovultepa:O,qorgontepa:W,qoratepa:q,qoramurut:L,qorasuv:H,qorabog:U,qalqama:B,qamashi:R,pachkamar:P,oktepa:Q,oqbuloq:G,oqdaryo:F,oqbilol:Y,omondara:J,ohangaron:Z,mominobod:V,nugayli:$,langar:X,koksaroy:K,kokseraksoy:ee,kattakorgon:te,kamongaron:oe,karkidon:ae,jiydalisoy:re,jizzakh:ne,eskiyer:ie,girvansoy:le,hisorak:de,hojamushkent:se,chorvoq:ce,degrez:ue,dehqonobod:pe,chortoq:fe,arnasoy:ve,asaka:be,chimqurgon:me,ahchabsoy:ge,markay_fargona:ye};function Se(e,t,o){var a,r,n,i,l,d,s,c,u,p,f,v,b,m;const g=null!==(a=null==e?void 0:e.default)&&void 0!==a?a:{},y=null!==(r=null==e?void 0:e.hover)&&void 0!==r?r:{},h=t?Object.assign(Object.assign({},g),y):g;return{borderRadius:(null!==(n=h.borderRadius)&&void 0!==n?n:12)+"px",borderWidth:(null!==(i=h.borderWidth)&&void 0!==i?i:1)+"px",borderColor:null!==(l=Ee(h.borderColor,o))&&void 0!==l?l:"#e2e8f0",background:null!==(d=Ee(h.backgroundColor,o))&&void 0!==d?d:"#ffffff",color:null!==(s=Ee(h.textColor,o))&&void 0!==s?s:"#1e293b",padding:(null!==(c=h.padding)&&void 0!==c?c:12)+"px",boxShadow:null!==(u=h.boxShadow)&&void 0!==u?u:"0 2px 8px rgba(0,0,0,0.1)",minHeight:(null!==(p=h.cardHeight)&&void 0!==p?p:280)+"px",minWidth:(null!==(f=h.cardWidth)&&void 0!==f?f:240)+"px",borderStyle:"solid",fontSize:(null!==(v=h.fontSize)&&void 0!==v?v:14)+"px",fontWeight:null!==(b=h.fontWeight)&&void 0!==b?b:500,outline:"none",transition:"all 0.3s cubic-bezier(0.4, 0, 0.2, 1)",cursor:"pointer",display:"flex",flexDirection:"column",alignItems:"stretch",overflow:"hidden",position:"relative",transform:t?null!==(m=y.transform)&&void 0!==m?m:"translateY(-2px)":"translateY(0)"}}function Ie(e,t){var o,a,r,n,i;const l=null!==(a=null===(o=null==e?void 0:e.default)||void 0===o?void 0:o.gap)&&void 0!==a?a:20;return{display:"grid",gridTemplateColumns:`repeat(auto-fill, minmax(${null!==(n=null===(r=null==e?void 0:e.default)||void 0===r?void 0:r.cardWidth)&&void 0!==n?n:240}px, 1fr))`,gap:l+"px",alignItems:"stretch",justifyItems:"center",width:"100%",boxSizing:"border-box",padding:"10px",background:null!==(i=Ee(null==e?void 0:e.parentBackgroundColor,t))&&void 0!==i?i:"#fafbfc",transition:"background 0.1s"}}const ze="selected-year",ke="selected_dam",Me="selected-region";function je(e){return localStorage.getItem(e)}function Ae(){try{const e=localStorage.getItem("exb_auth");if(e)try{const t=JSON.parse(e);if(t.email)return t.email;if(t.user&&t.user.email)return t.user.email;if(t.username&&t.username.includes("@"))return t.username}catch(e){}const t=Object.keys(localStorage).filter((e=>e.includes("portalApp")||e.includes("portal")||e.includes("token")||e.includes("credential")));for(const e of t)try{const t=localStorage.getItem(e),o=JSON.parse(t||"{}");if(o.email)return o.email}catch(e){continue}const o=Object.keys(localStorage);for(const e of o)try{const t=localStorage.getItem(e);if(t&&(t.includes('"email"')||t.includes("farhodmf")||t.includes("@"))){const e=JSON.parse(t);if(e.email)return e.email}}catch(t){const o=localStorage.getItem(e);if(o&&o.includes("@")&&o.length<100)return o;continue}return null}catch(e){return console.error("\u{1f510} Gallery: Error extracting user email:",e),null}}const Ce={"\u049a\u043e\u0440\u0430\u049b\u0430\u043b\u043f\u043e\u0493\u0438\u0441\u0442\u043e\u043d \u0420\u0435\u0441\u043f\u0443\u0431\u043b\u0438\u043a\u0430\u0441\u0438":{ru:"\u0420\u0435\u0441\u043f\u0443\u0431\u043b\u0438\u043a\u0430 \u041a\u0430\u0440\u0430\u043a\u0430\u043b\u043f\u0430\u043a\u0441\u0442\u0430\u043d",uz:"Qoraqalpogiston Respublikasi",uzcryl:"\u049a\u043e\u0440\u0430\u049b\u0430\u043b\u043f\u043e\u0493\u0438\u0441\u0442\u043e\u043d \u0420\u0435\u0441\u043f\u0443\u0431\u043b\u0438\u043a\u0430\u0441\u0438"},"\u0410\u043d\u0434\u0438\u0436\u043e\u043d \u0432\u0438\u043b\u043e\u044f\u0442\u0438":{ru:"\u0410\u043d\u0434\u0438\u0436\u0430\u043d\u0441\u043a\u0430\u044f \u043e\u0431\u043b\u0430\u0441\u0442\u044c",uz:"Andijon viloyati",uzcryl:"\u0410\u043d\u0434\u0438\u0436\u043e\u043d \u0432\u0438\u043b\u043e\u044f\u0442\u0438"},"\u0411\u0443\u0445\u043e\u0440\u043e \u0432\u0438\u043b\u043e\u044f\u0442\u0438":{ru:"\u0411\u0443\u0445\u0430\u0440\u0441\u043a\u0430\u044f \u043e\u0431\u043b\u0430\u0441\u0442\u044c",uz:"Buxoro viloyati",uzcryl:"\u0411\u0443\u0445\u043e\u0440\u043e \u0432\u0438\u043b\u043e\u044f\u0442\u0438"},"\u0424\u0430\u0440\u0493\u043e\u043d\u0430 \u0432\u0438\u043b\u043e\u044f\u0442\u0438":{ru:"\u0424\u0435\u0440\u0433\u0430\u043d\u0441\u043a\u0430\u044f \u043e\u0431\u043b\u0430\u0441\u0442\u044c",uz:"Fargona viloyati",uzcryl:"\u0424\u0430\u0440\u0493\u043e\u043d\u0430 \u0432\u0438\u043b\u043e\u044f\u0442\u0438"},"\u0416\u0438\u0437\u0437\u0430\u0445 \u0432\u0438\u043b\u043e\u044f\u0442\u0438":{ru:"\u0414\u0436\u0438\u0437\u0430\u043a\u0441\u043a\u0430\u044f \u043e\u0431\u043b\u0430\u0441\u0442\u044c",uz:"Jizzax viloyati",uzcryl:"\u0416\u0438\u0437\u0437\u0430\u0445 \u0432\u0438\u043b\u043e\u044f\u0442\u0438"},"\u0425\u043e\u0440\u0430\u0437\u043c \u0432\u0438\u043b\u043e\u044f\u0442\u0438":{ru:"\u0425\u043e\u0440\u0435\u0437\u043c\u0441\u043a\u0430\u044f \u043e\u0431\u043b\u0430\u0441\u0442\u044c",uz:"Xorazm viloyati",uzcryl:"\u0425\u043e\u0440\u0430\u0437\u043c \u0432\u0438\u043b\u043e\u044f\u0442\u0438"},"\u041d\u0430\u043c\u0430\u043d\u0433\u0430\u043d \u0432\u0438\u043b\u043e\u044f\u0442\u0438":{ru:"\u041d\u0430\u043c\u0430\u043d\u0433\u0430\u043d\u0441\u043a\u0430\u044f \u043e\u0431\u043b\u0430\u0441\u0442\u044c",uz:"Namangan viloyati",uzcryl:"\u041d\u0430\u043c\u0430\u043d\u0433\u0430\u043d \u0432\u0438\u043b\u043e\u044f\u0442\u0438"},"\u041d\u0430\u0432\u043e\u0438\u0439 \u0432\u0438\u043b\u043e\u044f\u0442\u0438":{ru:"\u041d\u0430\u0432\u043e\u0438\u0439\u0441\u043a\u0430\u044f \u043e\u0431\u043b\u0430\u0441\u0442\u044c",uz:"Navoiy viloyati",uzcryl:"\u041d\u0430\u0432\u043e\u0438\u0439 \u0432\u0438\u043b\u043e\u044f\u0442\u0438"},"\u049a\u0430\u0448\u049b\u0430\u0434\u0430\u0440\u0451 \u0432\u0438\u043b\u043e\u044f\u0442\u0438":{ru:"\u041a\u0430\u0448\u043a\u0430\u0434\u0430\u0440\u044c\u0438\u043d\u0441\u043a\u0430\u044f \u043e\u0431\u043b\u0430\u0441\u0442\u044c",uz:"Qashqadaryo viloyati",uzcryl:"\u049a\u0430\u0448\u049b\u0430\u0434\u0430\u0440\u0451 \u0432\u0438\u043b\u043e\u044f\u0442\u0438"},"\u0421\u0430\u043c\u0430\u0440\u049b\u0430\u043d\u0434 \u0432\u0438\u043b\u043e\u044f\u0442\u0438":{ru:"\u0421\u0430\u043c\u0430\u0440\u043a\u0430\u043d\u0434\u0441\u043a\u0430\u044f \u043e\u0431\u043b\u0430\u0441\u0442\u044c",uz:"Samarqand viloyati",uzcryl:"\u0421\u0430\u043c\u0430\u0440\u049b\u0430\u043d\u0434 \u0432\u0438\u043b\u043e\u044f\u0442\u0438"},"\u0421\u0438\u0440\u0434\u0430\u0440\u0451 \u0432\u0438\u043b\u043e\u044f\u0442\u0438":{ru:"\u0421\u044b\u0440\u0434\u0430\u0440\u044c\u0438\u043d\u0441\u043a\u0430\u044f \u043e\u0431\u043b\u0430\u0441\u0442\u044c",uz:"Sirdaryo viloyati",uzcryl:"\u0421\u0438\u0440\u0434\u0430\u0440\u0451 \u0432\u0438\u043b\u043e\u044f\u0442\u0438"},"\u0421\u0443\u0440\u0445\u043e\u043d\u0434\u0430\u0440\u0451 \u0432\u0438\u043b\u043e\u044f\u0442\u0438":{ru:"\u0421\u0443\u0440\u0445\u0430\u043d\u0434\u0430\u0440\u044c\u0438\u043d\u0441\u043a\u0430\u044f \u043e\u0431\u043b\u0430\u0441\u0442\u044c",uz:"Surxondaryo viloyati",uzcryl:"\u0421\u0443\u0440\u0445\u043e\u043d\u0434\u0430\u0440\u0451 \u0432\u0438\u043b\u043e\u044f\u0442\u0438"},"\u0422\u043e\u0448\u043a\u0435\u043d\u0442 \u0432\u0438\u043b\u043e\u044f\u0442\u0438":{ru:"\u0422\u0430\u0448\u043a\u0435\u043d\u0442\u0441\u043a\u0430\u044f \u043e\u0431\u043b\u0430\u0441\u0442\u044c",uz:"Toshkent viloyati",uzcryl:"\u0422\u043e\u0448\u043a\u0435\u043d\u0442 \u0432\u0438\u043b\u043e\u044f\u0442\u0438"},"\u0422\u043e\u0448\u043a\u0435\u043d\u0442 \u0448\u0430\u04b3\u0440\u0438":{ru:"\u0413\u043e\u0440\u043e\u0434 \u0422\u0430\u0448\u043a\u0435\u043d\u0442",uz:"Toshkent shahri",uzcryl:"\u0422\u043e\u0448\u043a\u0435\u043d\u0442 \u0448\u0430\u04b3\u0440\u0438"}};function De(){const e=localStorage.getItem("custom_locale");return"ru"===e||"uz"===e||"uzcryl"===e?e:"ru"}function Te(){return"dark"===localStorage.getItem("customTheme")?"dark":"light"}function Ee(e,t){var o,a;return e&&"object"==typeof e&&(e.light||e.dark)?null!==(a=null!==(o=e[t])&&void 0!==o?o:e.light)&&void 0!==a?a:e.dark:e}function _e(e,t,o,a){var r,n;const i=(null===(r=null==e?void 0:e.default)||void 0===r?void 0:r[`${t}Typography`])||{},l=o&&(null===(n=null==e?void 0:e.hover)||void 0===n?void 0:n[`${t}Typography`])||{};return Object.assign(Object.assign({},i),l)}const Ne=o=>{var a,r,n,i,l,d,s,c,u,p,f,v,b,m,g,y;const[h,x]=(0,t.useState)(),[w,S]=(0,t.useState)([]),[I,z]=(0,t.useState)([]),[k,M]=(0,t.useState)("All"),[j,A]=(0,t.useState)(null),[C,D]=(0,t.useState)(null),[T,E]=(0,t.useState)(null),[_,N]=(0,t.useState)(null),[O,W]=(0,t.useState)(!0),[q,L]=(0,t.useState)(De()),[H,U]=(0,t.useState)(Te());(0,t.useEffect)((()=>{!function(){he(this,void 0,void 0,(function*(){W(!0);try{const e=yield function(){return he(this,arguments,void 0,(function*(e=3,t=1e3){let o=Ae();if(o)return o;for(let a=1;a<=e;a++)if(yield new Promise((e=>setTimeout(e,t))),o=Ae(),o)return o;return null}))}(3,1e3);N(e)}catch(e){console.error("\u{1f510} Gallery: Authentication error:",e),N(null)}finally{W(!1)}}))}()}),[]),(0,t.useEffect)((()=>{if(_||O)return;const e=setInterval((()=>{const t=Ae();t&&(N(t),clearInterval(e))}),2e3),t=setTimeout((()=>{clearInterval(e)}),3e4);return()=>{clearInterval(e),clearTimeout(t)}}),[_,O]),(0,t.useEffect)((()=>{localStorage.removeItem(ke),A(je(ze)),M(je(Me)||"All"),D(null)}),[]),(0,t.useEffect)((()=>{let e=De();const t=e=>{if("custom_locale"===e.key){const e=De();L(e)}};window.addEventListener("storage",t);const o=setInterval((()=>{const t=De();t!==e&&(e=t,L(t))}),300);return()=>{window.removeEventListener("storage",t),clearInterval(o)}}),[]),(0,t.useEffect)((()=>{let e=Te();const t=e=>{if("customTheme"===e.key){const e=Te();U(e)}};window.addEventListener("storage",t);const o=setInterval((()=>{const t=Te();t!==e&&(e=t,U(t))}),300);return()=>{window.removeEventListener("storage",t),clearInterval(o)}}),[]);const B=null===(a=o.useDataSources)||void 0===a?void 0:a[0],R=(null===(r=o.config)||void 0===r?void 0:r.cardStyle)||{default:{borderRadius:12,borderWidth:1,borderColor:"#e2e8f0",backgroundColor:"#ffffff",textColor:"#1e293b",fontSize:14,fontWeight:500,cardHeight:280,cardWidth:240,padding:12,gap:20,imageHeight:180,imageRadius:8,imageGap:12,boxShadow:"0 2px 8px rgba(0,0,0,0.1)"},hover:{borderColor:"#3b82f6",backgroundColor:"#f8fafc",textColor:"#3b82f6",fontWeight:600,boxShadow:"0 8px 25px rgba(59,130,246,0.15)",transform:"translateY(-2px)"},parentBackgroundColor:{light:"#fafbfc",dark:"#18181b"}},P=e=>{const t=`/experience/1/page/dam-details?${new URLSearchParams({draft:"true",name:e}).toString()}`;window.jimuHistory&&"function"==typeof window.jimuHistory.push?window.jimuHistory.push(t):window.location.href=t};(0,t.useEffect)((()=>{let e,t,o;function a(e){switch(e.key){case ze:A(e.newValue);break;case Me:M(e.newValue||"All");break;case ke:e.newValue&&P(e.newValue),D(e.newValue)}}return window.addEventListener("storage",a),e=setInterval((()=>{const e=je(ze);e!==j&&A(e)}),100),t=setInterval((()=>{const e=je(Me)||"All";e!==k&&M(e)}),100),o=setInterval((()=>{const e=je(ke);e!==C&&(e&&P(e),D(e))}),100),()=>{window.removeEventListener("storage",a),clearInterval(e),clearInterval(t),clearInterval(o)}}),[j,k,C]),(0,t.useEffect)((()=>{h&&_&&!O&&Q()}),[h,_,O]),(0,t.useEffect)((()=>{if(!_)return void z([]);let e=w;j&&"All"!==j&&(e=e.filter((e=>{var t;const o=((null===(t=null==e?void 0:e.feature)||void 0===t?void 0:t.attributes)||{}).made_year;return o&&o.toString()===j}))),k&&"All"!==k&&(e=e.filter((e=>{var t;return((null===(t=null==e?void 0:e.feature)||void 0===t?void 0:t.attributes)||{}).location===k}))),z(e)}),[w,j,k,_]);const Q=()=>he(void 0,void 0,void 0,(function*(){if(h&&o.id&&_)try{const e={where:"1=1",outFields:["name","location","made_year","allowed_users","title_ru","title_uz_c","title_uz_l"],returnGeometry:!0},t=(yield h.load(e,{widgetId:o.id})).filter((e=>{var t;const o=((null===(t=null==e?void 0:e.feature)||void 0===t?void 0:t.attributes)||{}).allowed_users;if(!o)return!1;return o.split(",").map((e=>e.trim().toLowerCase())).includes(_.toLowerCase())})),a=t.map((e=>{var t;const o=function(e){if(!e)return null;const t=e.toLowerCase().replace(/\s+/g,"_");return we[t]||null}(((null===(t=null==e?void 0:e.feature)||void 0===t?void 0:t.attributes)||{}).name||"")||xe;return Object.assign(Object.assign({},e),{imageUrl:o})}));S(a)}catch(e){}}));(0,t.useEffect)((()=>{var e,t;const a=null===(e=o.stateProps)||void 0===e?void 0:e.queryString;if(a){const e=a.match(/region\s*=\s*'(.+?)'/i),o=null!==(t=null==e?void 0:e[1])&&void 0!==t?t:"All";M(o)}}),[null===(n=o.stateProps)||void 0===n?void 0:n.queryString]);const G=t=>{var a;try{localStorage.setItem(ke,t)}catch(e){console.error("\u{1f504} Gallery: Error setting selected_dam:",e)}const r=null===(a=o.config)||void 0===a?void 0:a.linkConfig;if(null==r?void 0:r.value)"webAddress"===r.linkType||"WEB_ADDRESS"===r.linkType?window.open(r.value,r.openInNewTab?"_blank":"_self"):"page"!==r.linkType&&"PAGE"!==r.linkType||e.UrlManager.getInstance().changePage(r.value);else try{P(t)}catch(e){console.error("\u{1f504} Gallery: Error navigating to details:",e)}};return O?(0,e.jsx)("div",{className:"widget-custom jimu-widget dam-gallery",style:{width:"100%",height:"100%",display:"flex",alignItems:"center",justifyContent:"center",textAlign:"center",padding:"40px 20px",fontFamily:"system-ui, -apple-system, sans-serif",background:null!==(i=Ee(R.parentBackgroundColor,H))&&void 0!==i?i:"#f8fafc"}},(0,e.jsx)("div",{style:{background:null!==(d=Ee(null===(l=R.default)||void 0===l?void 0:l.backgroundColor,H))&&void 0!==d?d:"#ffffff",padding:"32px",borderRadius:"16px",border:"1px solid #e2e8f0",boxShadow:"0 4px 16px rgba(0,0,0,0.1)"}},(0,e.jsx)("p",{style:{margin:"0 0 8px 0",fontWeight:600,fontSize:"18px",color:null!==(c=Ee(null===(s=R.default)||void 0===s?void 0:s.textColor,H))&&void 0!==c?c:"#1e293b"}},"ru"===q?"\u041f\u0440\u043e\u0432\u0435\u0440\u043a\u0430 \u0430\u0432\u0442\u043e\u0440\u0438\u0437\u0430\u0446\u0438\u0438...":"uz"===q?"Avtorizatsiya tekshirilmoqda...":"\u0410\u0432\u0442\u043e\u0440\u0438\u0437\u0430\u0446\u0438\u044f \u0442\u0435\u043a\u0448\u0438\u0440\u0438\u043b\u043c\u043e\u049b\u0434\u0430..."),(0,e.jsx)("small",{style:{opacity:.7,fontSize:"14px",color:null!==(p=Ee(null===(u=R.default)||void 0===u?void 0:u.textColor,H))&&void 0!==p?p:"#64748b"}},"ru"===q?"\u041f\u043e\u0436\u0430\u043b\u0443\u0439\u0441\u0442\u0430, \u043f\u043e\u0434\u043e\u0436\u0434\u0438\u0442\u0435":"uz"===q?"Iltimos kuting":"\u0418\u043b\u0442\u0438\u043c\u043e\u0441 \u043a\u0443\u0442\u0438\u043d\u0433"))):_?(0,e.jsx)("div",{className:"widget-custom jimu-widget dam-gallery",style:{width:"100%",height:"100%",overflowY:"auto",fontFamily:"system-ui, -apple-system, sans-serif",background:null!==(y=Ee(R.parentBackgroundColor,H))&&void 0!==y?y:"#fafbfc",transition:"background 0.1s"}},(0,e.jsx)(e.DataSourceComponent,{useDataSource:B,widgetId:o.id,onDataSourceCreated:e=>{x(e)}}),(0,e.jsx)("div",{className:"dam-grid",style:Ie(R,H)},I.map(((t,o)=>{var a,r,n,i,l,d,s,c,u,p,f,v,b,m,g,y,h,x,w;const S=(null===(a=null==t?void 0:t.feature)||void 0===a?void 0:a.attributes)||{};let I=S.name||"\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435 \u043d\u0435 \u0443\u043a\u0430\u0437\u0430\u043d\u043e";const z=S.name||"\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435 \u043d\u0435 \u0443\u043a\u0430\u0437\u0430\u043d\u043e";"ru"===q&&S.title_ru?I=S.title_ru:"uz"===q&&S.title_uz_l?I=S.title_uz_l:"uzcryl"===q&&S.title_uz_c&&(I=S.title_uz_c);const k=S.location||"",M=(null===(r=Ce[k])||void 0===r?void 0:r[q])||k,j=(S.made_year,t.imageUrl||xe),A=T===o,C=null!==(i=null===(n=R.default)||void 0===n?void 0:n.imageHeight)&&void 0!==i?i:180,D=null!==(d=null===(l=R.default)||void 0===l?void 0:l.imageRadius)&&void 0!==d?d:8,_=null!==(c=null===(s=R.default)||void 0===s?void 0:s.imageGap)&&void 0!==c?c:12,N=_e(R,"region",A),O=(_e(R,"year",A),_e(R,"dam",A));return(0,e.jsx)("div",{className:"dam-card",key:o,style:Se(R,A,H),tabIndex:0,onMouseEnter:()=>E(o),onMouseLeave:()=>E(null),onClick:()=>G(z),onKeyDown:e=>{"Enter"!==e.key&&" "!==e.key||(e.preventDefault(),G(I))}},(0,e.jsx)("div",{style:{width:"100%",height:C+"px",overflow:"hidden",borderRadius:D+"px",marginBottom:_+"px",position:"relative",background:"#f1f5f9"}},(0,e.jsx)("img",{src:j,alt:I,style:{width:"100%",height:"100%",objectFit:"cover",transition:"transform 0.3s cubic-bezier(0.4, 0, 0.2, 1)",transform:A?"scale(1.15)":"scale(1)"},onError:e=>{e.target.src=xe}}),(0,e.jsx)("div",{style:{position:"absolute",bottom:0,left:0,right:0,height:"50%",background:"linear-gradient(transparent, rgba(0,0,0,0.1))",pointerEvents:"none"}})),(0,e.jsx)("div",{style:{width:"100%",textAlign:"left",flex:"1",display:"flex",flexDirection:"column",justifyContent:"flex-start"}},(0,e.jsx)("div",{style:{display:"flex",alignItems:"center",marginBottom:"4px"}},(0,e.jsx)("span",{style:{fontSize:(null!==(u=N.fontSize)&&void 0!==u?u:12)+"px",color:Ee(N.textColor,H)||(A?Ee(null===(p=R.hover)||void 0===p?void 0:p.textColor,H)||"#3b82f6":"#64748b"),fontWeight:null!==(f=N.fontWeight)&&void 0!==f?f:500,lineHeight:N.lineHeight?N.lineHeight.toString():"1.2",letterSpacing:void 0!==N.letterSpacing?N.letterSpacing+"px":"0.025em",textTransform:"uppercase",transition:"color 0.3s ease"}},M)),(0,e.jsx)("div",{style:{fontSize:(null!==(v=O.fontSize)&&void 0!==v?v:14)+"px",fontWeight:null!==(b=O.fontWeight)&&void 0!==b?b:A?null!==(g=null===(m=R.hover)||void 0===m?void 0:m.fontWeight)&&void 0!==g?g:600:null!==(h=null===(y=R.default)||void 0===y?void 0:y.fontWeight)&&void 0!==h?h:500,color:Ee(O.textColor,H)||(A?Ee(null===(x=R.hover)||void 0===x?void 0:x.textColor,H)||"#3b82f6":Ee(null===(w=R.default)||void 0===w?void 0:w.textColor,H)||"#1e293b"),lineHeight:O.lineHeight?O.lineHeight.toString():"1.4",letterSpacing:void 0!==O.letterSpacing?O.letterSpacing+"px":"normal",transition:"all 0.3s ease",display:"-webkit-box",WebkitLineClamp:2,WebkitBoxOrient:"vertical",overflow:"hidden"}},I)))})))):(0,e.jsx)("div",{className:"widget-custom jimu-widget dam-gallery",style:{width:"100%",height:"100%",display:"flex",alignItems:"center",justifyContent:"center",textAlign:"center",padding:"40px 20px",fontFamily:"system-ui, -apple-system, sans-serif"}},(0,e.jsx)("div",{style:{background:null!==(f=Ee(R.parentBackgroundColor,H))&&void 0!==f?f:"#f8fafc",padding:"32px",borderRadius:"16px",border:"1px solid #e2e8f0",boxShadow:"0 4px 16px rgba(0,0,0,0.1)"}},(0,e.jsx)("p",{style:{margin:"0 0 8px 0",fontWeight:600,fontSize:"18px",color:null!==(b=Ee(null===(v=R.default)||void 0===v?void 0:v.textColor,H))&&void 0!==b?b:"#1e293b"}},"ru"===q?"\u041f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044c \u043d\u0435 \u0430\u0432\u0442\u043e\u0440\u0438\u0437\u043e\u0432\u0430\u043d":"uz"===q?"Foydalanuvchi avtorizatsiya qilinmagan":"\u0424\u043e\u0439\u0434\u0430\u043b\u0430\u043d\u0443\u0432\u0447\u0438 \u0430\u0432\u0442\u043e\u0440\u0438\u0437\u0430\u0446\u0438\u044f \u049b\u0438\u043b\u0438\u043d\u043c\u0430\u0433\u0430\u043d"),(0,e.jsx)("small",{style:{opacity:.7,fontSize:"14px",color:null!==(g=Ee(null===(m=R.default)||void 0===m?void 0:m.textColor,H))&&void 0!==g?g:"#64748b"}},"ru"===q?"\u0412\u043e\u0439\u0434\u0438\u0442\u0435 \u0432 \u0441\u0438\u0441\u0442\u0435\u043c\u0443 \u0434\u043b\u044f \u043f\u0440\u043e\u0441\u043c\u043e\u0442\u0440\u0430 \u043f\u043b\u043e\u0442\u0438\u043d":"uz"===q?"To'g'onlarni ko'rish uchun tizimga kiring":"\u0422\u045e\u0493\u043e\u043d\u043b\u0430\u0440\u043d\u0438 \u043a\u045e\u0440\u0438\u0448 \u0443\u0447\u0443\u043d \u0442\u0438\u0437\u0438\u043c\u0433\u0430 \u043a\u0438\u0440\u0438\u043d\u0433")))};function Oe(e){r.p=e}})(),n})())}}}));